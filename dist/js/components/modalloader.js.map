{"version":3,"file":"modalloader.js","sources":["../../../src/js/common/events/index.js","../../../src/js/common/events/dispatch.js","../../../src/js/common/utils/index.js","../../../src/js/components/componentManager.js","../../../src/js/components/component.js","../../../src/js/components/modal/index.js","../../../src/js/components/loader/index.js","../../../src/js/components/modal/loader.js"],"sourcesContent":["// @todo keep ?\nif (typeof window !== 'undefined') {\n  window.addEventListener('error', () => {\n    console.error('An error has occured! You can pen an issue here: https://github.com/quark-dev/Phonon-Framework/issues')\n  })\n}\n\n// Use available events\nlet availableEvents = ['mousedown', 'mousemove', 'mouseup']\nlet touchScreen = false\n\nif (typeof window !== 'undefined') {\n  if (('ontouchstart' in window) || window.DocumentTouch && document instanceof DocumentTouch) {\n    touchScreen = true\n    availableEvents = ['touchstart', 'touchmove', 'touchend', 'touchcancel']\n  }\n\n  if (window.navigator.pointerEnabled) {\n    availableEvents = ['pointerdown', 'pointermove', 'pointerup', 'pointercancel']\n  } else if (window.navigator.msPointerEnabled) {\n    availableEvents = ['MSPointerDown', 'MSPointerMove', 'MSPointerUp', 'MSPointerCancel']\n  }\n}\n\nconst el = document.createElement('div')\nconst transitions = [\n  { name: 'transition', start: 'transitionstart', end: 'transitionend' },\n  { name: 'MozTransition', start: 'transitionstart', end: 'transitionend' },\n  { name: 'msTransition', start: 'msTransitionStart', end: 'msTransitionEnd' },\n  { name: 'WebkitTransition', start: 'webkitTransitionStart', end: 'webkitTransitionEnd' },\n]\nconst animations = [\n  { name: 'animation', start: 'animationstart', end: 'animationend' },\n  { name: 'MozAnimation', start: 'animationstart', end: 'animationend' },\n  { name: 'msAnimation', start: 'msAnimationStart', end: 'msAnimationEnd' },\n  { name: 'WebkitAnimation', start: 'webkitAnimationStart', end: 'webkitAnimationEnd' },\n]\n\nconst transitionStart = transitions.find(t => el.style[t.name] !== undefined).start\nconst transitionEnd = transitions.find(t => el.style[t.name] !== undefined).end\nconst animationStart = animations.find(t => el.style[t.name] !== undefined).start\nconst animationEnd = animations.find(t => el.style[t.name] !== undefined).end\n\nexport default {\n  // touch screen support\n  TOUCH_SCREEN: touchScreen,\n\n  // network\n  NETWORK_ONLINE: 'online',\n  NETWORK_OFFLINE: 'offline',\n  NETWORK_RECONNECTING: 'reconnecting',\n  NETWORK_RECONNECTING_SUCCESS: 'reconnect.success',\n  NETWORK_RECONNECTING_FAILURE: 'reconnect.failure',\n\n  // user interface states\n  SHOW: 'show',\n  SHOWN: 'shown',\n  HIDE: 'hide',\n  HIDDEN: 'hidden',\n\n  // hash\n  HASH: 'hash',\n\n  // touch, mouse and pointer events polyfill\n  START: availableEvents[0],\n  MOVE: availableEvents[1],\n  END: availableEvents[2],\n  CANCEL: typeof availableEvents[3] === 'undefined' ? null : availableEvents[3],\n\n  // click\n  CLICK: 'click',\n\n  // transitions\n  TRANSITION_START: transitionStart,\n  TRANSITION_END: transitionEnd,\n\n  // animations\n  ANIMATION_START: animationStart,\n  ANIMATION_END: animationEnd,\n\n  // dropdown\n  ITEM_SELECTED: 'itemSelected',\n}\n","export function dispatchWinDocEvent(eventName, moduleName, detail = {}) {\n  const fullEventName = `${eventName}.ph.${moduleName}`\n  window.dispatchEvent(new CustomEvent(fullEventName, { detail }))\n  document.dispatchEvent(new CustomEvent(fullEventName, { detail }))\n}\n\nexport function dispatchElementEvent(domElement, eventName, moduleName, detail = {}) {\n  const fullEventName = `${eventName}.ph.${moduleName}`\n  domElement.dispatchEvent(new CustomEvent(fullEventName, { detail }))\n}\n\nexport function dispatchPageEvent(eventName, pageName, detail = {}) {\n  const fullEventName = `${pageName}.${eventName}`\n  window.dispatchEvent(new CustomEvent(fullEventName, { detail }))\n  document.dispatchEvent(new CustomEvent(fullEventName, { detail }))\n}\n","\nexport function generateId() {\n  return Math.random().toString(36).substr(2, 10)\n}\n\nexport function findTargetByClass(target, parentClass) {\n  for (; target && target !== document; target = target.parentNode) {\n    if (target.classList.contains(parentClass)) {\n      return target\n    }\n  }\n\n  return null\n}\n\nexport function findTargetById(target, parentId) {\n  for (; target && target !== document; target = target.parentNode) {\n    if (target.getAttribute('id') === parentId) {\n      return target\n    }\n  }\n\n  return null\n}\n\nexport function findTargetByAttr(target, attr) {\n  for (; target && target !== document; target = target.parentNode) {\n    if (target.getAttribute(attr) !== null) {\n      return target\n    }\n  }\n\n  return null\n}\n\nexport function createJqueryPlugin($ = null, name, obj) {\n  if (!$) {\n    return;\n  }\n\n  const mainFn = function (options = {}) {\n    const opts = options;\n    if (this[0]) {\n      opts.element = this[0];\n    }\n\n    return obj.DOMInterface(opts)\n  };\n\n  $.fn[name] = mainFn;\n  $.fn[name].Constructor = obj\n  $.fn[name].noConflict = mainFn;\n}\n","\nconst getAttribute = (first, second) => {\n  if (first === '') {\n    return `data-${second}`\n  }\n  return `data-${first}-${second}`\n}\n\nexport function setAttributesConfig(element, obj = {}, attrs, start = '') {\n  const keys = Object.keys(obj)\n\n  keys.forEach((key) => {\n    if (start === '' && attrs.indexOf(key) === -1) {\n      // continue with next iteration\n      return\n    }\n\n    if (typeof obj[key] === 'object' && obj[key] !== null) {\n      let keyStart = key\n      if (start !== '') {\n        keyStart = `${start}-${key}`\n      }\n\n      setAttributesConfig(element, obj[key], attrs, keyStart)\n      return\n    }\n\n    const attr = getAttribute(start, key)\n    element.setAttribute(attr, obj[key])\n  })\n}\n\nexport function getAttributesConfig(element, obj = {}, attrs, start = '') {\n  const newObj = Object.assign({}, obj)\n  const keys = Object.keys(obj)\n\n  keys.forEach((key) => {\n    if (start === '' && attrs.indexOf(key) === -1) {\n      // continue with next iteration\n      return\n    }\n\n    if (obj[key] !== null && obj[key].constructor === Object) {\n      let keyStart = key\n      if (start !== '') {\n        keyStart = `${start}-${key}`\n      }\n\n      newObj[key] = getAttributesConfig(element, obj[key], attrs, keyStart)\n      return\n    }\n\n    // update value\n    let value = obj[key] // default value\n    const type = typeof value\n    const attr = getAttribute(start, key)\n    const attrValue = element.getAttribute(attr)\n\n    if (attrValue !== null) {\n      if (type === 'boolean') {\n        // convert string to boolean\n        value = attrValue === 'true'\n      } else if (!isNaN(attrValue)) {\n        value = parseInt(attrValue, 10)\n      } else {\n        value = attrValue\n      }\n    }\n\n    newObj[key] = value\n  })\n\n  return newObj\n}\n\nconst stack = []\n\nexport default {\n  add(component) {\n    stack.push(component)\n  },\n  remove(component) {\n    const index = stack.findIndex(c => Object.is(component, c))\n    if (index > -1) {\n      stack.splice(index, 1)\n    }\n  },\n  closable(component) {\n    return stack.length === 0 || Object.is(stack[stack.length - 1], component)\n  },\n};\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT (https://github.com/quark-dev/Phonon-Framework/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\nimport { dispatchElementEvent, dispatchWinDocEvent } from '../common/events/dispatch'\nimport { generateId } from '../common/utils/index'\nimport Event from '../common/events'\nimport ComponentManager, { setAttributesConfig, getAttributesConfig } from './componentManager'\n\n/**\n * ------------------------------------------------------------------------\n * Class Definition\n * ------------------------------------------------------------------------\n */\n\nexport default class Component {\n\n  constructor(name, version, defaultOptions = {}, options = {}, optionAttrs = [], supportDynamicElement = false, addToStack = false) {\n    this.name = name\n    this.version = version\n    this.options = options\n\n    Object.keys(defaultOptions).forEach((prop) => {\n      if (typeof this.options[prop] === 'undefined') {\n        this.options[prop] = defaultOptions[prop]\n      }\n    })\n\n    this.optionAttrs = optionAttrs\n    this.supportDynamicElement = supportDynamicElement\n    this.addToStack = addToStack\n    this.id = generateId()\n\n    const checkElement = !this.supportDynamicElement || this.options.element !== null\n\n    if (typeof this.options.element === 'string') {\n      this.options.element = document.querySelector(this.options.element)\n    }\n\n    if (checkElement && !this.options.element) {\n      throw new Error(`${this.name}. The element is not a HTMLElement.`)\n    }\n\n    this.dynamicElement = this.options.element === null\n    this.registeredElements = []\n\n    if (!this.dynamicElement) {\n      /**\n       * if the element exists, we read the data attributes config\n       * then we overwrite existing config keys defined in JavaScript, so that\n       * we keep the following order\n       * [1] default JavaScript configuration of the component\n       * [2] Data attributes configuration\n       * [3] JavaScript configuration\n       */\n      this.options = Object.assign(this.options, this.assignJsConfig(this.getAttributes(), this.options))\n\n      // then, set the new data attributes to the element\n      this.setAttributes()\n    }\n\n    this.elementListener = event => this.onBeforeElementEvent(event)\n  }\n\n  assignJsConfig(attrConfig, jsConfig) {\n    const config = attrConfig;\n    this.optionAttrs.forEach((key) => {\n      if (typeof jsConfig[key] !== 'undefined') {\n        config[key] = jsConfig[key]\n      }\n    })\n\n    return config\n  }\n\n  getVersion() {\n    return this.version\n  }\n\n  getElement() {\n    return this.options.element\n  }\n\n  getId() {\n    return this.id\n  }\n\n  registerElements(elements) {\n    elements.forEach(element => this.registerElement(element))\n  }\n\n  registerElement(element) {\n    element.target.addEventListener(element.event, this.elementListener)\n    this.registeredElements.push(element)\n  }\n\n  unregisterElements() {\n    this.registeredElements.forEach((element) => {\n      this.unregisterElement(element)\n    })\n  }\n\n  unregisterElement(element) {\n    const registeredElementIndex = this.registeredElements\n      .findIndex(el => el.target === element.target && el.event === element.event)\n\n    if (registeredElementIndex > -1) {\n      element.target.removeEventListener(element.event, this.elementListener)\n      this.registeredElements.splice(registeredElementIndex, 1)\n    } else {\n      console.error(`Warning! Unknown registered element: ${element.target} with event: ${element.event}.`)\n    }\n  }\n\n  triggerEvent(eventName, detail = {}, objectEventOnly = false) {\n    if (typeof eventName !== 'string') {\n      throw new Error('The event name is not valid.')\n    }\n\n    if (this.addToStack) {\n      if (eventName === Event.SHOW) {\n        ComponentManager.add(this)\n      } else if (eventName === Event.HIDE) {\n        ComponentManager.remove(this)\n      }\n    }\n\n    // event names can be with dot notation like reconnecting.success\n    const eventNameObject = eventName.split('.').reduce((acc, current, index) => {\n      if (index === 0) {\n        return current\n      }\n\n      return acc + current.charAt(0).toUpperCase() + current.slice(1)\n    })\n\n    const eventNameAlias = `on${eventNameObject.charAt(0).toUpperCase()}${eventNameObject.slice(1)}`\n\n    // object event\n    if (typeof this.options[eventNameObject] === 'function') {\n      this.options[eventNameObject].apply(this, [detail])\n    }\n\n    if (typeof this.options[eventNameAlias] === 'function') {\n      this.options[eventNameAlias].apply(this, [detail])\n    }\n\n    if (objectEventOnly) {\n      return\n    }\n\n    // dom event\n    if (this.options.element) {\n      dispatchElementEvent(this.options.element, eventName, this.name, detail)\n    } else {\n      dispatchWinDocEvent(eventName, this.name, detail)\n    }\n  }\n\n  setAttributes() {\n    if (this.optionAttrs.length > 0) {\n      setAttributesConfig(this.options.element, this.options, this.optionAttrs)\n    }\n  }\n\n  getAttributes() {\n    const options = Object.assign({}, this.options)\n    return getAttributesConfig(this.options.element, options, this.optionAttrs)\n  }\n\n  /**\n   * the preventClosable method manages concurrency between active components.\n   * For example, if there is a shown off-canvas and modal, the last\n   * shown component gains the processing priority\n   */\n  preventClosable() {\n    return this.addToStack && !ComponentManager.closable(this)\n  }\n\n  onBeforeElementEvent(event) {\n    if (this.preventClosable()) {\n      return\n    }\n\n    this.onElementEvent(event)\n  }\n\n  onElementEvent(event) {\n    //\n  }\n\n  static identifier() {\n    return this.name\n  }\n\n  static DOMInterface(ComponentClass, options) {\n    return new ComponentClass(options)\n  }\n}\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT (https://github.com/quark-dev/Phonon-Framework/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\nimport Event from '../../common/events'\nimport Component from '../component'\nimport { getAttributesConfig } from '../componentManager'\nimport { createJqueryPlugin } from '../../common/utils';\n\nconst Modal = (($) => {\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  const NAME = 'modal'\n  const VERSION = '2.0.0'\n  const BACKDROP_SELECTOR = 'modal-backdrop'\n  const DEFAULT_PROPERTIES = {\n    element: null,\n    title: null,\n    message: null,\n    cancelable: true,\n    type: null,\n    cancelableKeyCodes: [\n      27, // Escape\n      13, // Enter\n    ],\n    buttons: [\n      {\n        event: 'confirm',\n        text: 'Ok',\n        dismiss: true,\n        class: 'btn btn-primary',\n      },\n    ],\n  }\n  const DATA_ATTRS_PROPERTIES = [\n    'cancelable',\n  ]\n\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  class Modal extends Component {\n\n    constructor(options = {}, template = null) {\n      super(NAME, VERSION, DEFAULT_PROPERTIES, options, DATA_ATTRS_PROPERTIES, true, true)\n\n      this.template = template || '' +\n      '<div class=\"modal\" tabindex=\"-1\" role=\"modal\">' +\n        '<div class=\"modal-inner\" role=\"document\">' +\n          '<div class=\"modal-content\">' +\n            '<div class=\"modal-header\">' +\n              '<h5 class=\"modal-title\"></h5>' +\n            '</div>' +\n            '<div class=\"modal-body\">' +\n              '<p></p>' +\n            '</div>' +\n            '<div class=\"modal-footer\">' +\n            '</div>' +\n          '</div>' +\n        '</div>' +\n      '</div>'\n\n      if (this.dynamicElement) {\n        this.build()\n      }\n    }\n\n    build() {\n      const builder = document.createElement('div')\n\n      builder.innerHTML = this.template\n\n      this.options.element = builder.firstChild\n\n      // title\n      if (this.options.title !== null) {\n        this.options.element.querySelector('.modal-title').innerHTML = this.options.title\n      }\n\n      // message\n      if (this.options.message !== null) {\n        this.options.element.querySelector('.modal-body').firstChild.innerHTML = this.options.message\n      } else {\n        // remove paragraph node\n        this.removeTextBody()\n      }\n\n      // buttons\n      if (this.options.buttons !== null && Array.isArray(this.options.buttons)) {\n        if (this.options.buttons.length > 0) {\n          this.options.buttons.forEach((button) => {\n            this.options.element.querySelector('.modal-footer').appendChild(this.buildButton(button))\n          })\n        } else {\n          this.removeFooter()\n        }\n      } else {\n        this.removeFooter()\n      }\n\n      document.body.appendChild(this.options.element)\n\n      this.setAttributes()\n    }\n\n    buildButton(buttonInfo = {}) {\n      const button = document.createElement('button')\n      button.setAttribute('type', 'button')\n      button.setAttribute('class', buttonInfo.class || 'btn')\n      button.setAttribute('data-event', buttonInfo.event)\n      button.innerHTML = buttonInfo.text\n\n      if (buttonInfo.dismiss) {\n        button.setAttribute('data-dismiss', NAME)\n      }\n\n      return button\n    }\n\n    buildBackdrop() {\n      const backdrop = document.createElement('div')\n      backdrop.setAttribute('data-id', this.id)\n      backdrop.classList.add(BACKDROP_SELECTOR)\n\n      document.body.appendChild(backdrop)\n    }\n\n    getBackdrop() {\n      return document.querySelector(`.${BACKDROP_SELECTOR}[data-id=\"${this.id}\"]`)\n    }\n\n    removeTextBody() {\n      this.options.element.querySelector('.modal-body').removeChild(this.options.element.querySelector('.modal-body').firstChild)\n    }\n\n    removeFooter() {\n      const footer = this.options.element.querySelector('.modal-footer')\n      this.options.element.querySelector('.modal-content').removeChild(footer)\n    }\n\n    center() {\n      const computedStyle = window.getComputedStyle(this.options.element)\n      const height = computedStyle.height.slice(0, computedStyle.height.length - 2)\n\n      const top = (window.innerHeight / 2) - (height / 2)\n      this.options.element.style.top = `${top}px`\n    }\n\n    show() {\n      if (this.options.element === null) {\n        // build and insert a new DOM element\n        this.build()\n      }\n\n      if (this.options.element.classList.contains('show')) {\n        return false\n      }\n\n      // add a timeout so that the CSS animation works\n      setTimeout(() => {\n        this.triggerEvent(Event.SHOW)\n        this.buildBackdrop()\n\n        // attach event\n        this.attachEvents()\n\n        const onShown = () => {\n          this.triggerEvent(Event.SHOWN)\n          this.options.element.removeEventListener(Event.TRANSITION_END, onShown)\n        }\n\n        this.options.element.addEventListener(Event.TRANSITION_END, onShown)\n\n        this.options.element.classList.add('show')\n\n        this.center()\n      }, 10)\n\n      return true\n    }\n\n    onElementEvent(event) {\n      // keyboard event (escape and enter)\n      if (event.type === 'keyup') {\n        if (this.options.cancelableKeyCodes.find(k => k === event.keyCode)) {\n          this.hide()\n        }\n        return\n      }\n\n      // backdrop event\n      if (event.type === Event.START) {\n        // hide the modal\n        this.hide()\n        return\n      }\n\n      // button event\n      if (event.type === 'click') {\n        const eventName = event.target.getAttribute('data-event')\n\n        if (eventName) {\n          this.triggerEvent(eventName)\n        }\n\n        if (event.target.getAttribute('data-dismiss') === NAME) {\n          this.hide()\n        }\n      }\n    }\n\n    hide() {\n      if (!this.options.element.classList.contains('show')) {\n        return false\n      }\n\n      this.triggerEvent(Event.HIDE)\n\n      this.detachEvents()\n\n      this.options.element.classList.add('hide')\n      this.options.element.classList.remove('show')\n\n      const backdrop = this.getBackdrop()\n\n      const onHidden = () => {\n        document.body.removeChild(backdrop)\n\n        this.options.element.classList.remove('hide')\n\n        this.triggerEvent(Event.HIDDEN)\n\n        backdrop.removeEventListener(Event.TRANSITION_END, onHidden)\n\n        // remove generated modals from the DOM\n        if (this.dynamicElement) {\n          document.body.removeChild(this.options.element)\n          this.options.element = null\n        }\n      }\n\n      backdrop.addEventListener(Event.TRANSITION_END, onHidden)\n      backdrop.classList.add('fadeout')\n\n      return true\n    }\n\n    attachEvents() {\n      const buttons = this.options.element.querySelectorAll('[data-dismiss], .modal-footer button')\n      if (buttons) {\n        Array.from(buttons).forEach(button => this.registerElement({ target: button, event: 'click' }))\n      }\n\n      // add events if the modal is cancelable\n      // which means the user can hide the modal\n      // by pressing the ESC key or click on the backdrop\n      if (this.options.cancelable) {\n        const backdrop = this.getBackdrop()\n        this.registerElement({ target: backdrop, event: Event.START })\n        this.registerElement({ target: document, event: 'keyup' })\n      }\n    }\n\n    detachEvents() {\n      const buttons = this.options.element.querySelectorAll('[data-dismiss], .modal-footer button')\n      if (buttons) {\n        Array.from(buttons).forEach(button => this.unregisterElement({ target: button, event: 'click' }))\n      }\n\n      if (this.options.cancelable) {\n        const backdrop = this.getBackdrop()\n        this.unregisterElement({ target: backdrop, event: Event.START })\n        this.unregisterElement({ target: document, event: 'keyup' })\n      }\n    }\n\n    static identifier() {\n      return NAME\n    }\n\n    static DOMInterface(options) {\n      return super.DOMInterface(Modal, options)\n    }\n  }\n\n  /**\n   * ------------------------------------------------------------------------\n   * jQuery\n   * ------------------------------------------------------------------------\n   */\n  createJqueryPlugin($, NAME, Modal);\n\n  /**\n   * ------------------------------------------------------------------------\n   * DOM Api implementation\n   * ------------------------------------------------------------------------\n   */\n  const components = []\n\n  const modals = document.querySelectorAll(`.${NAME}`)\n  if (modals) {\n    Array.from(modals).forEach((element) => {\n      const config = getAttributesConfig(element, DEFAULT_PROPERTIES, DATA_ATTRS_PROPERTIES)\n      config.element = element\n\n      components.push({ element, modal: new Modal(config) })\n    })\n  }\n\n  document.addEventListener('click', (event) => {\n    const dataToggleAttr = event.target.getAttribute('data-toggle')\n    if (dataToggleAttr && dataToggleAttr === NAME) {\n      const id = event.target.getAttribute('data-target')\n      const element = document.querySelector(id)\n\n      const component = components.find(c => c.element === element)\n\n      if (!component) {\n        return\n      }\n\n      // remove the focus state of the trigger\n      event.target.blur()\n\n      component.modal.show()\n    }\n  })\n\n  return Modal\n})(window.$ ? window.$ : null)\n\nexport default Modal\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT (https://github.com/quark-dev/Phonon-Framework/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\nimport Component from '../component'\nimport { createJqueryPlugin } from '../../common/utils'\n\nconst Loader = (($) => {\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  const NAME = 'loader'\n  const VERSION = '2.0.0'\n  const DEFAULT_PROPERTIES = {\n    element: null,\n    color: null,\n    size: null,\n  }\n  const DATA_ATTRS_PROPERTIES = []\n\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  class Loader extends Component {\n\n    constructor(options = {}) {\n      super(NAME, VERSION, DEFAULT_PROPERTIES, options, DATA_ATTRS_PROPERTIES, false, false)\n\n      // set color\n      const loaderSpinner = this.getSpinner()\n      if (typeof this.options.color === 'string'\n        && !loaderSpinner.classList.contains(`color-${this.options.color}`)) {\n        loaderSpinner.classList.add(`color-${this.options.color}`)\n      }\n\n      this.customSize = this.options.size !== null\n    }\n\n    getClientSize() {\n      if (!this.customSize) {\n        const size = this.options.element.getBoundingClientRect()\n        return size.height\n      }\n\n      return this.options.size\n    }\n\n    getSpinner() {\n      return this.options.element.querySelector('.loader-spinner')\n    }\n\n    show() {\n      if (this.options.element.classList.contains('hide')) {\n        this.options.element.classList.remove('hide')\n      }\n\n      const size = this.getClientSize()\n      this.options.size = size\n\n      if (this.customSize) {\n        this.options.element.style.width = `${this.options.size}px`\n        this.options.element.style.height = `${this.options.size}px`\n\n        const loaderSpinner = this.getSpinner()\n        loaderSpinner.style.width = `${this.options.size}px`\n        loaderSpinner.style.height = `${this.options.size}px`\n      }\n\n      return true\n    }\n\n    animate(startAnimation = true) {\n      if (startAnimation) {\n        this.show()\n      } else {\n        this.hide()\n      }\n\n      const loaderSpinner = this.getSpinner()\n\n      if (startAnimation &&\n        !loaderSpinner.classList.contains('loader-spinner-animated')) {\n        loaderSpinner.classList.add('loader-spinner-animated')\n        return true\n      }\n\n      if (!startAnimation &&\n        loaderSpinner.classList.contains('loader-spinner-animated')) {\n        loaderSpinner.classList.remove('loader-spinner-animated')\n      }\n\n      return true\n    }\n\n    hide() {\n      if (!this.options.element.classList.contains('hide')) {\n        this.options.element.classList.add('hide')\n      }\n\n      return true\n    }\n\n    static identifier() {\n      return NAME\n    }\n\n    static DOMInterface(options) {\n      return super.DOMInterface(Loader, options)\n    }\n  }\n\n  /**\n   * ------------------------------------------------------------------------\n   * jQuery\n   * ------------------------------------------------------------------------\n   */\n  createJqueryPlugin($, NAME, Loader);\n\n  return Loader\n})(window.$ ? window.$ : null)\n\nexport default Loader\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT (https://github.com/quark-dev/Phonon-Framework/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\nimport Modal from './index'\nimport Spinner from '../loader/index'\nimport { getAttributesConfig } from '../componentManager'\nimport { createJqueryPlugin } from '../../common/utils'\n\nconst Loader = (($) => {\n\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  const NAME = 'loader'\n  const DEFAULT_PROPERTIES = {\n    element: null,\n    title: null,\n    message: null,\n    cancelable: true,\n    type: NAME,\n    buttons: [],\n  }\n  const DATA_ATTRS_PROPERTIES = [\n    'cancelable',\n  ]\n\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  class Loader extends Modal {\n\n    constructor(options = {}) {\n      const template = '' +\n      '<div class=\"modal\" tabindex=\"-1\" role=\"modal\">' +\n        '<div class=\"modal-inner\" role=\"document\">' +\n          '<div class=\"modal-content\">' +\n            '<div class=\"modal-header\">' +\n              '<h5 class=\"modal-title\"></h5>' +\n            '</div>' +\n            '<div class=\"modal-body\">' +\n              '<p></p>' +\n              '<div class=\"mx-auto text-center\">' +\n                '<div class=\"loader mx-auto d-block\">' +\n                  '<div class=\"loader-spinner\"></div>' +\n                '</div>' +\n              '</div>' +\n            '</div>' +\n            '<div class=\"modal-footer\">' +\n            '</div>' +\n          '</div>' +\n        '</div>' +\n      '</div>'\n\n      if (!Array.isArray(options.buttons)) {\n        options.buttons = options.cancelable ? DEFAULT_PROPERTIES.buttons : []\n      }\n\n      super(options, template)\n\n      this.spinner = null\n    }\n\n    show() {\n      super.show()\n\n      this.spinner = new Spinner({element: this.getElement().querySelector('.loader')})\n      this.spinner.animate(true)\n    }\n\n    hide() {\n      super.hide()\n\n      this.spinner.animate(false)\n      this.spinner = null\n    }\n\n    static identifier() {\n      return NAME\n    }\n\n    static DOMInterface(options) {\n      return new Loader(options)\n    }\n  }\n\n  /**\n   * ------------------------------------------------------------------------\n   * jQuery\n   * ------------------------------------------------------------------------\n   */\n  createJqueryPlugin($, NAME, Loader);\n\n  /**\n   * ------------------------------------------------------------------------\n   * DOM Api implementation\n   * ------------------------------------------------------------------------\n   */\n  const components = []\n  const modals = document.querySelectorAll(`.${Modal.identifier()}`)\n\n  if (modals) {\n    Array.from(modals).forEach((element) => {\n      const config = getAttributesConfig(element, DEFAULT_PROPERTIES, DATA_ATTRS_PROPERTIES)\n      config.element = element\n\n      if (config.type === NAME) {\n        // loader\n        components.push(new Loader(config))\n      }\n    })\n  }\n\n  document.addEventListener('click', (event) => {\n    const dataToggleAttr = event.target.getAttribute('data-toggle')\n    if (dataToggleAttr && dataToggleAttr === NAME) {\n      const id = event.target.getAttribute('data-target')\n      const element = document.querySelector(id)\n\n      const component = components.find(c => c.element === element)\n\n      if (!component) {\n        return\n      }\n\n      // remove the focus state of the trigger\n      event.target.blur()\n\n      component.modal.show()\n    }\n  })\n\n  return Loader\n})(window.$ ? window.$ : null)\n\nexport default Loader\n"],"names":["window","addEventListener","console","error","availableEvents","touchScreen","DocumentTouch","document","navigator","pointerEnabled","msPointerEnabled","el","createElement","transitions","name","start","end","animations","transitionStart","find","t","style","undefined","transitionEnd","animationStart","animationEnd","TOUCH_SCREEN","NETWORK_ONLINE","NETWORK_OFFLINE","NETWORK_RECONNECTING","NETWORK_RECONNECTING_SUCCESS","NETWORK_RECONNECTING_FAILURE","SHOW","SHOWN","HIDE","HIDDEN","HASH","START","MOVE","END","CANCEL","CLICK","TRANSITION_START","TRANSITION_END","ANIMATION_START","ANIMATION_END","ITEM_SELECTED","dispatchWinDocEvent","eventName","moduleName","detail","fullEventName","dispatchEvent","CustomEvent","dispatchElementEvent","domElement","generateId","Math","random","toString","substr","createJqueryPlugin","$","obj","mainFn","options","opts","element","DOMInterface","fn","Constructor","noConflict","getAttribute","first","second","setAttributesConfig","attrs","keys","Object","forEach","key","indexOf","keyStart","attr","setAttribute","getAttributesConfig","newObj","assign","constructor","value","type","attrValue","isNaN","parseInt","stack","add","component","push","remove","index","findIndex","c","is","splice","closable","length","Component","version","defaultOptions","optionAttrs","supportDynamicElement","addToStack","prop","id","checkElement","querySelector","Error","dynamicElement","registeredElements","assignJsConfig","getAttributes","setAttributes","elementListener","event","onBeforeElementEvent","attrConfig","jsConfig","config","getVersion","getElement","getId","registerElements","elements","registerElement","target","unregisterElements","unregisterElement","registeredElementIndex","removeEventListener","triggerEvent","objectEventOnly","Event","ComponentManager","eventNameObject","split","reduce","acc","current","charAt","toUpperCase","slice","eventNameAlias","apply","preventClosable","onElementEvent","identifier","ComponentClass","Modal","NAME","VERSION","BACKDROP_SELECTOR","DEFAULT_PROPERTIES","title","message","cancelable","cancelableKeyCodes","buttons","text","dismiss","class","DATA_ATTRS_PROPERTIES","template","build","builder","innerHTML","firstChild","removeTextBody","Array","isArray","button","appendChild","buildButton","removeFooter","body","buttonInfo","buildBackdrop","backdrop","classList","getBackdrop","removeChild","footer","center","computedStyle","getComputedStyle","height","top","innerHeight","show","contains","setTimeout","attachEvents","onShown","k","keyCode","hide","detachEvents","onHidden","querySelectorAll","from","components","modals","modal","dataToggleAttr","blur","Loader","color","size","loaderSpinner","getSpinner","customSize","getClientSize","getBoundingClientRect","width","animate","startAnimation","spinner","Spinner"],"mappings":"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"}