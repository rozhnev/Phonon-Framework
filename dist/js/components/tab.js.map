{"version":3,"file":"tab.js","sources":["../../../src/js/common/events/dispatch.js","../../../src/js/common/utils/index.js","../../../src/js/common/events/index.js","../../../src/js/components/componentManager.js","../../../src/js/components/component.js","../../../src/js/components/tab/index.js"],"sourcesContent":["export function dispatchWinDocEvent(eventName, moduleName, detail = {}) {\n  const fullEventName = `${eventName}.ph.${moduleName}`;\n  window.dispatchEvent(new CustomEvent(fullEventName, { detail }));\n  document.dispatchEvent(new CustomEvent(fullEventName, { detail }));\n}\n\nexport function dispatchElementEvent(domElement, eventName, moduleName, detail = {}) {\n  const fullEventName = `${eventName}.ph.${moduleName}`;\n  domElement.dispatchEvent(new CustomEvent(fullEventName, { detail }));\n}\n\nexport function dispatchPageEvent(eventName, pageName, detail = {}) {\n  const fullEventName = `${pageName}.${eventName}`;\n  window.dispatchEvent(new CustomEvent(fullEventName, { detail }));\n  document.dispatchEvent(new CustomEvent(fullEventName, { detail }));\n}\n","export function generateId() {\n  return Math.random().toString(36).substr(2, 10);\n}\n\nexport function findTargetByClass(target, parentClass) {\n  for (; target && target !== document; target = target.parentNode) {\n    if (target.classList.contains(parentClass)) {\n      return target;\n    }\n  }\n\n  return null;\n}\n\nexport function findTargetById(target, parentId) {\n  for (; target && target !== document; target = target.parentNode) {\n    if (target.getAttribute('id') === parentId) {\n      return target;\n    }\n  }\n\n  return null;\n}\n\nexport function findTargetByAttr(target, attr) {\n  for (; target && target !== document; target = target.parentNode) {\n    if (target.getAttribute(attr) !== null) {\n      return target;\n    }\n  }\n\n  return null;\n}\n\n/* eslint no-param-reassign: 0 */\nexport function createJqueryPlugin($ = null, name, obj) {\n  if (!$) {\n    return;\n  }\n\n  const mainFn = function (options = {}) {\n    const opts = options;\n    if (this[0]) {\n      opts.element = this[0];\n    }\n\n    return obj.DOMInterface(opts);\n  };\n\n  $.fn[name] = mainFn;\n  $.fn[name].Constructor = obj;\n  $.fn[name].noConflict = mainFn;\n}\n\nexport function sleep(timeout) {\n  return new Promise((resolve) => {\n    setTimeout(resolve, timeout);\n  });\n}\n","// @todo keep ?\nif (typeof window !== 'undefined') {\n  window.addEventListener('error', () => {\n    console.error('An error has occured! You can pen an issue here: https://github.com/quark-dev/Phonon-Framework/issues');\n  });\n}\n\n// Use available events\nlet availableEvents = ['mousedown', 'mousemove', 'mouseup'];\nlet touchScreen = false;\n\nif (typeof window !== 'undefined') {\n  if (('ontouchstart' in window) || window.DocumentTouch && document instanceof DocumentTouch) {\n    touchScreen = true;\n    availableEvents = ['touchstart', 'touchmove', 'touchend', 'touchcancel'];\n  }\n\n  if (window.navigator.pointerEnabled) {\n    availableEvents = ['pointerdown', 'pointermove', 'pointerup', 'pointercancel'];\n  } else if (window.navigator.msPointerEnabled) {\n    availableEvents = ['MSPointerDown', 'MSPointerMove', 'MSPointerUp', 'MSPointerCancel'];\n  }\n}\n\nconst el = document.createElement('div');\nconst transitions = [\n  { name: 'transition', start: 'transitionstart', end: 'transitionend' },\n  { name: 'MozTransition', start: 'transitionstart', end: 'transitionend' },\n  { name: 'msTransition', start: 'msTransitionStart', end: 'msTransitionEnd' },\n  { name: 'WebkitTransition', start: 'webkitTransitionStart', end: 'webkitTransitionEnd' },\n];\nconst animations = [\n  { name: 'animation', start: 'animationstart', end: 'animationend' },\n  { name: 'MozAnimation', start: 'animationstart', end: 'animationend' },\n  { name: 'msAnimation', start: 'msAnimationStart', end: 'msAnimationEnd' },\n  { name: 'WebkitAnimation', start: 'webkitAnimationStart', end: 'webkitAnimationEnd' },\n];\n\nconst transitionStart = transitions.find(t => el.style[t.name] !== undefined).start;\nconst transitionEnd = transitions.find(t => el.style[t.name] !== undefined).end;\nconst animationStart = animations.find(t => el.style[t.name] !== undefined).start;\nconst animationEnd = animations.find(t => el.style[t.name] !== undefined).end;\n\nexport default {\n  // touch screen support\n  TOUCH_SCREEN: touchScreen,\n\n  // network\n  NETWORK_ONLINE: 'online',\n  NETWORK_OFFLINE: 'offline',\n  NETWORK_RECONNECTING: 'reconnecting',\n  NETWORK_RECONNECTING_SUCCESS: 'reconnect.success',\n  NETWORK_RECONNECTING_FAILURE: 'reconnect.failure',\n\n  // user interface states\n  SHOW: 'show',\n  SHOWN: 'shown',\n  HIDE: 'hide',\n  HIDDEN: 'hidden',\n\n  // hash\n  HASH: 'hash',\n\n  // touch, mouse and pointer events polyfill\n  START: availableEvents[0],\n  MOVE: availableEvents[1],\n  END: availableEvents[2],\n  CANCEL: typeof availableEvents[3] === 'undefined' ? null : availableEvents[3],\n\n  // click\n  CLICK: 'click',\n\n  // transitions\n  TRANSITION_START: transitionStart,\n  TRANSITION_END: transitionEnd,\n\n  // animations\n  ANIMATION_START: animationStart,\n  ANIMATION_END: animationEnd,\n\n  // selectbox\n  ITEM_SELECTED: 'itemSelected',\n};\n","\nconst getAttribute = (first, second) => {\n  if (first === '') {\n    return `data-${second}`;\n  }\n  return `data-${first}-${second}`;\n};\n\nexport function setAttributesConfig(element, obj = {}, attrs, start = '') {\n  const keys = Object.keys(obj);\n\n  keys.forEach((key) => {\n    if (start === '' && attrs.indexOf(key) === -1) {\n      // continue with next iteration\n      return;\n    }\n\n    if (typeof obj[key] === 'object' && obj[key] !== null) {\n      let keyStart = key;\n      if (start !== '') {\n        keyStart = `${start}-${key}`;\n      }\n\n      setAttributesConfig(element, obj[key], attrs, keyStart);\n      return;\n    }\n\n    const attr = getAttribute(start, key);\n    element.setAttribute(attr, obj[key]);\n  });\n}\n\nexport function getAttributesConfig(element, obj = {}, attrs, start = '') {\n  // copy object\n  const newObj = Object.assign({}, obj);\n  const keys = Object.keys(obj);\n\n  keys.forEach((key) => {\n    if (start === '' && attrs.indexOf(key) === -1) {\n      // continue with next iteration\n      return;\n    }\n\n    if (obj[key] !== null && obj[key].constructor === Object) {\n      let keyStart = key;\n      if (start !== '') {\n        keyStart = `${start}-${key}`;\n      }\n\n      newObj[key] = getAttributesConfig(element, obj[key], attrs, keyStart);\n      return;\n    }\n\n    // update value\n    let value = obj[key]; // default value\n    const type = typeof value;\n    const attr = getAttribute(start, key);\n    const attrValue = element.getAttribute(attr);\n\n    if (attrValue !== null) {\n      if (type === 'boolean') {\n        // convert string to boolean\n        value = attrValue === 'true';\n      } else if (/^-{0,1}\\d+$/.test(attrValue)) {\n        value = parseInt(attrValue, 10);\n      } else {\n        value = attrValue;\n      }\n    }\n\n    newObj[key] = value;\n  });\n\n  return newObj;\n}\n\nif (!Array.isArray(document.componentStack)) {\n  document.componentStack = [];\n}\n\nexport default {\n  add(component) {\n    document.componentStack.push(component);\n  },\n  remove(component) {\n    const index = document.componentStack.findIndex(c => Object.is(component, c));\n    if (index > -1) {\n      document.componentStack.splice(index, 1);\n    }\n  },\n  closable(component) {\n    return document.componentStack.length === 0 || Object.is(document.componentStack[document.componentStack.length - 1], component);\n  },\n};\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT (https://github.com/quark-dev/Phonon-Framework/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\nimport { dispatchElementEvent, dispatchWinDocEvent } from '../common/events/dispatch';\nimport { generateId } from '../common/utils/index';\nimport Event from '../common/events';\nimport ComponentManager, { setAttributesConfig, getAttributesConfig } from './componentManager';\n\n/**\n * ------------------------------------------------------------------------\n * Class Definition\n * ------------------------------------------------------------------------\n */\n\nexport default class Component {\n  constructor(\n    name,\n    version,\n    defaultOptions = {},\n    options = {},\n    optionAttrs = [],\n    supportDynamicElement = false,\n    addToStack = false,\n  ) {\n    this.name = name;\n    this.version = version;\n    this.options = options;\n    this.eventHandlers = [];\n\n    Object.keys(defaultOptions).forEach((prop) => {\n      if (typeof this.options[prop] === 'undefined') {\n        this.options[prop] = defaultOptions[prop];\n      }\n    });\n\n    this.optionAttrs = optionAttrs;\n    this.supportDynamicElement = supportDynamicElement;\n    this.addToStack = addToStack;\n    this.id = generateId();\n\n    const checkElement = !this.supportDynamicElement || this.options.element !== null;\n\n    if (typeof this.options.element === 'string') {\n      this.options.element = document.querySelector(this.options.element);\n    }\n\n    if (checkElement && !this.options.element) {\n      throw new Error(`${this.name}. The element is not a valid HTMLElement.`);\n    }\n\n    this.dynamicElement = this.options.element === null;\n    this.registeredElements = [];\n\n    if (!this.dynamicElement) {\n      /**\n       * if the element exists, we read the data attributes config\n       * then we overwrite existing config keys defined in JavaScript, so that\n       * we keep the following order\n       * [1] default JavaScript configuration of the component\n       * [2] Data attributes configuration\n       * [3] JavaScript configuration\n       */\n      this.updateConfig(this.options);\n    }\n\n    this.addEventsHandler(this.getConfig());\n\n    this.elementListener = event => this.onBeforeElementEvent(event);\n  }\n\n  getConfig(key = null, defaultValue = null) {\n    /**\n     * If the key isn't specified, we return the full configuration (Object)\n     */\n    if (!key) {\n      return this.options;\n    }\n\n    return typeof this.options[key] === 'undefined' ? defaultValue : this.options[key];\n  }\n\n  updateConfig(options) {\n    this.options = Object.assign(\n      this.options,\n      this.assignJsConfig(this.getAttributes(), options),\n    );\n\n    // then, set the new data attributes to the element\n    this.setAttributes();\n  }\n\n  addEventsHandler(options) {\n    const scope = Object.keys(options).reduce((cur, key) => {\n      if (typeof options[key] === 'function') {\n        cur[key] = options[key];\n      }\n\n      return cur;\n    }, {});\n\n    if (Object.keys(scope).length > 0) {\n      this.eventHandlers.push(scope);\n    }\n  }\n\n  assignJsConfig(attrConfig, jsConfig) {\n    const config = attrConfig;\n    this.optionAttrs.forEach((key) => {\n      if (typeof jsConfig[key] !== 'undefined') {\n        config[key] = jsConfig[key];\n      }\n    });\n\n    return config;\n  }\n\n  getVersion() {\n    return this.version;\n  }\n\n  getElement() {\n    return this.options.element;\n  }\n\n  getId() {\n    return this.id;\n  }\n\n  registerElements(elements) {\n    elements.forEach(element => this.registerElement(element));\n  }\n\n  registerElement(element) {\n    element.target.addEventListener(element.event, this.elementListener);\n    this.registeredElements.push(element);\n  }\n\n  unregisterElements() {\n    this.registeredElements.forEach((element) => {\n      this.unregisterElement(element);\n    });\n  }\n\n  unregisterElement(element) {\n    const registeredElementIndex = this.registeredElements\n      .findIndex(el => el.target === element.target && el.event === element.event);\n\n    if (registeredElementIndex > -1) {\n      element.target.removeEventListener(element.event, this.elementListener);\n      this.registeredElements.splice(registeredElementIndex, 1);\n    } else {\n      console.error(`Warning! Unknown registered element: ${element.target} with event: ${element.event}.`);\n    }\n  }\n\n  triggerEvent(eventName, detail = {}, objectEventOnly = false) {\n    if (typeof eventName !== 'string') {\n      throw new Error('The event name is not valid.');\n    }\n\n    if (this.addToStack) {\n      if (eventName === Event.SHOW) {\n        ComponentManager.add(this);\n      } else if (eventName === Event.HIDE) {\n        ComponentManager.remove(this);\n      }\n    }\n\n    // event names can be with dot notation like reconnecting.success\n    const eventNameObject = eventName.split('.').reduce((acc, current, index) => {\n      if (index === 0) {\n        return current;\n      }\n\n      return acc + current.charAt(0).toUpperCase() + current.slice(1);\n    });\n\n    const eventNameAlias = `on${eventNameObject.charAt(0).toUpperCase()}${eventNameObject.slice(1)}`;\n\n    // object event\n    this.eventHandlers.forEach((scope) => {\n      if (typeof scope[eventNameObject] === 'function') {\n        scope[eventNameObject].apply(this, [detail]);\n      }\n\n      if (typeof scope[eventNameAlias] === 'function') {\n        this.options[eventNameAlias].apply(this, [detail]);\n      }\n    });\n\n    if (objectEventOnly) {\n      return;\n    }\n\n    // dom event\n    if (this.options.element) {\n      dispatchElementEvent(this.options.element, eventName, this.name, detail);\n    } else {\n      dispatchWinDocEvent(eventName, this.name, detail);\n    }\n  }\n\n  setAttributes() {\n    if (this.optionAttrs.length > 0) {\n      setAttributesConfig(this.options.element, this.options, this.optionAttrs);\n    }\n  }\n\n  getAttributes() {\n    const options = Object.assign({}, this.options);\n    return getAttributesConfig(this.options.element, options, this.optionAttrs);\n  }\n\n  /**\n   * the preventClosable method manages concurrency between active components.\n   * For example, if there is a shown off-canvas and modal, the last\n   * shown component gains the processing priority\n   */\n  preventClosable() {\n    return this.addToStack && !ComponentManager.closable(this);\n  }\n\n  onBeforeElementEvent(event) {\n    if (this.preventClosable()) {\n      return;\n    }\n\n    this.onElementEvent(event);\n  }\n\n  /**\n   * @emits {Event} emit events registered by the component\n   * @param {Event} event\n   */\n  onElementEvent() {\n    /* eslint class-methods-use-this: 0 */\n  }\n\n  static identifier() {\n    return this.name;\n  }\n\n  static DOMInterface(ComponentClass, options, currentComponents = []) {\n    const el = typeof options.element === 'string' ? document.querySelector(options.element) : options.element;\n    const component = currentComponents.find(c => c.getElement() === el);\n\n    if (component) {\n      component.updateConfig(options);\n      component.addEventsHandler(options);\n      return component;\n    }\n\n    return new ComponentClass(options);\n  }\n}\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT (https://github.com/quark-dev/Phonon-Framework/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\nimport Component from '../component';\nimport { getAttributesConfig } from '../componentManager';\nimport Event from '../../common/events';\nimport { findTargetByClass, createJqueryPlugin, sleep } from '../../common/utils';\n\nconst Tab = (($) => {\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  const NAME = 'tab';\n  const VERSION = '2.0.0';\n  const DEFAULT_PROPERTIES = {\n  };\n  const DATA_ATTRS_PROPERTIES = [\n  ];\n  const TAB_CONTENT_SELECTOR = '.tab-pane';\n\n  const components = [];\n\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  class Tab extends Component {\n    constructor(options = {}) {\n      super(NAME, VERSION, DEFAULT_PROPERTIES, options, DATA_ATTRS_PROPERTIES, false, false);\n    }\n\n    /**\n     * Shows the tab\n     * @returns {Boolean}\n     */\n    show() {\n      if (this.options.element.classList.contains('active')) {\n        return false;\n      }\n\n      const id = this.options.element.getAttribute('href');\n      const nav = findTargetByClass(this.options.element, 'nav');\n      const navTabs = nav ? nav.querySelectorAll(`[data-toggle=\"${NAME}\"]`) : null;\n\n      if (navTabs) {\n        Array.from(navTabs).forEach((tab) => {\n          if (tab.classList.contains('active')) {\n            tab.classList.remove('active');\n          }\n          tab.setAttribute('aria-selected', false);\n        });\n      }\n\n      this.options.element.classList.add('active');\n      this.options.element.setAttribute('aria-selected', true);\n\n      const tabContent = document.querySelector(id);\n      const tabContents = tabContent.parentNode.querySelectorAll(TAB_CONTENT_SELECTOR);\n\n      if (tabContents) {\n        Array.from(tabContents).forEach((tab) => {\n          if (tab.classList.contains('active')) {\n            tab.classList.remove('active');\n          }\n        });\n      }\n\n      tabContent.classList.add('showing');\n\n      this.triggerEvent(Event.SHOW);\n\n      const onShowed = () => {\n        tabContent.classList.remove('animate');\n        tabContent.classList.add('active');\n        tabContent.classList.remove('showing');\n\n        this.triggerEvent(Event.SHOWN);\n\n        tabContent.removeEventListener(Event.TRANSITION_END, onShowed);\n      };\n\n      (async () => {\n        await sleep(20);\n        tabContent.addEventListener(Event.TRANSITION_END, onShowed);\n        tabContent.classList.add('animate');\n      })();\n\n      return true;\n    }\n\n    /**\n     * Hides the tab\n     * @returns {Boolean}\n     */\n    hide() {\n      if (!this.options.element.classList.contains('active')) {\n        return false;\n      }\n\n      if (this.options.element.classList.contains('active')) {\n        this.options.element.classList.remove('active');\n      }\n\n      this.triggerEvent(Event.HIDE);\n\n      this.options.element.setAttribute('aria-selected', false);\n\n      const id = this.options.element.getAttribute('href');\n      const tabContent = document.querySelector(id);\n\n      if (tabContent.classList.contains('active')) {\n        tabContent.classList.remove('active');\n      }\n\n      this.triggerEvent(Event.HIDDEN);\n\n      return true;\n    }\n\n    static identifier() {\n      return NAME;\n    }\n\n    static DOMInterface(options) {\n      return super.DOMInterface(Tab, options, components);\n    }\n  }\n\n  /**\n   * ------------------------------------------------------------------------\n   * jQuery\n   * ------------------------------------------------------------------------\n   */\n  createJqueryPlugin($, NAME, Tab);\n\n  /**\n   * ------------------------------------------------------------------------\n   * DOM Api implementation\n   * ------------------------------------------------------------------------\n   */\n  const tabs = document.querySelectorAll(`[data-toggle=\"${NAME}\"]`);\n  if (tabs) {\n    Array.from(tabs).forEach((element) => {\n      // const config = {}\n      const config = getAttributesConfig(element, DEFAULT_PROPERTIES, DATA_ATTRS_PROPERTIES);\n      config.element = element;\n\n      components.push(Tab.DOMInterface(config));\n    });\n  }\n\n  document.addEventListener('click', (event) => {\n    const dataToggleAttr = event.target.getAttribute('data-toggle');\n    if (dataToggleAttr && dataToggleAttr === NAME) {\n      const id = event.target.getAttribute('href');\n\n      const component = components.find(c => c.getElement().getAttribute('href') === id);\n\n      if (!component) {\n        return;\n      }\n\n      component.show();\n    }\n  });\n\n  return Tab;\n})(window.$ ? window.$ : null);\n\nexport default Tab;\n"],"names":["dispatchWinDocEvent","eventName","moduleName","detail","fullEventName","window","dispatchEvent","CustomEvent","document","dispatchElementEvent","domElement","generateId","Math","random","toString","substr","findTargetByClass","target","parentClass","parentNode","classList","contains","createJqueryPlugin","$","name","obj","mainFn","options","opts","element","DOMInterface","fn","Constructor","noConflict","sleep","timeout","Promise","resolve","setTimeout","addEventListener","console","error","availableEvents","touchScreen","DocumentTouch","navigator","pointerEnabled","msPointerEnabled","el","createElement","transitions","start","end","animations","transitionStart","find","t","style","undefined","transitionEnd","animationStart","animationEnd","TOUCH_SCREEN","NETWORK_ONLINE","NETWORK_OFFLINE","NETWORK_RECONNECTING","NETWORK_RECONNECTING_SUCCESS","NETWORK_RECONNECTING_FAILURE","SHOW","SHOWN","HIDE","HIDDEN","HASH","START","MOVE","END","CANCEL","CLICK","TRANSITION_START","TRANSITION_END","ANIMATION_START","ANIMATION_END","ITEM_SELECTED","getAttribute","first","second","setAttributesConfig","attrs","keys","Object","forEach","key","indexOf","keyStart","attr","setAttribute","getAttributesConfig","newObj","assign","constructor","value","type","attrValue","test","parseInt","Array","isArray","componentStack","add","component","push","remove","index","findIndex","c","is","splice","closable","length","Component","version","defaultOptions","optionAttrs","supportDynamicElement","addToStack","eventHandlers","prop","id","checkElement","querySelector","Error","dynamicElement","registeredElements","updateConfig","addEventsHandler","getConfig","elementListener","event","onBeforeElementEvent","defaultValue","assignJsConfig","getAttributes","setAttributes","scope","reduce","cur","attrConfig","jsConfig","config","elements","registerElement","unregisterElement","registeredElementIndex","removeEventListener","objectEventOnly","Event","ComponentManager","eventNameObject","split","acc","current","charAt","toUpperCase","slice","eventNameAlias","apply","preventClosable","onElementEvent","ComponentClass","currentComponents","getElement","Tab","NAME","VERSION","DEFAULT_PROPERTIES","DATA_ATTRS_PROPERTIES","TAB_CONTENT_SELECTOR","components","nav","navTabs","querySelectorAll","from","tab","tabContent","tabContents","triggerEvent","onShowed","tabs","dataToggleAttr","show"],"mappings":"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"}