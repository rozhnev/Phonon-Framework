{"version":3,"file":"phonon.js","sources":["../../src/js/common/events/dispatch.js","../../src/js/common/utils/index.js","../../src/js/common/events/index.js","../../src/js/components/componentManager.js","../../src/js/components/component.js","../../src/js/components/alert/index.js","../../src/js/components/modal/index.js","../../src/js/components/modal/prompt.js","../../src/js/components/modal/confirm.js","../../src/js/components/loader/index.js","../../src/js/components/modal/loader.js","../../src/js/components/notification/index.js","../../src/js/components/collapse/index.js","../../src/js/components/accordion/index.js","../../src/js/components/tab/index.js","../../src/js/components/progress/index.js","../../src/js/components/off-canvas/index.js","../../src/js/components/selectbox/index.js","../../src/js/components/selectbox/search.js","../../src/js/components/dropdown/index.js","../../src/js/common/network/index.js","../../src/js/phonon.js"],"sourcesContent":["export function dispatchWinDocEvent(eventName, moduleName, detail = {}) {\n  const fullEventName = `${eventName}.ph.${moduleName}`;\n  window.dispatchEvent(new CustomEvent(fullEventName, { detail }));\n  document.dispatchEvent(new CustomEvent(fullEventName, { detail }));\n}\n\nexport function dispatchElementEvent(domElement, eventName, moduleName, detail = {}) {\n  const fullEventName = `${eventName}.ph.${moduleName}`;\n  domElement.dispatchEvent(new CustomEvent(fullEventName, { detail }));\n}\n\nexport function dispatchPageEvent(eventName, pageName, detail = {}) {\n  const fullEventName = `${pageName}.${eventName}`;\n  window.dispatchEvent(new CustomEvent(fullEventName, { detail }));\n  document.dispatchEvent(new CustomEvent(fullEventName, { detail }));\n}\n","export function generateId() {\n  return Math.random().toString(36).substr(2, 10);\n}\n\nexport function findTargetByClass(target, parentClass) {\n  for (; target && target !== document; target = target.parentNode) {\n    if (target.classList.contains(parentClass)) {\n      return target;\n    }\n  }\n\n  return null;\n}\n\nexport function findTargetById(target, parentId) {\n  for (; target && target !== document; target = target.parentNode) {\n    if (target.getAttribute('id') === parentId) {\n      return target;\n    }\n  }\n\n  return null;\n}\n\nexport function findTargetByAttr(target, attr) {\n  for (; target && target !== document; target = target.parentNode) {\n    if (target.getAttribute(attr) !== null) {\n      return target;\n    }\n  }\n\n  return null;\n}\n\n/* eslint no-param-reassign: 0 */\nexport function createJqueryPlugin($ = null, name, obj) {\n  if (!$) {\n    return;\n  }\n\n  const mainFn = function (options = {}) {\n    const opts = options;\n    if (this[0]) {\n      opts.element = this[0];\n    }\n\n    return obj.DOMInterface(opts);\n  };\n\n  $.fn[name] = mainFn;\n  $.fn[name].Constructor = obj;\n  $.fn[name].noConflict = mainFn;\n}\n\nexport function sleep(timeout) {\n  return new Promise((resolve) => {\n    setTimeout(resolve, timeout);\n  });\n}\n","// @todo keep ?\nif (typeof window !== 'undefined') {\n  window.addEventListener('error', () => {\n    console.error('An error has occured! You can pen an issue here: https://github.com/quark-dev/Phonon-Framework/issues');\n  });\n}\n\n// Use available events\nlet availableEvents = ['mousedown', 'mousemove', 'mouseup'];\nlet touchScreen = false;\n\nif (typeof window !== 'undefined') {\n  if (('ontouchstart' in window) || window.DocumentTouch && document instanceof DocumentTouch) {\n    touchScreen = true;\n    availableEvents = ['touchstart', 'touchmove', 'touchend', 'touchcancel'];\n  }\n\n  if (window.navigator.pointerEnabled) {\n    availableEvents = ['pointerdown', 'pointermove', 'pointerup', 'pointercancel'];\n  } else if (window.navigator.msPointerEnabled) {\n    availableEvents = ['MSPointerDown', 'MSPointerMove', 'MSPointerUp', 'MSPointerCancel'];\n  }\n}\n\nconst el = document.createElement('div');\nconst transitions = [\n  { name: 'transition', start: 'transitionstart', end: 'transitionend' },\n  { name: 'MozTransition', start: 'transitionstart', end: 'transitionend' },\n  { name: 'msTransition', start: 'msTransitionStart', end: 'msTransitionEnd' },\n  { name: 'WebkitTransition', start: 'webkitTransitionStart', end: 'webkitTransitionEnd' },\n];\nconst animations = [\n  { name: 'animation', start: 'animationstart', end: 'animationend' },\n  { name: 'MozAnimation', start: 'animationstart', end: 'animationend' },\n  { name: 'msAnimation', start: 'msAnimationStart', end: 'msAnimationEnd' },\n  { name: 'WebkitAnimation', start: 'webkitAnimationStart', end: 'webkitAnimationEnd' },\n];\n\nconst transitionStart = transitions.find(t => el.style[t.name] !== undefined).start;\nconst transitionEnd = transitions.find(t => el.style[t.name] !== undefined).end;\nconst animationStart = animations.find(t => el.style[t.name] !== undefined).start;\nconst animationEnd = animations.find(t => el.style[t.name] !== undefined).end;\n\nexport default {\n  // touch screen support\n  TOUCH_SCREEN: touchScreen,\n\n  // network\n  NETWORK_ONLINE: 'online',\n  NETWORK_OFFLINE: 'offline',\n  NETWORK_RECONNECTING: 'reconnecting',\n  NETWORK_RECONNECTING_SUCCESS: 'reconnect.success',\n  NETWORK_RECONNECTING_FAILURE: 'reconnect.failure',\n\n  // user interface states\n  SHOW: 'show',\n  SHOWN: 'shown',\n  HIDE: 'hide',\n  HIDDEN: 'hidden',\n\n  // hash\n  HASH: 'hash',\n\n  // touch, mouse and pointer events polyfill\n  START: availableEvents[0],\n  MOVE: availableEvents[1],\n  END: availableEvents[2],\n  CANCEL: typeof availableEvents[3] === 'undefined' ? null : availableEvents[3],\n\n  // click\n  CLICK: 'click',\n\n  // transitions\n  TRANSITION_START: transitionStart,\n  TRANSITION_END: transitionEnd,\n\n  // animations\n  ANIMATION_START: animationStart,\n  ANIMATION_END: animationEnd,\n\n  // selectbox\n  ITEM_SELECTED: 'itemSelected',\n};\n","\nconst getAttribute = (first, second) => {\n  if (first === '') {\n    return `data-${second}`;\n  }\n  return `data-${first}-${second}`;\n};\n\nexport function setAttributesConfig(element, obj = {}, attrs, start = '') {\n  const keys = Object.keys(obj);\n\n  keys.forEach((key) => {\n    if (start === '' && attrs.indexOf(key) === -1) {\n      // continue with next iteration\n      return;\n    }\n\n    if (typeof obj[key] === 'object' && obj[key] !== null) {\n      let keyStart = key;\n      if (start !== '') {\n        keyStart = `${start}-${key}`;\n      }\n\n      setAttributesConfig(element, obj[key], attrs, keyStart);\n      return;\n    }\n\n    const attr = getAttribute(start, key);\n    element.setAttribute(attr, obj[key]);\n  });\n}\n\nexport function getAttributesConfig(element, obj = {}, attrs, start = '') {\n  // copy object\n  const newObj = Object.assign({}, obj);\n  const keys = Object.keys(obj);\n\n  keys.forEach((key) => {\n    if (start === '' && attrs.indexOf(key) === -1) {\n      // continue with next iteration\n      return;\n    }\n\n    if (obj[key] !== null && obj[key].constructor === Object) {\n      let keyStart = key;\n      if (start !== '') {\n        keyStart = `${start}-${key}`;\n      }\n\n      newObj[key] = getAttributesConfig(element, obj[key], attrs, keyStart);\n      return;\n    }\n\n    // update value\n    let value = obj[key]; // default value\n    const type = typeof value;\n    const attr = getAttribute(start, key);\n    const attrValue = element.getAttribute(attr);\n\n    if (attrValue !== null) {\n      if (type === 'boolean') {\n        // convert string to boolean\n        value = attrValue === 'true';\n      } else if (/^-{0,1}\\d+$/.test(attrValue)) {\n        value = parseInt(attrValue, 10);\n      } else {\n        value = attrValue;\n      }\n    }\n\n    newObj[key] = value;\n  });\n\n  return newObj;\n}\n\nif (!Array.isArray(document.componentStack)) {\n  document.componentStack = [];\n}\n\nexport default {\n  add(component) {\n    document.componentStack.push(component);\n  },\n  remove(component) {\n    const index = document.componentStack.findIndex(c => Object.is(component, c));\n    if (index > -1) {\n      document.componentStack.splice(index, 1);\n    }\n  },\n  closable(component) {\n    return document.componentStack.length === 0 || Object.is(document.componentStack[document.componentStack.length - 1], component);\n  },\n};\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT (https://github.com/quark-dev/Phonon-Framework/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\nimport { dispatchElementEvent, dispatchWinDocEvent } from '../common/events/dispatch';\nimport { generateId } from '../common/utils/index';\nimport Event from '../common/events';\nimport ComponentManager, { setAttributesConfig, getAttributesConfig } from './componentManager';\n\n/**\n * ------------------------------------------------------------------------\n * Class Definition\n * ------------------------------------------------------------------------\n */\n\nexport default class Component {\n  constructor(\n    name,\n    version,\n    defaultOptions = {},\n    options = {},\n    optionAttrs = [],\n    supportDynamicElement = false,\n    addToStack = false,\n  ) {\n    this.name = name;\n    this.version = version;\n    this.options = options;\n    this.eventHandlers = [];\n\n    Object.keys(defaultOptions).forEach((prop) => {\n      if (typeof this.options[prop] === 'undefined') {\n        this.options[prop] = defaultOptions[prop];\n      }\n    });\n\n    this.optionAttrs = optionAttrs;\n    this.supportDynamicElement = supportDynamicElement;\n    this.addToStack = addToStack;\n    this.id = generateId();\n\n    const checkElement = !this.supportDynamicElement || this.options.element !== null;\n\n    if (typeof this.options.element === 'string') {\n      this.options.element = document.querySelector(this.options.element);\n    }\n\n    if (checkElement && !this.options.element) {\n      throw new Error(`${this.name}. The element is not a valid HTMLElement.`);\n    }\n\n    this.dynamicElement = this.options.element === null;\n    this.registeredElements = [];\n\n    if (!this.dynamicElement) {\n      /**\n       * if the element exists, we read the data attributes config\n       * then we overwrite existing config keys defined in JavaScript, so that\n       * we keep the following order\n       * [1] default JavaScript configuration of the component\n       * [2] Data attributes configuration\n       * [3] JavaScript configuration\n       */\n      this.updateConfig(this.options);\n    }\n\n    this.addEventsHandler(this.getConfig());\n\n    this.elementListener = event => this.onBeforeElementEvent(event);\n  }\n\n  getConfig(key = null, defaultValue = null) {\n    /**\n     * If the key isn't specified, we return the full configuration (Object)\n     */\n    if (!key) {\n      return this.options;\n    }\n\n    return typeof this.options[key] === 'undefined' ? defaultValue : this.options[key];\n  }\n\n  updateConfig(options) {\n    this.options = Object.assign(\n      this.options,\n      this.assignJsConfig(this.getAttributes(), options),\n    );\n\n    // then, set the new data attributes to the element\n    this.setAttributes();\n  }\n\n  addEventsHandler(options) {\n    const scope = Object.keys(options).reduce((cur, key) => {\n      if (typeof options[key] === 'function') {\n        cur[key] = options[key];\n      }\n\n      return cur;\n    }, {});\n\n    if (Object.keys(scope).length > 0) {\n      this.eventHandlers.push(scope);\n    }\n  }\n\n  assignJsConfig(attrConfig, jsConfig) {\n    const config = attrConfig;\n    this.optionAttrs.forEach((key) => {\n      if (typeof jsConfig[key] !== 'undefined') {\n        config[key] = jsConfig[key];\n      }\n    });\n\n    return config;\n  }\n\n  getVersion() {\n    return this.version;\n  }\n\n  getElement() {\n    return this.options.element;\n  }\n\n  getId() {\n    return this.id;\n  }\n\n  registerElements(elements) {\n    elements.forEach(element => this.registerElement(element));\n  }\n\n  registerElement(element) {\n    element.target.addEventListener(element.event, this.elementListener);\n    this.registeredElements.push(element);\n  }\n\n  unregisterElements() {\n    this.registeredElements.forEach((element) => {\n      this.unregisterElement(element);\n    });\n  }\n\n  unregisterElement(element) {\n    const registeredElementIndex = this.registeredElements\n      .findIndex(el => el.target === element.target && el.event === element.event);\n\n    if (registeredElementIndex > -1) {\n      element.target.removeEventListener(element.event, this.elementListener);\n      this.registeredElements.splice(registeredElementIndex, 1);\n    } else {\n      console.error(`Warning! Unknown registered element: ${element.target} with event: ${element.event}.`);\n    }\n  }\n\n  triggerEvent(eventName, detail = {}, objectEventOnly = false) {\n    if (typeof eventName !== 'string') {\n      throw new Error('The event name is not valid.');\n    }\n\n    if (this.addToStack) {\n      if (eventName === Event.SHOW) {\n        ComponentManager.add(this);\n      } else if (eventName === Event.HIDE) {\n        ComponentManager.remove(this);\n      }\n    }\n\n    // event names can be with dot notation like reconnecting.success\n    const eventNameObject = eventName.split('.').reduce((acc, current, index) => {\n      if (index === 0) {\n        return current;\n      }\n\n      return acc + current.charAt(0).toUpperCase() + current.slice(1);\n    });\n\n    const eventNameAlias = `on${eventNameObject.charAt(0).toUpperCase()}${eventNameObject.slice(1)}`;\n\n    // object event\n    this.eventHandlers.forEach((scope) => {\n      if (typeof scope[eventNameObject] === 'function') {\n        scope[eventNameObject].apply(this, [detail]);\n      }\n\n      if (typeof scope[eventNameAlias] === 'function') {\n        this.options[eventNameAlias].apply(this, [detail]);\n      }\n    });\n\n    if (objectEventOnly) {\n      return;\n    }\n\n    // dom event\n    if (this.options.element) {\n      dispatchElementEvent(this.options.element, eventName, this.name, detail);\n    } else {\n      dispatchWinDocEvent(eventName, this.name, detail);\n    }\n  }\n\n  setAttributes() {\n    if (this.optionAttrs.length > 0) {\n      setAttributesConfig(this.options.element, this.options, this.optionAttrs);\n    }\n  }\n\n  getAttributes() {\n    const options = Object.assign({}, this.options);\n    return getAttributesConfig(this.options.element, options, this.optionAttrs);\n  }\n\n  /**\n   * the preventClosable method manages concurrency between active components.\n   * For example, if there is a shown off-canvas and modal, the last\n   * shown component gains the processing priority\n   */\n  preventClosable() {\n    return this.addToStack && !ComponentManager.closable(this);\n  }\n\n  onBeforeElementEvent(event) {\n    if (this.preventClosable()) {\n      return;\n    }\n\n    this.onElementEvent(event);\n  }\n\n  /**\n   * @emits {Event} emit events registered by the component\n   * @param {Event} event\n   */\n  onElementEvent() {\n    /* eslint class-methods-use-this: 0 */\n  }\n\n  static identifier() {\n    return this.name;\n  }\n\n  static DOMInterface(ComponentClass, options, currentComponents = []) {\n    const el = typeof options.element === 'string' ? document.querySelector(options.element) : options.element;\n    const component = currentComponents.find(c => c.getElement() === el);\n\n    if (component) {\n      component.updateConfig(options);\n      component.addEventsHandler(options);\n      return component;\n    }\n\n    return new ComponentClass(options);\n  }\n}\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT (https://github.com/quark-dev/Phonon-Framework/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\nimport Component from '../component';\nimport { getAttributesConfig } from '../componentManager';\nimport Event from '../../common/events';\nimport { findTargetByAttr, findTargetByClass, createJqueryPlugin } from '../../common/utils';\n\nconst Alert = (($) => {\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  const NAME = 'alert';\n  const VERSION = '2.0.0';\n  const DEFAULT_PROPERTIES = {\n    element: null,\n    fade: true,\n  };\n  const DATA_ATTRS_PROPERTIES = [\n    'fade',\n  ];\n  const components = [];\n\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  class Alert extends Component {\n    constructor(options = {}) {\n      super(NAME, VERSION, DEFAULT_PROPERTIES, options, DATA_ATTRS_PROPERTIES, false, false);\n      this.onTransition = false;\n    }\n\n    /**\n     * Shows the alert\n     * @returns {Boolean}\n     */\n    show() {\n      if (this.onTransition) {\n        return false;\n      }\n\n      if (this.options.element.classList.contains('show') && this.getOpacity() !== 0) {\n        return false;\n      }\n\n      this.onTransition = true;\n\n      this.triggerEvent(Event.SHOW);\n\n      const onShow = () => {\n        this.triggerEvent(Event.SHOWN);\n\n        if (this.options.element.classList.contains('fade')) {\n          this.options.element.classList.remove('fade');\n        }\n\n        this.options.element.removeEventListener(Event.TRANSITION_END, onShow);\n        this.onTransition = false;\n      };\n\n      if (this.options.fade && !this.options.element.classList.contains('fade')) {\n        this.options.element.classList.add('fade');\n      }\n\n      this.options.element.classList.add('show');\n\n      this.options.element.addEventListener(Event.TRANSITION_END, onShow);\n\n      if (this.options.element.classList.contains('hide')) {\n        this.options.element.classList.remove('hide');\n      }\n\n      if (!this.options.fade) {\n        onShow();\n      }\n\n      return true;\n    }\n\n    getOpacity() {\n      const { opacity } = window.getComputedStyle(this.options.element);\n      return parseFloat(opacity);\n    }\n\n    /**\n     * Hides the alert\n     * @returns {Boolean}\n     */\n    hide() {\n      if (this.onTransition) {\n        return false;\n      }\n\n      if (this.getOpacity() === 0) {\n        return false;\n      }\n\n      this.onTransition = true;\n      this.triggerEvent(Event.HIDE);\n\n      const onHide = () => {\n        this.triggerEvent(Event.HIDDEN);\n        this.options.element.removeEventListener(Event.TRANSITION_END, onHide);\n        this.onTransition = false;\n      };\n\n      if (this.options.fade && !this.options.element.classList.contains('fade')) {\n        this.options.element.classList.add('fade');\n      }\n\n      this.options.element.addEventListener(Event.TRANSITION_END, onHide);\n\n      if (!this.options.element.classList.contains('hide')) {\n        this.options.element.classList.add('hide');\n      }\n\n      if (this.options.element.classList.contains('show')) {\n        this.options.element.classList.remove('show');\n      }\n\n      if (!this.options.fade) {\n        onHide();\n      }\n\n      return true;\n    }\n\n    static identifier() {\n      return NAME;\n    }\n\n    static DOMInterface(options) {\n      return super.DOMInterface(Alert, options, components);\n    }\n  }\n\n  /**\n   * ------------------------------------------------------------------------\n   * jQuery\n   * ------------------------------------------------------------------------\n   */\n  createJqueryPlugin($, NAME, Alert);\n\n  /**\n   * ------------------------------------------------------------------------\n   * DOM Api implementation\n   * ------------------------------------------------------------------------\n   */\n  const alerts = Array.from(document.querySelectorAll(`.${NAME}`) || []);\n\n  alerts.forEach((element) => {\n    const config = getAttributesConfig(element, DEFAULT_PROPERTIES, DATA_ATTRS_PROPERTIES);\n    config.element = element;\n\n    components.push(Alert.DOMInterface(config));\n  });\n\n  document.addEventListener('click', (event) => {\n    const target = findTargetByAttr(event.target, 'data-dismiss');\n    if (!target) {\n      return;\n    }\n\n    const dataToggleAttr = target.getAttribute('data-dismiss');\n\n    if (dataToggleAttr && dataToggleAttr === NAME) {\n      const alert = findTargetByClass(event.target, NAME);\n      const id = alert.getAttribute('id');\n      const component = components.find(c => c.getElement().getAttribute('id') === id);\n\n      if (!component) {\n        return;\n      }\n\n      component.hide();\n    }\n  });\n\n  return Alert;\n})(window.$ ? window.$ : null);\n\nexport default Alert;\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT (https://github.com/quark-dev/Phonon-Framework/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\nimport Event from '../../common/events';\nimport Component from '../component';\nimport { getAttributesConfig } from '../componentManager';\nimport { createJqueryPlugin, sleep } from '../../common/utils';\n\nconst Modal = (($) => {\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  const NAME = 'modal';\n  const VERSION = '2.0.0';\n  const BACKDROP_SELECTOR = 'modal-backdrop';\n  const DEFAULT_PROPERTIES = {\n    element: null,\n    title: null,\n    message: null,\n    cancelable: true,\n    type: null,\n    background: null,\n    cancelableKeyCodes: [\n      27, // Escape\n      13, // Enter\n    ],\n    buttons: [\n      {\n        event: 'confirm',\n        text: 'Ok',\n        dismiss: true,\n        class: 'btn btn-primary',\n      },\n    ],\n  };\n  const DATA_ATTRS_PROPERTIES = [\n    'cancelable',\n    'background',\n  ];\n  const components = [];\n\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  class Modal extends Component {\n    constructor(options = {}, template = null) {\n      super(NAME, VERSION, DEFAULT_PROPERTIES, options, DATA_ATTRS_PROPERTIES, true, true);\n\n      this.template = template || ''\n      + '<div class=\"modal\" tabindex=\"-1\" role=\"modal\">'\n        + '<div class=\"modal-inner\" role=\"document\">'\n          + '<div class=\"modal-content\">'\n            + '<div class=\"modal-header\">'\n              + '<h5 class=\"modal-title\"></h5>'\n            + '</div>'\n            + '<div class=\"modal-body\">'\n              + '<p></p>'\n            + '</div>'\n            + '<div class=\"modal-footer\">'\n            + '</div>'\n          + '</div>'\n        + '</div>'\n      + '</div>';\n\n      if (this.dynamicElement) {\n        this.build();\n      }\n\n      this.setBackgroud();\n    }\n\n    build() {\n      const builder = document.createElement('div');\n\n      builder.innerHTML = this.template;\n\n      this.options.element = builder.firstChild;\n\n      // title\n      if (this.options.title !== null) {\n        this.options.element.querySelector('.modal-title').innerHTML = this.options.title;\n      }\n\n      // message\n      if (this.options.message !== null) {\n        this.options.element.querySelector('.modal-body').firstChild.innerHTML = this.options.message;\n      } else {\n        // remove paragraph node\n        this.removeTextBody();\n      }\n\n      // buttons\n      if (this.options.buttons !== null && Array.isArray(this.options.buttons)) {\n        if (this.options.buttons.length > 0) {\n          this.options.buttons.forEach((button) => {\n            this.options.element.querySelector('.modal-footer').appendChild(this.buildButton(button));\n          });\n        } else {\n          this.removeFooter();\n        }\n      } else {\n        this.removeFooter();\n      }\n\n      document.body.appendChild(this.options.element);\n\n      this.setAttributes();\n    }\n\n    setBackgroud() {\n      const background = this.getConfig('background');\n\n      if (!background) {\n        return;\n      }\n\n      if (!this.options.element.classList.contains(`modal-${background}`)) {\n        this.options.element.classList.add(`modal-${background}`);\n      }\n\n      if (!this.options.element.classList.contains('text-white')) {\n        this.options.element.classList.add('text-white');\n      }\n    }\n\n    buildButton(buttonInfo = {}) {\n      const button = document.createElement('button');\n      button.setAttribute('type', 'button');\n      button.setAttribute('class', buttonInfo.class || 'btn');\n      button.setAttribute('data-event', buttonInfo.event);\n      button.innerHTML = buttonInfo.text;\n\n      if (buttonInfo.dismiss) {\n        button.setAttribute('data-dismiss', NAME);\n      }\n\n      return button;\n    }\n\n    buildBackdrop() {\n      const backdrop = document.createElement('div');\n      backdrop.setAttribute('data-id', this.id);\n      backdrop.classList.add(BACKDROP_SELECTOR);\n\n      document.body.appendChild(backdrop);\n    }\n\n    getBackdrop() {\n      return document.querySelector(`.${BACKDROP_SELECTOR}[data-id=\"${this.id}\"]`);\n    }\n\n    removeTextBody() {\n      this.options.element.querySelector('.modal-body').removeChild(this.options.element.querySelector('.modal-body').firstChild);\n    }\n\n    removeFooter() {\n      const footer = this.options.element.querySelector('.modal-footer');\n      this.options.element.querySelector('.modal-content').removeChild(footer);\n    }\n\n    center() {\n      const computedStyle = window.getComputedStyle(this.options.element);\n      const height = computedStyle.height.slice(0, computedStyle.height.length - 2);\n\n      const top = (window.innerHeight / 2) - (height / 2);\n      this.options.element.style.top = `${top}px`;\n    }\n\n    /**\n     * Shows the modal\n     * @returns {Boolean}\n     */\n    show() {\n      if (this.options.element === null) {\n        // build and insert a new DOM element\n        this.build();\n      }\n\n      if (this.options.element.classList.contains('show')) {\n        return false;\n      }\n\n      // add a timeout so that the CSS animation works\n      (async () => {\n        await sleep(20);\n\n        this.triggerEvent(Event.SHOW);\n        this.buildBackdrop();\n\n        // attach event\n        this.attachEvents();\n\n        const onShown = () => {\n          this.triggerEvent(Event.SHOWN);\n          this.options.element.removeEventListener(Event.TRANSITION_END, onShown);\n        };\n\n        this.options.element.addEventListener(Event.TRANSITION_END, onShown);\n\n        this.options.element.classList.add('show');\n\n        this.center();\n      })();\n\n      return true;\n    }\n\n    onElementEvent(event) {\n      // keyboard event (escape and enter)\n      if (event.type === 'keyup') {\n        if (this.options.cancelableKeyCodes.find(k => k === event.keyCode)) {\n          this.hide();\n        }\n        return;\n      }\n\n      // backdrop event\n      if (event.type === Event.START) {\n        // hide the modal\n        this.hide();\n        return;\n      }\n\n      // button event\n      if (event.type === 'click') {\n        const eventName = event.target.getAttribute('data-event');\n\n        if (eventName) {\n          this.triggerEvent(eventName);\n        }\n\n        if (event.target.getAttribute('data-dismiss') === NAME) {\n          this.hide();\n        }\n      }\n    }\n\n    /**\n     * Hides the modal\n     * @returns {Boolean}\n     */\n    hide() {\n      if (!this.options.element.classList.contains('show')) {\n        return false;\n      }\n\n      this.triggerEvent(Event.HIDE);\n\n      this.detachEvents();\n\n      this.options.element.classList.add('hide');\n      this.options.element.classList.remove('show');\n\n      const backdrop = this.getBackdrop();\n\n      const onHidden = () => {\n        document.body.removeChild(backdrop);\n\n        this.options.element.classList.remove('hide');\n\n        this.triggerEvent(Event.HIDDEN);\n\n        backdrop.removeEventListener(Event.TRANSITION_END, onHidden);\n\n        // remove generated modals from the DOM\n        if (this.dynamicElement) {\n          document.body.removeChild(this.options.element);\n          this.options.element = null;\n        }\n      };\n\n      backdrop.addEventListener(Event.TRANSITION_END, onHidden);\n      backdrop.classList.add('fadeout');\n\n      return true;\n    }\n\n    attachEvents() {\n      const buttons = this.options.element.querySelectorAll('[data-dismiss], .modal-footer button');\n      if (buttons) {\n        Array.from(buttons).forEach(button => this.registerElement({ target: button, event: 'click' }));\n      }\n\n      // add events if the modal is cancelable\n      // which means the user can hide the modal\n      // by pressing the ESC key or click on the backdrop\n      if (this.options.cancelable) {\n        const backdrop = this.getBackdrop();\n        this.registerElement({ target: backdrop, event: Event.START });\n        this.registerElement({ target: document, event: 'keyup' });\n      }\n    }\n\n    detachEvents() {\n      const buttons = this.options.element.querySelectorAll('[data-dismiss], .modal-footer button');\n      if (buttons) {\n        Array.from(buttons).forEach(button => this.unregisterElement({ target: button, event: 'click' }));\n      }\n\n      if (this.options.cancelable) {\n        const backdrop = this.getBackdrop();\n        this.unregisterElement({ target: backdrop, event: Event.START });\n        this.unregisterElement({ target: document, event: 'keyup' });\n      }\n    }\n\n    static identifier() {\n      return NAME;\n    }\n\n    static DOMInterface(options) {\n      return super.DOMInterface(Modal, options, components);\n    }\n  }\n\n  /**\n   * ------------------------------------------------------------------------\n   * jQuery\n   * ------------------------------------------------------------------------\n   */\n  createJqueryPlugin($, NAME, Modal);\n\n  /**\n   * ------------------------------------------------------------------------\n   * DOM Api implementation\n   * ------------------------------------------------------------------------\n   */\n  const modals = Array.from(document.querySelectorAll(`.${NAME}`) || []);\n\n  modals.forEach((element) => {\n    const config = getAttributesConfig(element, DEFAULT_PROPERTIES, DATA_ATTRS_PROPERTIES);\n    config.element = element;\n\n    components.push(new Modal(config));\n  });\n\n  document.addEventListener('click', (event) => {\n    const dataToggleAttr = event.target.getAttribute('data-toggle');\n    if (dataToggleAttr && dataToggleAttr === NAME) {\n      const selector = event.target.getAttribute('data-target');\n      const element = document.querySelector(selector);\n\n      const component = components.find(c => c.getElement() === element);\n\n      if (!component) {\n        return;\n      }\n\n      // remove the focus state of the trigger\n      event.target.blur();\n\n      component.show();\n    }\n  });\n\n  return Modal;\n})(window.$ ? window.$ : null);\n\nexport default Modal;\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT (https://github.com/quark-dev/Phonon-Framework/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\nimport Modal from './index';\nimport { getAttributesConfig } from '../componentManager';\nimport { createJqueryPlugin } from '../../common/utils';\n\nconst Prompt = (($) => {\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  const NAME = 'prompt';\n  const DEFAULT_PROPERTIES = {\n    element: null,\n    title: null,\n    message: null,\n    cancelable: true,\n    type: NAME,\n    buttons: [\n      {\n        event: 'cancel',\n        text: 'Cancel',\n        dismiss: true,\n        class: 'btn btn-secondary',\n      },\n      {\n        event: 'confirm',\n        text: 'Ok',\n        dismiss: true,\n        class: 'btn btn-primary',\n      },\n    ],\n  };\n  const DATA_ATTRS_PROPERTIES = [\n    'cancelable',\n  ];\n\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  class Prompt extends Modal {\n    constructor(options = {}) {\n      const template = ''\n      + '<div class=\"modal\" tabindex=\"-1\" role=\"modal\">'\n        + '<div class=\"modal-inner\" role=\"document\">'\n          + '<div class=\"modal-content\">'\n            + '<div class=\"modal-header\">'\n              + '<h5 class=\"modal-title\"></h5>'\n            + '</div>'\n            + '<div class=\"modal-body\">'\n              + '<p></p>'\n              + '<input class=\"form-control\" type=\"text\" value=\"\">'\n            + '</div>'\n            + '<div class=\"modal-footer\">'\n            + '</div>'\n          + '</div>'\n        + '</div>'\n      + '</div>';\n\n      if (!Array.isArray(options.buttons)) {\n        options.buttons = DEFAULT_PROPERTIES.buttons;\n      }\n\n      super(options, template);\n    }\n\n    /**\n     * Shows the prompt\n     * @returns {Boolean}\n     */\n    show() {\n      super.show();\n      this.attachInputEvent();\n    }\n\n    /**\n     * Hides the prompt\n     * @returns {Boolean}\n     */\n    hide() {\n      super.hide();\n      this.detachInputEvent();\n    }\n\n    getInput() {\n      return this.options.element.querySelector('.form-control');\n    }\n\n    attachInputEvent() {\n      this.registerElement({ target: this.getInput(), event: 'keyup' });\n    }\n\n    detachInputEvent() {\n      this.unregisterElement({ target: this.getInput(), event: 'keyup' });\n    }\n\n    onElementEvent(event) {\n      if (event.target === this.getInput()) {\n        return;\n      }\n\n      super.onElementEvent(event);\n    }\n\n    setInputValue(value = '') {\n      this.getInput().value = value;\n    }\n\n    getInputValue() {\n      return this.getInput().value;\n    }\n\n    static identifier() {\n      return NAME;\n    }\n\n    static DOMInterface(options) {\n      return new Prompt(options);\n    }\n  }\n\n  /**\n   * ------------------------------------------------------------------------\n   * jQuery\n   * ------------------------------------------------------------------------\n   */\n  createJqueryPlugin($, NAME, Prompt);\n\n  /**\n   * ------------------------------------------------------------------------\n   * DOM Api implementation\n   * ------------------------------------------------------------------------\n   */\n  const components = [];\n  const modals = document.querySelectorAll(`.${Modal.identifier()}`);\n\n  if (modals) {\n    Array.from(modals).forEach((element) => {\n      const config = getAttributesConfig(element, DEFAULT_PROPERTIES, DATA_ATTRS_PROPERTIES);\n      config.element = element;\n\n      if (config.type === NAME) {\n        // prompt\n        components.push(new Prompt(config));\n      }\n    });\n  }\n\n  document.addEventListener('click', (event) => {\n    const dataToggleAttr = event.target.getAttribute('data-toggle');\n    if (dataToggleAttr && dataToggleAttr === NAME) {\n      const id = event.target.getAttribute('data-target');\n      const element = document.querySelector(id);\n\n      const component = components.find(c => c.element === element);\n\n      if (!component) {\n        return;\n      }\n\n      // remove the focus state of the trigger\n      event.target.blur();\n\n      component.modal.show();\n    }\n  });\n\n  return Prompt;\n})(window.$ ? window.$ : null);\n\nexport default Prompt;\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT (https://github.com/quark-dev/Phonon-Framework/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\nimport Modal from './index';\nimport { getAttributesConfig } from '../componentManager';\nimport { createJqueryPlugin } from '../../common/utils';\n\nconst Confirm = (($) => {\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  const NAME = 'confirm';\n  const DEFAULT_PROPERTIES = {\n    element: null,\n    title: null,\n    message: null,\n    cancelable: true,\n    type: NAME,\n    buttons: [\n      {\n        event: 'cancel',\n        text: 'Cancel',\n        dismiss: true,\n        class: 'btn btn-secondary',\n      },\n      {\n        event: 'confirm',\n        text: 'Ok',\n        dismiss: true,\n        class: 'btn btn-primary',\n      },\n    ],\n  };\n  const DATA_ATTRS_PROPERTIES = [\n    'cancelable',\n  ];\n\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  class Confirm extends Modal {\n    constructor(options = {}) {\n      const opts = options;\n      const template = ''\n      + '<div class=\"modal\" tabindex=\"-1\" role=\"modal\">'\n        + '<div class=\"modal-inner\" role=\"document\">'\n          + '<div class=\"modal-content\">'\n            + '<div class=\"modal-header\">'\n              + '<h5 class=\"modal-title\"></h5>'\n            + '</div>'\n            + '<div class=\"modal-body\">'\n              + '<p></p>'\n            + '</div>'\n            + '<div class=\"modal-footer\">'\n            + '</div>'\n          + '</div>'\n        + '</div>'\n      + '</div>';\n\n      if (!Array.isArray(opts.buttons)) {\n        opts.buttons = DEFAULT_PROPERTIES.buttons;\n      }\n\n      super(opts, template);\n    }\n\n    static identifier() {\n      return NAME;\n    }\n\n    static DOMInterface(options) {\n      return new Confirm(options);\n    }\n  }\n\n  /**\n   * ------------------------------------------------------------------------\n   * jQuery\n   * ------------------------------------------------------------------------\n   */\n  createJqueryPlugin($, NAME, Confirm);\n\n  /**\n   * ------------------------------------------------------------------------\n   * DOM Api implementation\n   * ------------------------------------------------------------------------\n   */\n  const components = [];\n  const modals = document.querySelectorAll(`.${Modal.identifier()}`);\n\n  if (modals) {\n    Array.from(modals).forEach((element) => {\n      const config = getAttributesConfig(element, DEFAULT_PROPERTIES, DATA_ATTRS_PROPERTIES);\n      config.element = element;\n\n      if (config.type === NAME) {\n        // confirm\n        components.push(new Confirm(config));\n      }\n    });\n  }\n\n  document.addEventListener('click', (event) => {\n    const dataToggleAttr = event.target.getAttribute('data-toggle');\n    if (dataToggleAttr && dataToggleAttr === NAME) {\n      const id = event.target.getAttribute('data-target');\n      const element = document.querySelector(id);\n\n      const component = components.find(c => c.element === element);\n\n      if (!component) {\n        return;\n      }\n\n      // remove the focus state of the trigger\n      event.target.blur();\n\n      component.modal.show();\n    }\n  });\n\n  return Confirm;\n})(window.$ ? window.$ : null);\n\nexport default Confirm;\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT (https://github.com/quark-dev/Phonon-Framework/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\nimport Component from '../component';\nimport { createJqueryPlugin } from '../../common/utils';\nimport Event from '../../common/events';\n\nconst Loader = (($) => {\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  const NAME = 'loader';\n  const VERSION = '2.0.0';\n  const DEFAULT_PROPERTIES = {\n    element: null,\n    color: null,\n    size: null,\n  };\n  const DATA_ATTRS_PROPERTIES = [];\n\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  class Loader extends Component {\n    constructor(options = {}) {\n      super(NAME, VERSION, DEFAULT_PROPERTIES, options, DATA_ATTRS_PROPERTIES, false, false);\n\n      // set color\n      const loaderSpinner = this.getSpinner();\n      if (typeof this.options.color === 'string'\n        && !loaderSpinner.classList.contains(`color-${this.options.color}`)) {\n        loaderSpinner.classList.add(`color-${this.options.color}`);\n      }\n\n      this.customSize = this.options.size !== null;\n    }\n\n    getClientSize() {\n      if (!this.customSize) {\n        const size = this.options.element.getBoundingClientRect();\n        return size.height;\n      }\n\n      return this.options.size;\n    }\n\n    getSpinner() {\n      return this.options.element.querySelector('.loader-spinner');\n    }\n\n    show() {\n      if (this.options.element.classList.contains('hide')) {\n        this.options.element.classList.remove('hide');\n      }\n\n      this.triggerEvent(Event.SHOW);\n\n      const size = this.getClientSize();\n      this.options.size = size;\n\n      if (this.customSize) {\n        this.options.element.style.width = `${this.options.size}px`;\n        this.options.element.style.height = `${this.options.size}px`;\n\n        const loaderSpinner = this.getSpinner();\n        loaderSpinner.style.width = `${this.options.size}px`;\n        loaderSpinner.style.height = `${this.options.size}px`;\n      }\n\n      this.triggerEvent(Event.SHOWN);\n\n      return true;\n    }\n\n    animate(startAnimation = true) {\n      if (startAnimation) {\n        this.show();\n      } else {\n        this.hide();\n      }\n\n      const loaderSpinner = this.getSpinner();\n\n      if (startAnimation\n        && !loaderSpinner.classList.contains('loader-spinner-animated')) {\n        loaderSpinner.classList.add('loader-spinner-animated');\n        return true;\n      }\n\n      if (!startAnimation\n        && loaderSpinner.classList.contains('loader-spinner-animated')) {\n        loaderSpinner.classList.remove('loader-spinner-animated');\n      }\n\n      return true;\n    }\n\n    hide() {\n      if (!this.options.element.classList.contains('hide')) {\n        this.options.element.classList.add('hide');\n      }\n\n      this.triggerEvent(Event.HIDE);\n\n      this.triggerEvent(Event.HIDDEN);\n\n      return true;\n    }\n\n    static identifier() {\n      return NAME;\n    }\n\n    static DOMInterface(options) {\n      return super.DOMInterface(Loader, options);\n    }\n  }\n\n  /**\n   * ------------------------------------------------------------------------\n   * jQuery\n   * ------------------------------------------------------------------------\n   */\n  createJqueryPlugin($, NAME, Loader);\n\n  return Loader;\n})(window.$ ? window.$ : null);\n\nexport default Loader;\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT (https://github.com/quark-dev/Phonon-Framework/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\nimport Modal from './index';\nimport Spinner from '../loader/index';\nimport { getAttributesConfig } from '../componentManager';\nimport { createJqueryPlugin } from '../../common/utils';\n\nconst Loader = (($) => {\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  const NAME = 'loader';\n  const DEFAULT_PROPERTIES = {\n    element: null,\n    title: null,\n    message: null,\n    cancelable: true,\n    type: NAME,\n    buttons: [],\n  };\n  const DATA_ATTRS_PROPERTIES = [\n    'cancelable',\n  ];\n\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  class Loader extends Modal {\n    constructor(options = {}) {\n      const opts = options;\n      const template = ''\n      + '<div class=\"modal\" tabindex=\"-1\" role=\"modal\">'\n        + '<div class=\"modal-inner\" role=\"document\">'\n          + '<div class=\"modal-content\">'\n            + '<div class=\"modal-header\">'\n              + '<h5 class=\"modal-title\"></h5>'\n            + '</div>'\n            + '<div class=\"modal-body\">'\n              + '<p></p>'\n              + '<div class=\"mx-auto text-center\">'\n                + '<div class=\"loader mx-auto d-block\">'\n                  + '<div class=\"loader-spinner\"></div>'\n                + '</div>'\n              + '</div>'\n            + '</div>'\n            + '<div class=\"modal-footer\">'\n            + '</div>'\n          + '</div>'\n        + '</div>'\n      + '</div>';\n\n      if (!Array.isArray(opts.buttons)) {\n        opts.buttons = opts.cancelable ? DEFAULT_PROPERTIES.buttons : [];\n      }\n\n      super(opts, template);\n\n      this.spinner = null;\n    }\n\n    show() {\n      super.show();\n\n      this.spinner = new Spinner({ element: this.getElement().querySelector('.loader') });\n      this.spinner.animate(true);\n    }\n\n    hide() {\n      super.hide();\n\n      this.spinner.animate(false);\n      this.spinner = null;\n    }\n\n    static identifier() {\n      return NAME;\n    }\n\n    static DOMInterface(options) {\n      return new Loader(options);\n    }\n  }\n\n  /**\n   * ------------------------------------------------------------------------\n   * jQuery\n   * ------------------------------------------------------------------------\n   */\n  createJqueryPlugin($, NAME, Loader);\n\n  /**\n   * ------------------------------------------------------------------------\n   * DOM Api implementation\n   * ------------------------------------------------------------------------\n   */\n  const components = [];\n  const modals = document.querySelectorAll(`.${Modal.identifier()}`);\n\n  if (modals) {\n    Array.from(modals).forEach((element) => {\n      const config = getAttributesConfig(element, DEFAULT_PROPERTIES, DATA_ATTRS_PROPERTIES);\n      config.element = element;\n\n      if (config.type === NAME) {\n        // loader\n        components.push(new Loader(config));\n      }\n    });\n  }\n\n  document.addEventListener('click', (event) => {\n    const dataToggleAttr = event.target.getAttribute('data-toggle');\n    if (dataToggleAttr && dataToggleAttr === NAME) {\n      const id = event.target.getAttribute('data-target');\n      const element = document.querySelector(id);\n\n      const component = components.find(c => c.element === element);\n\n      if (!component) {\n        return;\n      }\n\n      // remove the focus state of the trigger\n      event.target.blur();\n\n      component.modal.show();\n    }\n  });\n\n  return Loader;\n})(window.$ ? window.$ : null);\n\nexport default Loader;\n","/**\n* --------------------------------------------------------------------------\n* Licensed under MIT (https://github.com/quark-dev/Phonon-Framework/blob/master/LICENSE)\n* --------------------------------------------------------------------------\n*/\nimport Event from '../../common/events';\nimport Component from '../component';\nimport { createJqueryPlugin, sleep } from '../../common/utils';\n\nconst Notification = (($) => {\n  /**\n   * ------------------------------------------------------------------------\n  * Constants\n  * ------------------------------------------------------------------------\n  */\n\n  const NAME = 'notification';\n  const VERSION = '2.0.0';\n  const DEFAULT_PROPERTIES = {\n    element: null,\n    message: '',\n    button: true,\n    timeout: null,\n    background: 'primary',\n    directionX: 'right',\n    directionY: 'top',\n    offsetX: 0,\n    offsetY: 0,\n    appendIn: document.body,\n  };\n  const DATA_ATTRS_PROPERTIES = [\n    'message',\n    'button',\n    'timeout',\n    'background',\n  ];\n\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  class Notification extends Component {\n    constructor(options = {}) {\n      super(NAME, VERSION, DEFAULT_PROPERTIES, options, DATA_ATTRS_PROPERTIES, true, false);\n\n      this.template = ''\n      + '<div class=\"notification\">'\n        + '<div class=\"notification-inner\">'\n          + '<div class=\"message\"></div>'\n          + '<button type=\"button\" class=\"close\" data-dismiss=\"notification\" aria-label=\"Close\">'\n            + '<span aria-hidden=\"true\">&times;</span>'\n          + '</button>'\n        + '</div>'\n      + '</div>';\n\n      if (this.dynamicElement) {\n        this.build();\n      }\n\n      this.timeoutCallback = null;\n    }\n\n    build() {\n      const builder = document.createElement('div');\n\n      builder.innerHTML = this.template;\n\n      this.options.element = builder.firstChild;\n\n      // text message\n      this.options.element.querySelector('.message').innerHTML = this.options.message;\n\n      if (!this.options.button) {\n        this.options.element.querySelector('button').style.display = 'none';\n      }\n\n      this.getConfig('appendIn', DEFAULT_PROPERTIES.appendIn).appendChild(this.options.element);\n      this.setAttributes();\n    }\n\n    setPosition() {\n      const x = this.getConfig('directionX', DEFAULT_PROPERTIES.directionX);\n      const y = this.getConfig('directionY', DEFAULT_PROPERTIES.directionY);\n      const offsetX = this.getConfig('offsetX', DEFAULT_PROPERTIES.offsetX);\n      const offsetY = this.getConfig('offsetY', DEFAULT_PROPERTIES.offsetY);\n\n      const notification = this.options.element;\n      const directions = ['top', 'right', 'bottom', 'left'];\n\n      directions.forEach((d) => {\n        if (notification.classList.contains(d)) {\n          notification.classList.remove(d);\n        }\n      });\n\n      notification.style.marginLeft = '0px';\n      notification.style.marginRight = '0px';\n\n      notification.classList.add(`notification-${x}`);\n      notification.classList.add(`notification-${y}`);\n\n      const activeNotifications = document.querySelectorAll('.notification.show') || [];\n      let totalNotifY = 0;\n      activeNotifications.forEach((n) => {\n        if (notification !== n) {\n          const style = getComputedStyle(n);\n          totalNotifY += n.offsetHeight\n            + parseInt(style.marginTop, 10)\n            + parseInt(style.marginBottom, 10);\n        }\n      });\n\n      notification.style.transform = `translateY(${y === 'top' ? '' : '-'}${totalNotifY}px)`;\n\n      notification.style[`margin${x.replace(/^\\w/, c => c.toUpperCase())}`] = `${offsetX}px`;\n      notification.style[`margin${y.replace(/^\\w/, c => c.toUpperCase())}`] = `${offsetY}px`;\n    }\n\n    /**\n     * Shows the notification\n     * @returns {Boolean}\n     */\n    show() {\n      if (this.options.element === null) {\n        // build and insert a new DOM element\n        this.build();\n      }\n\n      if (this.options.element.classList.contains('show')) {\n        return false;\n      }\n\n      // reset color\n      if (this.options.background) {\n        this.options.element.removeAttribute('class');\n        this.options.element.setAttribute('class', 'notification');\n\n        this.options.element.classList.add(`notification-${this.options.background}`);\n        this.options.element.querySelector('button').classList.add(`btn-${this.options.background}`);\n      }\n\n      this.setPosition();\n\n      const buttonElement = this.options.element.querySelector('button[data-dismiss]');\n\n      if (this.options.button && buttonElement) {\n        // attach the button handler\n        this.registerElement({ target: buttonElement, event: 'click' });\n      }\n\n      (async () => {\n        await sleep(20);\n\n        if (Number.isInteger(this.options.timeout) && this.options.timeout > 0) {\n          // if there is a timeout, auto hide the notification\n          this.timeoutCallback = setTimeout(() => {\n            this.hide();\n          }, this.options.timeout + 1);\n        }\n\n        this.options.element.classList.add('show');\n\n        this.triggerEvent(Event.SHOW);\n\n        const onShown = () => {\n          this.triggerEvent(Event.SHOWN);\n          this.options.element.removeEventListener(Event.TRANSITION_END, onShown);\n        };\n\n        this.options.element.addEventListener(Event.TRANSITION_END, onShown);\n      })();\n\n      return true;\n    }\n\n    /**\n     * Hides the notification\n     * @returns {Boolean}\n     */\n    hide() {\n      /*\n      * prevent to close a notification with a timeout\n      * if the user has already clicked on the button\n      */\n      if (this.timeoutCallback) {\n        clearTimeout(this.timeoutCallback);\n        this.timeoutCallback = null;\n      }\n\n      if (!this.options.element.classList.contains('show')) {\n        return false;\n      }\n\n      this.triggerEvent(Event.HIDE);\n\n      const buttonElement = this.options.element.querySelector('button[data-dismiss]');\n\n      if (this.options.button && buttonElement) {\n        this.unregisterElement({ target: buttonElement, event: 'click' });\n      }\n\n      this.options.element.classList.remove('show');\n      this.options.element.classList.add('hide');\n\n      const onHidden = () => {\n        this.options.element.removeEventListener(Event.TRANSITION_END, onHidden);\n        this.options.element.classList.remove('hide');\n\n        this.triggerEvent(Event.HIDDEN);\n\n        if (this.dynamicElement) {\n          document.body.removeChild(this.options.element);\n          this.options.element = null;\n        }\n      };\n\n      this.options.element.addEventListener(Event.TRANSITION_END, onHidden);\n\n      return true;\n    }\n\n    onElementEvent() {\n      this.hide();\n    }\n\n    static identifier() {\n      return NAME;\n    }\n\n    static DOMInterface(options) {\n      return super.DOMInterface(Notification, options);\n    }\n  }\n\n  /**\n   * ------------------------------------------------------------------------\n   * jQuery\n   * ------------------------------------------------------------------------\n   */\n  createJqueryPlugin($, NAME, Notification);\n\n\n  return Notification;\n})(window.$ ? window.$ : null);\n\nexport default Notification;\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT (https://github.com/quark-dev/Phonon-Framework/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\nimport Component from '../component';\nimport { getAttributesConfig } from '../componentManager';\nimport Event from '../../common/events';\nimport { findTargetByAttr, createJqueryPlugin, sleep } from '../../common/utils';\n\nconst Collapse = (($) => {\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  const NAME = 'collapse';\n  const VERSION = '2.0.0';\n  const DEFAULT_PROPERTIES = {\n    element: null,\n    toggle: false,\n  };\n  const DATA_ATTRS_PROPERTIES = [\n  ];\n  const components = [];\n\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  class Collapse extends Component {\n    constructor(options = {}) {\n      super(NAME, VERSION, DEFAULT_PROPERTIES, options, DATA_ATTRS_PROPERTIES, false, false);\n\n      this.onTransition = false;\n\n      // toggle directly\n      if (this.options.toggle) {\n        this.show();\n      }\n    }\n\n    getHeight() {\n      return this.options.element.getBoundingClientRect(this.options.element).height;\n    }\n\n    toggle() {\n      if (this.options.element.classList.contains('show')) {\n        return this.hide();\n      }\n\n      return this.show();\n    }\n\n    /**\n     * Shows the collapse\n     * @returns {Boolean}\n     */\n    show() {\n      if (this.onTransition) {\n        return false;\n      }\n\n      if (this.options.element.classList.contains('show')) {\n        return false;\n      }\n\n      this.onTransition = true;\n\n      this.triggerEvent(Event.SHOW);\n\n      const onCollapsed = () => {\n        this.triggerEvent(Event.SHOWN);\n\n        this.options.element.classList.add('show');\n        this.options.element.classList.remove('collapsing');\n        this.options.element.removeEventListener(Event.TRANSITION_END, onCollapsed);\n\n        this.options.element.setAttribute('aria-expanded', true);\n\n        this.onTransition = false;\n\n        // reset the normal height after the animation\n        this.options.element.style.height = 'auto';\n      };\n\n      if (!this.options.element.classList.contains('collapsing')) {\n        this.options.element.classList.add('collapsing');\n      }\n\n      this.options.element.addEventListener(Event.TRANSITION_END, onCollapsed);\n\n      if (!this.isVerticalCollapse()) {\n        // expandableElement\n        this.options.element.classList.add('slide');\n      } else {\n        // get real height\n        const height = this.getHeight();\n\n        this.options.element.style.height = '0px';\n\n        setTimeout(() => {\n          this.options.element.style.height = `${height}px`;\n        }, 20);\n      }\n\n      return true;\n    }\n\n    /**\n     * Hides the collapse\n     * @returns {Boolean}\n     */\n    hide() {\n      if (this.onTransition) {\n        return false;\n      }\n\n      if (!this.options.element.classList.contains('show')) {\n        return false;\n      }\n\n      this.onTransition = true;\n\n      this.triggerEvent(Event.HIDE);\n\n      const onCollapsed = () => {\n        this.triggerEvent(Event.HIDDEN);\n\n        this.options.element.classList.remove('collapsing');\n        this.options.element.style.height = 'auto';\n        this.options.element.removeEventListener(Event.TRANSITION_END, onCollapsed);\n\n        this.options.element.setAttribute('aria-expanded', false);\n\n        this.onTransition = false;\n      };\n\n      if (!this.isVerticalCollapse()) {\n        if (this.options.element.classList.contains('slide')) {\n          this.options.element.classList.remove('slide');\n        }\n      } else {\n        // transform auto height by real height in px\n        this.options.element.style.height = `${this.options.element.offsetHeight}px`;\n\n        setTimeout(() => {\n          this.options.element.style.height = '0px';\n        }, 20);\n      }\n\n      this.options.element.addEventListener(Event.TRANSITION_END, onCollapsed);\n\n      if (!this.options.element.classList.contains('collapsing')) {\n        this.options.element.classList.add('collapsing');\n      }\n\n      this.options.element.classList.remove('show');\n\n      return true;\n    }\n\n    isVerticalCollapse() {\n      return !this.options.element.classList.contains('collapse-l')\n        && !this.options.element.classList.contains('collapse-r');\n    }\n\n    static identifier() {\n      return NAME;\n    }\n\n    static DOMInterface(options) {\n      return super.DOMInterface(Collapse, options, components);\n    }\n  }\n\n  /**\n   * ------------------------------------------------------------------------\n   * jQuery\n   * ------------------------------------------------------------------------\n   */\n  createJqueryPlugin($, NAME, Collapse);\n\n  /**\n   * ------------------------------------------------------------------------\n   * DOM Api implementation\n   * ------------------------------------------------------------------------\n   */\n  const collapses = Array.from(document.querySelectorAll(`.${NAME}`) || []);\n\n  collapses.forEach((element) => {\n    const config = getAttributesConfig(element, DEFAULT_PROPERTIES, DATA_ATTRS_PROPERTIES);\n    config.element = element;\n\n    components.push(Collapse.DOMInterface(config));\n  });\n\n  document.addEventListener(Event.CLICK, (event) => {\n    const target = findTargetByAttr(event.target, 'data-toggle');\n    if (!target) {\n      return;\n    }\n\n    const dataToggleAttr = target.getAttribute('data-toggle');\n\n    if (dataToggleAttr && dataToggleAttr === NAME) {\n      let id = target.getAttribute('data-target') || target.getAttribute('href');\n      id = id.replace('#', '');\n\n      const component = components.find(c => c.getElement().getAttribute('id') === id);\n\n      if (!component) {\n        return;\n      }\n\n      component.toggle();\n    }\n  });\n\n  return Collapse;\n})(window.$ ? window.$ : null);\n\nexport default Collapse;\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT (https://github.com/quark-dev/Phonon-Framework/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\nimport Component from '../component';\nimport Collapse from '../collapse';\nimport { getAttributesConfig } from '../componentManager';\nimport { findTargetByClass, createJqueryPlugin } from '../../common/utils';\n\nconst Accordion = (($) => {\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  const NAME = 'accordion';\n  const VERSION = '2.0.0';\n  const DEFAULT_PROPERTIES = {\n    element: null,\n  };\n  const DATA_ATTRS_PROPERTIES = [\n  ];\n  const components = [];\n\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  class Accordion extends Component {\n    constructor(options = {}) {\n      super(NAME, VERSION, DEFAULT_PROPERTIES, options, DATA_ATTRS_PROPERTIES, false, false);\n\n      this.collapses = [];\n\n      const toggles = this.options.element.querySelectorAll(`[data-toggle=\"${NAME}\"]`);\n      Array.from(toggles).forEach((toggle) => {\n        const collapseId = toggle.getAttribute('href');\n        const collapse = document.querySelector(collapseId);\n\n        if (collapse) {\n          this.addCollapse(collapse);\n        }\n      });\n    }\n\n    onElementEvent(event) {\n      const id = event.target.getAttribute('href');\n      const element = document.querySelector(id);\n\n      this.setCollapses(element);\n    }\n\n    addCollapse(element) {\n      const collapse = new Collapse({\n        element,\n      });\n      this.collapses.push(collapse);\n\n      return collapse;\n    }\n\n    getCollapse(element) {\n      let collapse = this.collapses.find(c => c.options.element.getAttribute('id') === element.getAttribute('id'));\n\n      if (!collapse) {\n        // create a new collapse\n        collapse = this.addCollapse();\n      }\n\n      return collapse;\n    }\n\n    getCollapses() {\n      return this.collapses;\n    }\n\n    /**\n     * Shows the collapse element and hides the other active collapse elements\n     * @param {Element} showCollapse\n     * @returns {undefined}\n     */\n    setCollapses(showCollapse) {\n      const collapse = this.getCollapse(showCollapse);\n      this.collapses.forEach((c) => {\n        if (c.options.element.getAttribute('id') !== showCollapse.getAttribute('id')) {\n          c.hide();\n        } else {\n          collapse.toggle();\n        }\n      });\n    }\n\n    /**\n     * Shows the collapse element\n     * @param {(string|Element)} collapseEl\n     * @returns {Boolean}\n     */\n    show(collapseEl) {\n      let collapse = collapseEl;\n      if (typeof collapseEl === 'string') {\n        collapse = document.querySelector(collapseEl);\n      }\n\n      if (!collapse) {\n        throw new Error(`${NAME}. The collapsible ${collapseEl} is an invalid HTMLElement.`);\n      }\n\n      this.setCollapses(collapse);\n\n      return true;\n    }\n\n    /**\n     * Hides the collapse element\n     * @param {(string|Element)} collapseEl\n     * @returns {Boolean}\n     */\n    hide(collapseEl) {\n      let collapse = collapseEl;\n      if (typeof collapseEl === 'string') {\n        collapse = document.querySelector(collapseEl);\n      }\n\n      if (!collapse) {\n        throw new Error(`${NAME}. The collapsible ${collapseEl} is an invalid HTMLElement.`);\n      }\n\n      const collapseObj = this.getCollapse(collapse);\n\n      return collapseObj.hide();\n    }\n\n    static identifier() {\n      return NAME;\n    }\n\n    static DOMInterface(options) {\n      return super.DOMInterface(Accordion, options, components);\n    }\n  }\n\n  /**\n   * ------------------------------------------------------------------------\n   * jQuery\n   * ------------------------------------------------------------------------\n   */\n  createJqueryPlugin($, NAME, Accordion);\n\n  /**\n   * ------------------------------------------------------------------------\n   * DOM Api implementation\n   * ------------------------------------------------------------------------\n   */\n  const accordions = Array.from(document.querySelectorAll(`.${NAME}`) || []);\n\n  accordions.forEach((element) => {\n    const config = getAttributesConfig(element, DEFAULT_PROPERTIES, DATA_ATTRS_PROPERTIES);\n    config.element = element;\n\n    components.push(Accordion.DOMInterface(config));\n  });\n\n  document.addEventListener('click', (event) => {\n    const dataToggleAttr = event.target.getAttribute('data-toggle');\n    if (dataToggleAttr && dataToggleAttr === NAME) {\n      const collapseId = event.target.getAttribute('data-target') || event.target.getAttribute('href');\n      const collapseEl = document.querySelector(collapseId);\n\n      const accordion = findTargetByClass(event.target, 'accordion');\n\n      if (accordion === null) {\n        return;\n      }\n\n      const accordionId = accordion.getAttribute('id');\n      const component = components.find(c => c.getElement().getAttribute('id') === accordionId);\n\n      if (!component) {\n        return;\n      }\n\n      // if the collapse has been added programmatically, we add it\n      const targetCollapse = component.getCollapses().find(c => c.getElement() === collapseEl);\n      if (!targetCollapse) {\n        component.addCollapse(collapseEl);\n      }\n\n      component.show(collapseId);\n    }\n  });\n\n  return Accordion;\n})(window.$ ? window.$ : null);\n\nexport default Accordion;\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT (https://github.com/quark-dev/Phonon-Framework/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\nimport Component from '../component';\nimport { getAttributesConfig } from '../componentManager';\nimport Event from '../../common/events';\nimport { findTargetByClass, createJqueryPlugin, sleep } from '../../common/utils';\n\nconst Tab = (($) => {\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  const NAME = 'tab';\n  const VERSION = '2.0.0';\n  const DEFAULT_PROPERTIES = {\n  };\n  const DATA_ATTRS_PROPERTIES = [\n  ];\n  const TAB_CONTENT_SELECTOR = '.tab-pane';\n\n  const components = [];\n\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  class Tab extends Component {\n    constructor(options = {}) {\n      super(NAME, VERSION, DEFAULT_PROPERTIES, options, DATA_ATTRS_PROPERTIES, false, false);\n    }\n\n    /**\n     * Shows the tab\n     * @returns {Boolean}\n     */\n    show() {\n      if (this.options.element.classList.contains('active')) {\n        return false;\n      }\n\n      const id = this.options.element.getAttribute('href');\n      const nav = findTargetByClass(this.options.element, 'nav');\n      const navTabs = nav ? nav.querySelectorAll(`[data-toggle=\"${NAME}\"]`) : null;\n\n      if (navTabs) {\n        Array.from(navTabs).forEach((tab) => {\n          if (tab.classList.contains('active')) {\n            tab.classList.remove('active');\n          }\n          tab.setAttribute('aria-selected', false);\n        });\n      }\n\n      this.options.element.classList.add('active');\n      this.options.element.setAttribute('aria-selected', true);\n\n      const tabContent = document.querySelector(id);\n      const tabContents = tabContent.parentNode.querySelectorAll(TAB_CONTENT_SELECTOR);\n\n      if (tabContents) {\n        Array.from(tabContents).forEach((tab) => {\n          if (tab.classList.contains('active')) {\n            tab.classList.remove('active');\n          }\n        });\n      }\n\n      tabContent.classList.add('showing');\n\n      this.triggerEvent(Event.SHOW);\n\n      const onShowed = () => {\n        tabContent.classList.remove('animate');\n        tabContent.classList.add('active');\n        tabContent.classList.remove('showing');\n\n        this.triggerEvent(Event.SHOWN);\n\n        tabContent.removeEventListener(Event.TRANSITION_END, onShowed);\n      };\n\n      (async () => {\n        await sleep(20);\n        tabContent.addEventListener(Event.TRANSITION_END, onShowed);\n        tabContent.classList.add('animate');\n      })();\n\n      return true;\n    }\n\n    /**\n     * Hides the tab\n     * @returns {Boolean}\n     */\n    hide() {\n      if (!this.options.element.classList.contains('active')) {\n        return false;\n      }\n\n      if (this.options.element.classList.contains('active')) {\n        this.options.element.classList.remove('active');\n      }\n\n      this.triggerEvent(Event.HIDE);\n\n      this.options.element.setAttribute('aria-selected', false);\n\n      const id = this.options.element.getAttribute('href');\n      const tabContent = document.querySelector(id);\n\n      if (tabContent.classList.contains('active')) {\n        tabContent.classList.remove('active');\n      }\n\n      this.triggerEvent(Event.HIDDEN);\n\n      return true;\n    }\n\n    static identifier() {\n      return NAME;\n    }\n\n    static DOMInterface(options) {\n      return super.DOMInterface(Tab, options, components);\n    }\n  }\n\n  /**\n   * ------------------------------------------------------------------------\n   * jQuery\n   * ------------------------------------------------------------------------\n   */\n  createJqueryPlugin($, NAME, Tab);\n\n  /**\n   * ------------------------------------------------------------------------\n   * DOM Api implementation\n   * ------------------------------------------------------------------------\n   */\n  const tabs = document.querySelectorAll(`[data-toggle=\"${NAME}\"]`);\n  if (tabs) {\n    Array.from(tabs).forEach((element) => {\n      // const config = {}\n      const config = getAttributesConfig(element, DEFAULT_PROPERTIES, DATA_ATTRS_PROPERTIES);\n      config.element = element;\n\n      components.push(Tab.DOMInterface(config));\n    });\n  }\n\n  document.addEventListener('click', (event) => {\n    const dataToggleAttr = event.target.getAttribute('data-toggle');\n    if (dataToggleAttr && dataToggleAttr === NAME) {\n      const id = event.target.getAttribute('href');\n\n      const component = components.find(c => c.getElement().getAttribute('href') === id);\n\n      if (!component) {\n        return;\n      }\n\n      component.show();\n    }\n  });\n\n  return Tab;\n})(window.$ ? window.$ : null);\n\nexport default Tab;\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT (https://github.com/quark-dev/Phonon-Framework/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\nimport Component from '../component';\nimport Event from '../../common/events';\nimport { createJqueryPlugin } from '../../common/utils';\n\nconst Progress = (($) => {\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  const NAME = 'progress';\n  const VERSION = '2.0.0';\n  const DEFAULT_PROPERTIES = {\n    element: null,\n    height: 5,\n    min: 0,\n    max: 100,\n    label: false,\n    striped: false,\n    background: null,\n  };\n  const DATA_ATTRS_PROPERTIES = [\n    'height',\n    'min',\n    'max',\n    'label',\n    'striped',\n    'background',\n  ];\n\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  class Progress extends Component {\n    constructor(options = {}) {\n      super(NAME, VERSION, DEFAULT_PROPERTIES, options, DATA_ATTRS_PROPERTIES, false, false);\n\n      // set the wanted height\n      this.options.element.style.height = `${this.options.height}px`;\n\n      // set min and max values\n      const progressBar = this.getProgressBar();\n      progressBar.setAttribute('aria-valuemin', `${this.options.min}`);\n      progressBar.setAttribute('aria-valuemax', `${this.options.max}`);\n\n      // set striped\n      if (this.options.striped\n        && !progressBar.classList.contains('progress-bar-striped')) {\n        progressBar.classList.add('progress-bar-striped');\n      }\n\n      // set background\n      if (typeof this.options.background === 'string'\n        && !progressBar.classList.contains(`bg-${this.options.background}`)) {\n        progressBar.classList.add(`bg-${this.options.background}`);\n      }\n    }\n\n    getProgressBar() {\n      return this.options.element.querySelector('.progress-bar');\n    }\n\n    set(value = 0) {\n      const progressBar = this.getProgressBar();\n      const progress = Math.round((value / (this.options.min + this.options.max)) * 100);\n\n      if (value < this.options.min) {\n        console.error(`${NAME}. Warning, ${value} is under min value.`);\n        return false;\n      }\n\n      if (value > this.options.max) {\n        console.error(`${NAME}. Warning, ${value} is above max value.`);\n        return false;\n      }\n\n      progressBar.setAttribute('aria-valuenow', `${value}`);\n\n      // set label\n      if (this.options.label) {\n        progressBar.innerHTML = `${progress}%`;\n      }\n\n      // set percentage\n      progressBar.style.width = `${progress}%`;\n\n      return true;\n    }\n\n    animate(startAnimation = true) {\n      if (!this.options.striped) {\n        console.error(`${NAME}. Animation works only with striped progress.`);\n        return false;\n      }\n\n      const progressBar = this.getProgressBar();\n\n      if (startAnimation\n        && !progressBar.classList.contains('progress-bar-animated')) {\n        progressBar.classList.add('progress-bar-animated');\n      }\n\n      if (!startAnimation\n        && progressBar.classList.contains('progress-bar-animated')) {\n        progressBar.classList.remove('progress-bar-animated');\n      }\n\n      return true;\n    }\n\n    /**\n     * Shows the progress bar\n     * @returns {Boolean}\n     */\n    show() {\n      this.options.element.style.height = `${this.options.height}px`;\n      this.triggerEvent(Event.SHOW);\n      this.triggerEvent(Event.SHOWN);\n\n      return true;\n    }\n\n    /**\n     * Hides the progress bar\n     * @returns {Boolean}\n     */\n    hide() {\n      this.options.element.style.height = '0px';\n      this.triggerEvent(Event.HIDE);\n      this.triggerEvent(Event.HIDDEN);\n\n      return true;\n    }\n\n    static identifier() {\n      return NAME;\n    }\n\n    static DOMInterface(options) {\n      return super.DOMInterface(Progress, options);\n    }\n  }\n\n  /**\n   * ------------------------------------------------------------------------\n   * jQuery\n   * ------------------------------------------------------------------------\n   */\n  createJqueryPlugin($, NAME, Progress);\n\n  return Progress;\n})(window.$ ? window.$ : null);\n\nexport default Progress;\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT (https://github.com/quark-dev/Phonon-Framework/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\nimport Event from '../../common/events';\nimport Component from '../component';\nimport { getAttributesConfig } from '../componentManager';\nimport { findTargetByAttr, createJqueryPlugin, sleep } from '../../common/utils';\n\nconst OffCanvas = (($) => {\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  const NAME = 'offcanvas';\n  const VERSION = '2.0.0';\n  const BACKDROP_SELECTOR = 'offcanvas-backdrop';\n  const DEFAULT_PROPERTIES = {\n    element: null,\n    container: document.body,\n    toggle: false,\n    aside: {\n      md: false,\n      lg: true,\n      xl: true,\n    },\n  };\n  const DATA_ATTRS_PROPERTIES = [\n    'aside',\n    'toggle',\n  ];\n  const components = [];\n\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  class OffCanvas extends Component {\n    constructor(options = {}) {\n      super(NAME, VERSION, DEFAULT_PROPERTIES, options, DATA_ATTRS_PROPERTIES, false, true);\n\n      this.currentWidthName = null;\n      this.animate = true;\n      this.showAside = false;\n\n      this.directions = ['left', 'right'];\n\n      const sm = { name: 'sm', media: window.matchMedia('(min-width: 1px)') };\n      const md = { name: 'md', media: window.matchMedia('(min-width: 768px)') };\n      const lg = { name: 'lg', media: window.matchMedia('(min-width: 992px)') };\n      const xl = { name: 'xl', media: window.matchMedia('(min-width: 1200px)') };\n\n      this.sizes = [sm, md, lg, xl].reverse();\n\n      this.checkDirection();\n      this.checkWidth();\n\n      if (this.options.toggle) {\n        this.toggle();\n      }\n\n      window.addEventListener('resize', () => this.checkWidth(), false);\n    }\n\n    checkDirection() {\n      this.directions.every((direction) => {\n        if (this.options.element.classList.contains(`offcanvas-${direction}`)) {\n          this.direction = direction;\n          return false;\n        }\n        return true;\n      });\n    }\n\n    checkWidth() {\n      if (!('matchMedia' in window)) {\n        return;\n      }\n\n      const size = this.sizes.find((size) => {\n        const match = size.media.media.match(/[a-z]?-width:\\s?([0-9]+)/);\n        return match && size.media.matches;\n      });\n\n      if (!size) {\n        return;\n      }\n\n      this.setAside(size.name);\n    }\n\n    setAside(sizeName) {\n      if (this.currentWidthName === sizeName) {\n        return;\n      }\n\n      this.currentWidthName = sizeName;\n\n      const content = this.getConfig('container', DEFAULT_PROPERTIES.container);\n\n      this.showAside = this.options.aside[sizeName] === true;\n\n      if (this.options.aside[sizeName] === true) {\n        if (!content.classList.contains(`offcanvas-aside-${this.direction}`)) {\n          content.classList.add(`offcanvas-aside-${this.direction}`);\n        }\n\n        // avoid animation by setting animate to false\n        this.animate = false;\n        // remove previous backdrop\n        if (this.getBackdrop()) {\n          this.removeBackdrop();\n        }\n\n        if (this.isVisible() && !content.classList.contains('show')) {\n          content.classList.add('show');\n        } else if (!this.isVisible() && content.classList.contains('show')) {\n          content.classList.remove('show');\n        }\n      } else {\n        if (content.classList.contains(`offcanvas-aside-${this.direction}`)) {\n          content.classList.remove(`offcanvas-aside-${this.direction}`);\n        }\n\n        this.animate = true;\n\n        // force hide\n        this.hide();\n      }\n    }\n\n    onElementEvent(event) {\n      if (event.type === 'keyup' && event.keyCode !== 27 && event.keyCode !== 13) {\n        return;\n      }\n\n      // hide the offcanvas\n      this.hide();\n    }\n\n    isVisible() {\n      return this.options.element.classList.contains('show');\n    }\n\n    /**\n     * Shows the off-canvas\n     * @returns {Boolean}\n     */\n    show() {\n      if (this.options.element.classList.contains('show')) {\n        return false;\n      }\n\n      this.triggerEvent(Event.SHOW);\n\n      if (!this.showAside) {\n        this.createBackdrop();\n      }\n\n      // add a timeout so that the CSS animation works\n      (async () => {\n        await sleep(20);\n\n        // attach event\n        this.attachEvents();\n\n        const onShown = () => {\n          this.triggerEvent(Event.SHOWN);\n\n          if (this.animate) {\n            this.options.element.removeEventListener(Event.TRANSITION_END, onShown);\n            this.options.element.classList.remove('animate');\n          }\n        };\n\n        if (this.showAside) {\n          const container = this.getConfig('container', DEFAULT_PROPERTIES.container);\n          if (!container.classList.contains('show')) {\n            container.classList.add('show');\n          }\n        }\n\n        if (this.animate) {\n          this.options.element.addEventListener(Event.TRANSITION_END, onShown);\n          this.options.element.classList.add('animate');\n        } else {\n          // directly trigger the onShown\n          onShown();\n        }\n\n        this.options.element.classList.add('show');\n      })();\n\n      return true;\n    }\n\n    /**\n     * Hides the off-canvas\n     * @returns {Boolean}\n     */\n    hide() {\n      if (!this.options.element.classList.contains('show')) {\n        return false;\n      }\n\n      this.triggerEvent(Event.HIDE);\n\n      this.detachEvents();\n\n      if (this.animate) {\n        this.options.element.classList.add('animate');\n      }\n\n      this.options.element.classList.remove('show');\n\n      if (this.showAside) {\n        const container = this.getConfig('container', DEFAULT_PROPERTIES.container);\n        if (container.classList.contains('show')) {\n          container.classList.remove('show');\n        }\n      }\n\n      if (!this.showAside) {\n        const backdrop = this.getBackdrop();\n\n        const onHidden = () => {\n          if (this.animate) {\n            this.options.element.classList.remove('animate');\n          }\n\n          backdrop.removeEventListener(Event.TRANSITION_END, onHidden);\n          this.triggerEvent(Event.HIDDEN);\n          this.removeBackdrop();\n        };\n\n        if (backdrop) {\n          backdrop.addEventListener(Event.TRANSITION_END, onHidden);\n          backdrop.classList.add('fadeout');\n        }\n      }\n\n      return true;\n    }\n\n    toggle() {\n      if (this.isVisible()) {\n        return this.hide();\n      }\n\n      return this.show();\n    }\n\n    createBackdrop() {\n      const backdrop = document.createElement('div');\n      backdrop.setAttribute('data-id', this.id);\n      backdrop.classList.add(BACKDROP_SELECTOR);\n\n      const content = this.getConfig('container', DEFAULT_PROPERTIES.container);\n      content.appendChild(backdrop);\n    }\n\n    getBackdrop() {\n      return document.querySelector(`.${BACKDROP_SELECTOR}[data-id=\"${this.id}\"]`);\n    }\n\n    removeBackdrop() {\n      const backdrop = this.getBackdrop();\n      if (backdrop) {\n        const content = this.getConfig('container', DEFAULT_PROPERTIES.container);\n        content.removeChild(backdrop);\n      }\n    }\n\n    attachEvents() {\n      Array.from(this.options.element.querySelectorAll('[data-dismiss]') || [])\n        .forEach(button => this.registerElement({ target: button, event: 'click' }));\n\n      const backdrop = this.getBackdrop();\n      if (!this.showAside && backdrop) {\n        this.registerElement({ target: backdrop, event: Event.START });\n      }\n\n      this.registerElement({ target: document, event: 'keyup' });\n    }\n\n    detachEvents() {\n      const dismissButtons = this.options.element.querySelectorAll('[data-dismiss]');\n\n      if (dismissButtons) {\n        Array.from(dismissButtons).forEach(button => this.unregisterElement({ target: button, event: 'click' }));\n      }\n\n      const backdrop = this.getBackdrop();\n      if (!this.showAside && backdrop) {\n        this.unregisterElement({ target: backdrop, event: Event.START });\n      }\n\n      this.unregisterElement({ target: document, event: 'keyup' });\n    }\n\n    static identifier() {\n      return NAME;\n    }\n\n    static DOMInterface(options) {\n      return super.DOMInterface(OffCanvas, options, components);\n    }\n  }\n\n  /**\n   * ------------------------------------------------------------------------\n   * jQuery\n   * ------------------------------------------------------------------------\n   */\n  createJqueryPlugin($, NAME, OffCanvas);\n\n  /**\n   * ------------------------------------------------------------------------\n   * DOM Api implementation\n   * ------------------------------------------------------------------------\n   */\n  const offCanvas = Array.from(document.querySelectorAll(`.${NAME}`) || []);\n\n  offCanvas.forEach((element) => {\n    const config = getAttributesConfig(element, DEFAULT_PROPERTIES, DATA_ATTRS_PROPERTIES);\n    config.element = element;\n\n    components.push(new OffCanvas(config));\n  });\n\n  document.addEventListener('click', (event) => {\n    const target = findTargetByAttr(event.target, 'data-toggle');\n    if (!target) {\n      return;\n    }\n\n    const dataToggleAttr = target.getAttribute('data-toggle');\n    if (dataToggleAttr && dataToggleAttr === NAME) {\n      const id = target.getAttribute('data-target');\n      const element = document.querySelector(id);\n\n      const component = components.find(c => c.getElement() === element);\n\n      if (!component) {\n        return;\n      }\n\n      target.blur();\n\n      component.toggle();\n    }\n  });\n\n  return OffCanvas;\n})(window.$ ? window.$ : null);\n\nexport default OffCanvas;\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT (https://github.com/quark-dev/Phonon-Framework/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\nimport Component from '../component';\nimport Event from '../../common/events';\nimport { findTargetByClass } from '../../common/utils';\nimport { getAttributesConfig } from '../componentManager';\n\nconst Selectbox = (() => {\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  const NAME = 'selectbox';\n  const VERSION = '2.0.0';\n  const DEFAULT_PROPERTIES = {\n    element: null,\n    selectable: true,\n    search: false,\n    filterItems: null,\n  };\n  const DATA_ATTRS_PROPERTIES = [\n    'selectable',\n    'search',\n  ];\n  const components = [];\n\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  class Selectbox extends Component {\n    constructor(options = {}) {\n      super(NAME, VERSION, DEFAULT_PROPERTIES, options, DATA_ATTRS_PROPERTIES, false, false);\n\n      const selected = this.options.element.querySelector('[data-selected]');\n      const item = this.getItemData(selected);\n\n      this.setSelected(item.value, item.text, false);\n    }\n\n    setSelected(value = '', text = null, checkExists = true) {\n      if (!this.options.selectable) {\n        return false;\n      }\n\n      let textDisplay = text;\n      this.options.element.querySelector('.default-text').innerHTML = text;\n      this.options.element.querySelector('input[type=\"hidden\"]').value = value;\n\n      const items = this.options.element.querySelectorAll('.item') || [];\n      let itemFound = false;\n\n      Array.from(items).forEach((item) => {\n        if (item.classList.contains('selected')) {\n          item.classList.remove('selected');\n        }\n\n        const data = this.getItemData(item);\n\n        if (value === data.value) {\n          if (!item.classList.contains('selected')) {\n            item.classList.add('selected');\n          }\n\n          textDisplay = data.text;\n          itemFound = true;\n        }\n      });\n\n      if (checkExists && itemFound) {\n        this.options.element.querySelector('.default-text').innerHTML = textDisplay;\n      } else if (checkExists && !itemFound) {\n        throw new Error(`${NAME}. The value \"${value}\" does not exist in the list of items.`);\n      }\n\n      return true;\n    }\n\n    getSelected() {\n      return this.options.element.querySelector('input[type=\"hidden\"]').value;\n    }\n\n    getItemData(item = null) {\n      let text = '';\n      let value = '';\n\n      if (item) {\n        text = item.getAttribute('data-text') || item.innerHTML;\n\n        const selectedTextNode = item.querySelector('.text');\n        if (selectedTextNode) {\n          text = selectedTextNode.innerHTML;\n        }\n\n        value = item.getAttribute('data-value') || '';\n      }\n\n      return { text, value };\n    }\n\n    onElementEvent(event) {\n      if (event.type === Event.START) {\n        const selectbox = findTargetByClass(event.target, 'selectbox');\n\n        /*\n         * hide the current selectbox only if the event concerns another selectbox\n         * hide also if the user clicks outside a selectbox\n         */\n        if (!selectbox || selectbox !== this.getElement()) {\n          this.hide();\n        }\n      } else if (event.type === 'click') {\n        const item = findTargetByClass(event.target, 'item');\n\n        if (item) {\n          if (item.classList.contains('disabled')) {\n            return;\n          }\n\n          const itemInfo = this.getItemData(item);\n\n          if (this.getSelected() !== itemInfo.value) {\n            // the user selected another value, we dispatch the event\n            this.setSelected(itemInfo.value, itemInfo.text, false);\n            const detail = { item, text: itemInfo.text, value: itemInfo.value };\n            this.triggerEvent(Event.ITEM_SELECTED, detail);\n          }\n\n          this.hide();\n          return;\n        }\n\n        // don't toggle the selectbox if the event concerns headers, dividers\n        const selectboxMenu = findTargetByClass(event.target, 'selectbox-menu');\n        if (selectboxMenu) {\n          return;\n        }\n\n        this.toggle();\n      }\n    }\n\n    toggle() {\n      if (this.options.element.classList.contains('active')) {\n        return this.hide();\n      }\n\n      return this.show();\n    }\n\n    /**\n     * Shows the selectbox\n     * @returns {Boolean}\n     */\n    show() {\n      if (this.options.element.classList.contains('active')) {\n        return false;\n      }\n\n      this.options.element.classList.add('active');\n\n      const selectboxMenu = this.options.element.querySelector('.selectbox-menu');\n\n      // scroll to top\n      selectboxMenu.scrollTop = 0;\n\n      this.triggerEvent(Event.SHOW);\n      this.triggerEvent(Event.SHOWN);\n\n      this.registerElement({ target: selectboxMenu, event: 'click' });\n      this.registerElement({ target: document.body, event: Event.START });\n\n      return true;\n    }\n\n    /**\n     * Hides the selectbox\n     * @returns {Boolean}\n     */\n    hide() {\n      if (!this.options.element.classList.contains('active')) {\n        return false;\n      }\n\n      this.options.element.classList.remove('active');\n\n      this.triggerEvent(Event.HIDE);\n      this.triggerEvent(Event.HIDDEN);\n\n      this.unregisterElement({ target: this.options.element.querySelector('.selectbox-menu'), event: 'click' });\n      this.unregisterElement({ target: document.body, event: Event.START });\n\n      return true;\n    }\n\n    static identifier() {\n      return NAME;\n    }\n\n    static DOMInterface(options) {\n      return super.DOMInterface(Selectbox, options, components);\n    }\n  }\n\n  /**\n   * ------------------------------------------------------------------------\n   * DOM Api implementation\n   * ------------------------------------------------------------------------\n   */\n  const selectboxes = Array.from(document.querySelectorAll(`.${NAME}`) || []);\n  selectboxes.filter(d => !d.classList.contains('nav-item')).forEach((element) => {\n    const config = getAttributesConfig(element, DEFAULT_PROPERTIES, DATA_ATTRS_PROPERTIES);\n    config.element = element;\n\n    if (!config.search) {\n      components.push(new Selectbox(config));\n    }\n  });\n\n  document.addEventListener('click', (event) => {\n    const selectboxMenu = findTargetByClass(event.target, 'selectbox-menu');\n    if (selectboxMenu) {\n      return;\n    }\n\n    const selectbox = findTargetByClass(event.target, 'selectbox');\n\n    if (selectbox) {\n      const dataToggleAttr = selectbox.getAttribute('data-toggle');\n      if (dataToggleAttr && dataToggleAttr === NAME && selectbox) {\n        const component = components.find(c => c.getElement() === selectbox);\n\n        if (!component) {\n          return;\n        }\n\n        component.toggle();\n      }\n    }\n  });\n\n  return Selectbox;\n})();\n\nexport default Selectbox;\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT (https://github.com/quark-dev/Phonon-Framework/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\nimport Selectbox from './index';\nimport { findTargetByClass, createJqueryPlugin } from '../../common/utils';\nimport { getAttributesConfig } from '../componentManager';\n\nconst SelectboxSearch = (($) => {\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  const NAME = Selectbox.identifier();\n  const DEFAULT_PROPERTIES = {\n    element: null,\n    selectable: true,\n    search: true,\n    filterItems: null,\n  };\n  const DATA_ATTRS_PROPERTIES = [\n    'selectable',\n    'search',\n  ];\n  const components = [];\n\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  class SelectboxSearch extends Selectbox {\n    constructor(options = {}) {\n      super(options);\n\n      this.filterItemsHandler = (event) => {\n        const search = event.target.value;\n\n        if (search === '') {\n          this.showItems();\n          return;\n        }\n\n\n        this.getItems().forEach((item) => {\n          const itemEl = item;\n          const fn = typeof this.options.filterItems === 'function' ? this.options.filterItems : this.filterItems;\n\n          if (fn(search, itemEl)) {\n            itemEl.element.style.display = 'block';\n          } else {\n            itemEl.element.style.display = 'none';\n          }\n        });\n      };\n\n      this.getSearchInput().addEventListener('keyup', this.filterItemsHandler);\n    }\n\n    filterItems(search = '', item = {}) {\n      return item.value.indexOf(search) > -1 || item.text.indexOf(search) > -1;\n    }\n\n    getItems() {\n      let items = Array.from(this.options.element.querySelectorAll('.item') || []);\n      items = items.map((item) => {\n        const info = this.getItemData(item);\n        return { text: info.text, value: info.value, element: item };\n      });\n\n      return items;\n    }\n\n    showItems() {\n      this.getItems().forEach((item) => {\n        const i = item;\n        i.element.style.display = 'block';\n      });\n    }\n\n    getSearchInput() {\n      return this.options.element.querySelector('.selectbox-menu input');\n    }\n\n    /**\n     * Hides the search selectbox\n     * @returns {Promise} Promise object represents the completed animation\n     */\n    async hide() {\n      await super.hide();\n\n      // reset the value\n      this.getSearchInput().value = '';\n\n      // show all items\n      this.showItems();\n\n      return true;\n    }\n\n    static DOMInterface(options) {\n      return new SelectboxSearch(options, components);\n    }\n  }\n\n  /**\n   * ------------------------------------------------------------------------\n   * jQuery\n   * ------------------------------------------------------------------------\n   */\n  createJqueryPlugin($, NAME, SelectboxSearch);\n\n  /**\n   * ------------------------------------------------------------------------\n   * DOM Api implementation\n   * ------------------------------------------------------------------------\n   */\n  const selectboxes = Array.from(document.querySelectorAll(`.${NAME}`) || []);\n\n  selectboxes.filter(d => !d.classList.contains('nav-item')).forEach((element) => {\n    const config = getAttributesConfig(element, DEFAULT_PROPERTIES, DATA_ATTRS_PROPERTIES);\n    config.element = element;\n\n    if (config.search) {\n      // search\n      components.push(new SelectboxSearch(config));\n    }\n  });\n\n  document.addEventListener('click', (event) => {\n    const selectboxMenu = findTargetByClass(event.target, 'selectbox-menu');\n    if (selectboxMenu) {\n      return;\n    }\n\n    const selectbox = findTargetByClass(event.target, 'selectbox');\n\n    if (selectbox) {\n      const dataToggleAttr = selectbox.getAttribute('data-toggle');\n      if (dataToggleAttr && dataToggleAttr === NAME && selectbox) {\n        const component = components.find(c => c.getElement() === selectbox);\n\n        if (!component) {\n          return;\n        }\n\n        component.toggle();\n      }\n    }\n  });\n\n  return SelectboxSearch;\n})(window.$ ? window.$ : null);\n\nexport default SelectboxSearch;\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT (https://github.com/quark-dev/Phonon-Framework/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\nimport Component from '../component';\nimport { getAttributesConfig } from '../componentManager';\nimport Event from '../../common/events';\nimport {\n  findTargetByClass, createJqueryPlugin,\n} from '../../common/utils';\n\nconst Dropdown = (($) => {\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  const NAME = 'dropdown';\n  const MENU = 'dropdown-menu';\n  const MENU_ITEM = 'dropdown-item';\n  const VERSION = '2.0.0';\n  const DEFAULT_PROPERTIES = {\n    element: null,\n    hover: true,\n  };\n  const DATA_ATTRS_PROPERTIES = [\n    'hover',\n  ];\n  const components = [];\n\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  class Dropdown extends Component {\n    constructor(options = {}) {\n      super(NAME, VERSION, DEFAULT_PROPERTIES, options, DATA_ATTRS_PROPERTIES, false, false);\n      this.onTransition = false;\n\n\n      if (this.options.hover) {\n        this.registerElement({ target: this.options.element, event: 'mouseover' });\n        this.registerElement({ target: this.options.element, event: 'mouseleave' });\n\n        this.options.element.addEventListener('mouseover', () => {\n          this.show();\n        });\n\n        this.options.element.addEventListener('mouseleave', () => {\n          this.hide();\n        });\n      }\n    }\n\n    onElementEvent(event) {\n      if (event.type === 'mouseover') {\n        this.show();\n        return;\n      }\n\n      if (event.type === 'mouseleave') {\n        this.hide();\n      }\n    }\n\n    /**\n     * Shows the dropdown\n     * @returns {Boolean}\n     */\n    show() {\n      if (this.onTransition) {\n        return false;\n      }\n\n      if (this.options.element.classList.contains('show')) {\n        return false;\n      }\n\n      this.onTransition = true;\n\n      this.triggerEvent(Event.SHOW);\n\n      const onShow = () => {\n        // dropdown menu\n        this.triggerEvent(Event.SHOWN);\n\n        this.getMenu().removeEventListener(Event.TRANSITION_END, onShow);\n        this.onTransition = false;\n      };\n\n      // dropdown handler\n      this.options.element.classList.add('show');\n\n      const dropdownMenu = this.getMenu();\n\n      dropdownMenu.classList.add('show');\n\n      if (dropdownMenu.clientWidth > this.options.element.clientWidth\n        && !dropdownMenu.classList.contains('force-left')) {\n        // move the caret to the left\n        dropdownMenu.classList.add('force-left');\n      } else if (dropdownMenu.clientWidth < this.options.element.clientWidth\n        && dropdownMenu.classList.contains('force-left')) {\n        // set default position for the caret\n        dropdownMenu.classList.remove('force-left');\n      }\n\n      dropdownMenu.addEventListener(Event.TRANSITION_END, onShow);\n\n      setTimeout(() => {\n        dropdownMenu.classList.add('animate');\n      }, 20);\n\n      return true;\n    }\n\n    getMenu() {\n      return this.options.element.querySelector(`.${MENU}`);\n    }\n\n    toggle() {\n      if (this.options.element.classList.contains('show')) {\n        this.hide();\n      } else {\n        this.show();\n      }\n    }\n\n    /**\n     * Hides the collapse\n     * @returns {Boolean}\n     */\n    hide() {\n      if (this.onTransition) {\n        return false;\n      }\n\n      if (!this.options.element.classList.contains('show')) {\n        return false;\n      }\n\n      this.onTransition = true;\n      this.triggerEvent(Event.HIDE);\n\n      const onHide = () => {\n        // dropdown menu\n        this.getMenu().classList.remove('show');\n\n        this.triggerEvent(Event.HIDDEN);\n        this.getMenu().removeEventListener(Event.TRANSITION_END, onHide);\n        this.onTransition = false;\n      };\n\n      // dropdown handler\n      this.options.element.classList.remove('show');\n\n      this.getMenu().addEventListener(Event.TRANSITION_END, onHide);\n\n      this.getMenu().classList.remove('animate');\n\n      return true;\n    }\n\n    static identifier() {\n      return NAME;\n    }\n\n    static DOMInterface(options) {\n      return super.DOMInterface(Dropdown, options, components);\n    }\n  }\n\n  /**\n   * ------------------------------------------------------------------------\n   * jQuery\n   * ------------------------------------------------------------------------\n   */\n  createJqueryPlugin($, NAME, Dropdown);\n\n  /**\n   * ------------------------------------------------------------------------\n   * DOM Api implementation\n   * ------------------------------------------------------------------------\n   */\n  const dropdowns = Array.from(document.querySelectorAll(`.${NAME}`) || []);\n\n  dropdowns.forEach((element) => {\n    const config = getAttributesConfig(element, DEFAULT_PROPERTIES, DATA_ATTRS_PROPERTIES);\n    config.element = element;\n\n    components.push(Dropdown.DOMInterface(config));\n  });\n\n  document.addEventListener('click', (event) => {\n    const dropdown = findTargetByClass(event.target, NAME);\n    const dropdownMenuItem = findTargetByClass(event.target, MENU_ITEM);\n\n    if (dropdown) {\n      const component = components.find(c => c.getElement() === dropdown);\n\n      if (!component) {\n        return;\n      }\n\n      if (dropdownMenuItem) {\n        // click in menu\n        component.hide();\n        return;\n      }\n\n      component.show();\n    }\n  });\n\n  document.addEventListener(Event.START, (event) => {\n    const dropdown = findTargetByClass(event.target, NAME);\n    const activeDropdown = document.querySelector('.dropdown.show');\n\n    if (dropdown || !activeDropdown) {\n      return;\n    }\n\n    const activeComponent = components.find(c => c.getElement() === activeDropdown);\n\n    activeComponent.hide();\n  });\n\n  return Dropdown;\n})(window.$ ? window.$ : null);\n\nexport default Dropdown;\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT (https://github.com/quark-dev/Phonon-Framework/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport Event from '../events';\nimport Component from '../../components/component';\n\nconst Network = (() => {\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  const NAME = 'network';\n  const VERSION = '2.0.0';\n  const DEFAULT_PROPERTIES = {\n    element: null,\n    initialDelay: 3000,\n    delay: 5000,\n  };\n  const DATA_ATTRS_PROPERTIES = [\n  ];\n\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  class Network extends Component {\n    /**\n     * Creates an instance of Network.\n     * @param {{}} [options={}]\n     */\n    constructor(options = {}) {\n      super(NAME, VERSION, DEFAULT_PROPERTIES, options, DATA_ATTRS_PROPERTIES, true, false);\n\n      this.xhr = null;\n      this.checkInterval = null;\n\n      this.setStatus(Event.NETWORK_ONLINE);\n\n      setTimeout(() => {\n        this.startCheck();\n      }, this.options.initialDelay);\n    }\n\n    getStatus() {\n      return this.status;\n    }\n\n    setStatus(status) {\n      this.status = status;\n    }\n\n    startRequest() {\n      this.xhr = new XMLHttpRequest();\n      this.xhr.offline = false;\n\n      const url = `/favicon.ico?_=${new Date().getTime()}`;\n\n      this.triggerEvent(Event.NETWORK_RECONNECTING, { date: new Date() }, false);\n\n      this.xhr.open('HEAD', url, true);\n\n      this.xhr.timeout = this.options.delay - 1;\n      this.xhr.ontimeout = () => {\n        this.xhr.abort();\n        this.xhr = null;\n      };\n\n      this.xhr.onload = () => {\n        this.onUp();\n      };\n      this.xhr.onerror = () => {\n        this.onDown();\n      };\n\n      try {\n        this.xhr.send();\n      } catch (e) {\n        this.onDown();\n      }\n    }\n\n    onUp() {\n      this.triggerEvent(Event.NETWORK_RECONNECTING_SUCCESS, { date: new Date() }, false);\n\n      if (this.getStatus() !== Event.NETWORK_ONLINE) {\n        this.triggerEvent(Event.NETWORK_ONLINE, { date: new Date() }, false);\n      }\n\n      this.setStatus(Event.NETWORK_ONLINE);\n    }\n\n    onDown() {\n      this.triggerEvent(Event.NETWORK_RECONNECTING_FAILURE, { date: new Date() }, false);\n\n      if (this.getStatus() !== Event.NETWORK_OFFLINE) {\n        this.triggerEvent(Event.NETWORK_OFFLINE, { date: new Date() }, false);\n      }\n\n      this.setStatus(Event.NETWORK_OFFLINE);\n    }\n\n    startCheck() {\n      this.stopCheck();\n\n      this.startRequest();\n\n      this.checkInterval = setInterval(() => {\n        this.startRequest();\n      }, this.options.delay);\n    }\n\n    stopCheck() {\n      if (this.checkInterval !== null) {\n        clearInterval(this.checkInterval);\n        this.checkInterval = null;\n      }\n    }\n\n    static DOMInterface(options) {\n      return super.DOMInterface(Network, options);\n    }\n  }\n\n  return Network;\n})();\n\nexport default Network;\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT (https://github.com/quark-dev/Phonon-Framework/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\n\n// components\nimport Alert from './components/alert';\nimport Modal from './components/modal';\nimport ModalPrompt from './components/modal/prompt';\nimport ModalConfirm from './components/modal/confirm';\nimport ModalLoader from './components/modal/loader';\nimport Notification from './components/notification';\nimport Collapse from './components/collapse';\nimport Accordion from './components/accordion';\nimport Tab from './components/tab';\nimport Progress from './components/progress';\nimport Loader from './components/loader';\nimport OffCanvas from './components/off-canvas';\nimport Selectbox from './components/selectbox';\nimport SelectboxSearch from './components/selectbox/search';\nimport Dropdown from './components/dropdown';\nimport Network from './common/network';\n\nconst api = {};\n\n/**\n * ------------------------------------------------------------------------\n * Network\n * ------------------------------------------------------------------------\n */\napi.network = Network.DOMInterface;\n\n/**\n * ------------------------------------------------------------------------\n * Notification\n * ------------------------------------------------------------------------\n */\napi.notification = Notification.DOMInterface;\n\n/**\n * ------------------------------------------------------------------------\n * Modal\n * ------------------------------------------------------------------------\n */\n\n// generic\napi.modal = Modal.DOMInterface;\n\n// prompt modal\napi.prompt = ModalPrompt.DOMInterface;\n// confirm modal\napi.confirm = ModalConfirm.DOMInterface;\n// loader modal\napi.modalLoader = ModalLoader.DOMInterface;\n\n/**\n * ------------------------------------------------------------------------\n * Collapse\n * ------------------------------------------------------------------------\n */\napi.collapse = Collapse.DOMInterface;\n\n/**\n * ------------------------------------------------------------------------\n * Alert\n * ------------------------------------------------------------------------\n */\napi.alert = Alert.DOMInterface;\n\n/**\n * ------------------------------------------------------------------------\n * Accordion\n * ------------------------------------------------------------------------\n */\napi.accordion = Accordion.DOMInterface;\n\n\n/**\n * ------------------------------------------------------------------------\n * Tab\n * ------------------------------------------------------------------------\n */\napi.tab = Tab.DOMInterface;\n\n/**\n * ------------------------------------------------------------------------\n * Progress\n * ------------------------------------------------------------------------\n */\napi.progress = Progress.DOMInterface;\n\n/**\n * ------------------------------------------------------------------------\n * Loader\n * ------------------------------------------------------------------------\n */\napi.loader = Loader.DOMInterface;\n\n/**\n * ------------------------------------------------------------------------\n * Off canvas\n * ------------------------------------------------------------------------\n */\napi.offCanvas = OffCanvas.DOMInterface;\n\n/**\n * ------------------------------------------------------------------------\n * Selectbox\n * ------------------------------------------------------------------------\n */\napi.selectbox = (options) => {\n  if (options.search) {\n    // search selectbox\n    return SelectboxSearch.DOMInterface(options);\n  }\n\n  // generic selectbox\n  return Selectbox.DOMInterface(options);\n};\n\n/**\n * ------------------------------------------------------------------------\n * Dropdown\n * ------------------------------------------------------------------------\n */\napi.dropdown = Dropdown.DOMInterface;\n\n\nwindow.phonon = api;\n\nexport default api;\n"],"names":["dispatchWinDocEvent","eventName","moduleName","detail","fullEventName","window","dispatchEvent","CustomEvent","document","dispatchElementEvent","domElement","generateId","Math","random","toString","substr","findTargetByClass","target","parentClass","parentNode","classList","contains","findTargetByAttr","attr","getAttribute","createJqueryPlugin","$","name","obj","mainFn","options","opts","element","DOMInterface","fn","Constructor","noConflict","sleep","timeout","Promise","resolve","setTimeout","addEventListener","console","error","availableEvents","touchScreen","DocumentTouch","navigator","pointerEnabled","msPointerEnabled","el","createElement","transitions","start","end","animations","transitionStart","find","t","style","undefined","transitionEnd","animationStart","animationEnd","TOUCH_SCREEN","NETWORK_ONLINE","NETWORK_OFFLINE","NETWORK_RECONNECTING","NETWORK_RECONNECTING_SUCCESS","NETWORK_RECONNECTING_FAILURE","SHOW","SHOWN","HIDE","HIDDEN","HASH","START","MOVE","END","CANCEL","CLICK","TRANSITION_START","TRANSITION_END","ANIMATION_START","ANIMATION_END","ITEM_SELECTED","first","second","setAttributesConfig","attrs","keys","Object","forEach","key","indexOf","keyStart","setAttribute","getAttributesConfig","newObj","assign","constructor","value","type","attrValue","test","parseInt","Array","isArray","componentStack","add","component","push","remove","index","findIndex","c","is","splice","closable","length","Component","version","defaultOptions","optionAttrs","supportDynamicElement","addToStack","eventHandlers","prop","id","checkElement","querySelector","Error","dynamicElement","registeredElements","updateConfig","addEventsHandler","getConfig","elementListener","event","onBeforeElementEvent","defaultValue","assignJsConfig","getAttributes","setAttributes","scope","reduce","cur","attrConfig","jsConfig","config","elements","registerElement","unregisterElement","registeredElementIndex","removeEventListener","objectEventOnly","Event","ComponentManager","eventNameObject","split","acc","current","charAt","toUpperCase","slice","eventNameAlias","apply","preventClosable","onElementEvent","ComponentClass","currentComponents","getElement","Alert","NAME","VERSION","DEFAULT_PROPERTIES","fade","DATA_ATTRS_PROPERTIES","components","onTransition","getOpacity","triggerEvent","onShow","getComputedStyle","opacity","parseFloat","onHide","alerts","from","querySelectorAll","dataToggleAttr","alert","hide","Modal","BACKDROP_SELECTOR","title","message","cancelable","background","cancelableKeyCodes","buttons","text","dismiss","class","template","build","setBackgroud","builder","innerHTML","firstChild","removeTextBody","button","appendChild","buildButton","removeFooter","body","buttonInfo","backdrop","removeChild","footer","computedStyle","height","top","innerHeight","buildBackdrop","attachEvents","onShown","center","k","keyCode","detachEvents","getBackdrop","onHidden","modals","selector","blur","show","Prompt","attachInputEvent","detachInputEvent","getInput","identifier","modal","Confirm","Loader","color","size","loaderSpinner","getSpinner","customSize","getBoundingClientRect","getClientSize","width","startAnimation","spinner","Spinner","animate","Notification","directionX","directionY","offsetX","offsetY","appendIn","timeoutCallback","display","x","y","notification","directions","d","marginLeft","marginRight","activeNotifications","totalNotifY","n","offsetHeight","marginTop","marginBottom","transform","replace","removeAttribute","setPosition","buttonElement","Number","isInteger","clearTimeout","Collapse","toggle","onCollapsed","isVerticalCollapse","getHeight","collapses","Accordion","toggles","collapseId","collapse","addCollapse","setCollapses","showCollapse","getCollapse","collapseEl","collapseObj","accordions","accordion","accordionId","targetCollapse","getCollapses","Tab","TAB_CONTENT_SELECTOR","nav","navTabs","tab","tabContent","tabContents","onShowed","tabs","Progress","min","max","label","striped","progressBar","getProgressBar","progress","round","OffCanvas","container","aside","md","lg","xl","currentWidthName","showAside","sm","media","matchMedia","sizes","reverse","checkDirection","checkWidth","every","direction","match","matches","setAside","sizeName","content","removeBackdrop","isVisible","createBackdrop","dismissButtons","offCanvas","Selectbox","selectable","search","filterItems","selected","item","getItemData","setSelected","checkExists","textDisplay","items","itemFound","data","selectedTextNode","selectbox","itemInfo","getSelected","selectboxMenu","scrollTop","selectboxes","filter","SelectboxSearch","filterItemsHandler","showItems","getItems","itemEl","getSearchInput","map","info","i","Dropdown","MENU","MENU_ITEM","hover","getMenu","dropdownMenu","clientWidth","dropdowns","dropdown","dropdownMenuItem","activeDropdown","activeComponent","Network","initialDelay","delay","xhr","checkInterval","setStatus","startCheck","status","XMLHttpRequest","offline","url","Date","getTime","date","open","ontimeout","abort","onload","onUp","onerror","onDown","send","e","getStatus","stopCheck","startRequest","setInterval","clearInterval","api","network","prompt","ModalPrompt","confirm","ModalConfirm","modalLoader","ModalLoader","loader","phonon"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAAO,SAASA,mBAAT,CAA6BC,SAA7B,EAAwCC,UAAxC,EAAiE;QAAbC,6EAAS,EAAI;QAChEC,0BAAmBH,SAAN,iBAAsBC,UAAtB,CAAnB;IACAG,MAAM,CAACC,aAAP,CAAqB,IAAIC,WAAJ,CAAgBH,aAAhB,EAA+B;MAAED,MAAM,EAANA;KAAjC,CAArB;IACAK,QAAQ,CAACF,aAAT,CAAuB,IAAIC,WAAJ,CAAgBH,aAAhB,EAA+B;MAAED,MAAM,EAANA;KAAjC,CAAvB;EACD;AAED,EAAO,SAASM,oBAAT,CAA8BC,UAA9B,EAA0CT,SAA1C,EAAqDC,UAArD,EAA8E;QAAbC,6EAAS,EAAI;QAC7EC,0BAAmBH,SAAN,iBAAsBC,UAAtB,CAAnB;IACAQ,UAAU,CAACJ,aAAX,CAAyB,IAAIC,WAAJ,CAAgBH,aAAhB,EAA+B;MAAED,MAAM,EAANA;KAAjC,CAAzB;EACD;;ECTM,SAASQ,UAAT,GAAsB;WACpBC,IAAI,CAACC,MAAL,GAAcC,QAAd,CAAuB,EAAvB,EAA2BC,MAA3B,CAAkC,CAAlC,EAAqC,EAArC,CAAP;EACD;AAED,EAAO,SAASC,iBAAT,CAA2BC,MAA3B,EAAmCC,WAAnC,EAAgD;WAC9CD,UAAUA,WAAWT,QAA5B,EAAsCS,SAASA,MAAM,CAACE,UAAtD,EAAkE;UAC5DF,MAAM,CAACG,SAAP,CAAiBC,QAAjB,CAA0BH,WAA1B,CAAJ,EAA4C;eACnCD,MAAP;;;;WAIG,IAAP;EACD;AAED,EAUO,SAASK,gBAAT,CAA0BL,MAA1B,EAAkCM,IAAlC,EAAwC;WACtCN,UAAUA,WAAWT,QAA5B,EAAsCS,SAASA,MAAM,CAACE,UAAtD,EAAkE;UAC5DF,MAAM,CAACO,YAAP,CAAoBD,IAApB,MAA8B,IAAlC,EAAwC;eAC/BN,MAAP;;;;WAIG,IAAP;EACD;EAED;;AACA,EAAO,SAASQ,kBAAT,GAAiD;QAArBC,wEAAI,IAAiB;QAAXC;QAAMC;;QAC7C,CAACF,CAAL,EAAQ;;;;QAIFG,SAAS,SAATA,MAAS,GAAwB;UAAdC,8EAAU,EAAI;UAC/BC,OAAOD,OAAb;;UACI,KAAK,CAAL,CAAJ,EAAa;QACXC,IAAI,CAACC,UAAU,KAAK,CAAL,CAAf;;;aAGKJ,GAAG,CAACK,YAAJ,CAAiBF,IAAjB,CAAP;KANF;;IASAL,CAAC,CAACQ,EAAF,CAAKP,IAAL,IAAaE,MAAb;IACAH,CAAC,CAACQ,EAAF,CAAKP,IAAL,EAAWQ,cAAcP,GAAzB;IACAF,CAAC,CAACQ,EAAF,CAAKP,IAAL,EAAWS,aAAaP,MAAxB;EACD;AAED,EAAO,SAASQ,KAAT,CAAeC,OAAf,EAAwB;WACtB,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAa;MAC9BC,UAAU,CAACD,OAAD,EAAUF,OAAV,CAAV;KADK,CAAP;EAGD;;EC1DD;EACA,IAAI,OAAOjC,WAAW,WAAtB,EAAmC;IACjCA,MAAM,CAACqC,gBAAP,CAAwB,OAAxB,EAAiC,YAAM;MACrCC,OAAO,CAACC,KAAR,CAAc,uGAAd;KADF;EAGD;;;EAGD,IAAIC,kBAAkB,CAAC,WAAD,EAAc,WAAd,EAA2B,SAA3B,CAAtB;EACA,IAAIC,cAAc,KAAlB;;EAEA,IAAI,OAAOzC,WAAW,WAAtB,EAAmC;QAC5B,kBAAkBA,UAAWA,MAAM,CAAC0C,iBAAiBvC,oBAAoBuC,aAA9E,EAA6F;MAC3FD,cAAc,IAAd;MACAD,kBAAkB,CAAC,YAAD,EAAe,WAAf,EAA4B,UAA5B,EAAwC,aAAxC,CAAlB;;;QAGExC,MAAM,CAAC2C,SAAP,CAAiBC,cAArB,EAAqC;MACnCJ,kBAAkB,CAAC,aAAD,EAAgB,aAAhB,EAA+B,WAA/B,EAA4C,eAA5C,CAAlB;WACK,IAAIxC,MAAM,CAAC2C,SAAP,CAAiBE,gBAArB,EAAuC;MAC5CL,kBAAkB,CAAC,eAAD,EAAkB,eAAlB,EAAmC,aAAnC,EAAkD,iBAAlD,CAAlB;;EAEH;;EAED,IAAMM,KAAK3C,QAAQ,CAAC4C,aAAT,CAAuB,KAAvB,CAAX;EACA,IAAMC,cAAc,CAClB;IAAE1B,IAAI,EAAE,YAAR;IAAsB2B,KAAK,EAAE,iBAA7B;IAAgDC,GAAG,EAAE;EAArD,CADkB,EAElB;IAAE5B,IAAI,EAAE,eAAR;IAAyB2B,KAAK,EAAE,iBAAhC;IAAmDC,GAAG,EAAE;EAAxD,CAFkB,EAGlB;IAAE5B,IAAI,EAAE,cAAR;IAAwB2B,KAAK,EAAE,mBAA/B;IAAoDC,GAAG,EAAE;EAAzD,CAHkB,EAIlB;IAAE5B,IAAI,EAAE,kBAAR;IAA4B2B,KAAK,EAAE,uBAAnC;IAA4DC,GAAG,EAAE;EAAjE,CAJkB,CAApB;EAMA,IAAMC,aAAa,CACjB;IAAE7B,IAAI,EAAE,WAAR;IAAqB2B,KAAK,EAAE,gBAA5B;IAA8CC,GAAG,EAAE;EAAnD,CADiB,EAEjB;IAAE5B,IAAI,EAAE,cAAR;IAAwB2B,KAAK,EAAE,gBAA/B;IAAiDC,GAAG,EAAE;EAAtD,CAFiB,EAGjB;IAAE5B,IAAI,EAAE,aAAR;IAAuB2B,KAAK,EAAE,kBAA9B;IAAkDC,GAAG,EAAE;EAAvD,CAHiB,EAIjB;IAAE5B,IAAI,EAAE,iBAAR;IAA2B2B,KAAK,EAAE,sBAAlC;IAA0DC,GAAG,EAAE;EAA/D,CAJiB,CAAnB;EAOA,IAAME,kBAAkBJ,WAAW,CAACK,IAAZ,CAAiB,UAAAC,CAAC;WAAIR,EAAE,CAACS,KAAH,CAASD,CAAC,CAAChC,IAAX,MAAqBkC,SAAzB;EAAA,CAAlB,EAAsDP,KAA9E;EACA,IAAMQ,gBAAgBT,WAAW,CAACK,IAAZ,CAAiB,UAAAC,CAAC;WAAIR,EAAE,CAACS,KAAH,CAASD,CAAC,CAAChC,IAAX,MAAqBkC,SAAzB;EAAA,CAAlB,EAAsDN,GAA5E;EACA,IAAMQ,iBAAiBP,UAAU,CAACE,IAAX,CAAgB,UAAAC,CAAC;WAAIR,EAAE,CAACS,KAAH,CAASD,CAAC,CAAChC,IAAX,MAAqBkC,SAAzB;EAAA,CAAjB,EAAqDP,KAA5E;EACA,IAAMU,eAAeR,UAAU,CAACE,IAAX,CAAgB,UAAAC,CAAC;WAAIR,EAAE,CAACS,KAAH,CAASD,CAAC,CAAChC,IAAX,MAAqBkC,SAAzB;EAAA,CAAjB,EAAqDN,GAA1E;AAEA,cAAe;;IAEbU,YAAY,EAAEnB,WAFD;;IAKboB,cAAc,EAAE,QALH;IAMbC,eAAe,EAAE,SANJ;IAObC,oBAAoB,EAAE,cAPT;IAQbC,4BAA4B,EAAE,mBARjB;IASbC,4BAA4B,EAAE,mBATjB;;IAYbC,IAAI,EAAE,MAZO;IAabC,KAAK,EAAE,OAbM;IAcbC,IAAI,EAAE,MAdO;IAebC,MAAM,EAAE,QAfK;;IAkBbC,IAAI,EAAE,MAlBO;;IAqBbC,KAAK,EAAE/B,eAAe,CAAC,CAAD,CArBT;IAsBbgC,IAAI,EAAEhC,eAAe,CAAC,CAAD,CAtBR;IAuBbiC,GAAG,EAAEjC,eAAe,CAAC,CAAD,CAvBP;IAwBbkC,MAAM,EAAE,OAAOlC,eAAe,CAAC,CAAD,MAAQ,cAAc,OAAOA,eAAe,CAAC,CAAD,CAxB7D;;IA2BbmC,KAAK,EAAE,OA3BM;;IA8BbC,gBAAgB,EAAExB,eA9BL;IA+BbyB,cAAc,EAAEpB,aA/BH;;IAkCbqB,eAAe,EAAEpB,cAlCJ;IAmCbqB,aAAa,EAAEpB,YAnCF;;IAsCbqB,aAAa,EAAE;EAtCF,CAAf;;EC1CA,IAAM7D,eAAe,SAAfA,YAAe,CAAC8D,KAAD,EAAQC,MAAR,EAAmB;QAClCD,UAAU,EAAd,EAAkB;4BACDC,MAAf;;;0BAEaD,KAAf,cAAwBC,MAAxB;EACD,CALD;;AAOA,EAAO,SAASC,mBAAT,CAA6BxD,OAA7B,EAAmE;QAA7BJ,0EAAM,EAAuB;QAAnB6D;QAAOnC,4EAAQ,EAAI;QAClEoC,OAAOC,MAAM,CAACD,IAAP,CAAY9D,GAAZ,CAAb;IAEA8D,IAAI,CAACE,OAAL,CAAa,UAACC,GAAD,EAAS;UAChBvC,UAAU,MAAMmC,KAAK,CAACK,OAAN,CAAcD,GAAd,MAAuB,CAAC,CAA5C,EAA+C;;;;;UAK3C,QAAOjE,GAAG,CAACiE,GAAD,CAAV,MAAoB,YAAYjE,GAAG,CAACiE,GAAD,MAAU,IAAjD,EAAuD;YACjDE,WAAWF,GAAf;;YACIvC,UAAU,EAAd,EAAkB;UAChByC,qBAAczC,KAAN,cAAeuC,GAAf,CAAR;;;QAGFL,mBAAmB,CAACxD,OAAD,EAAUJ,GAAG,CAACiE,GAAD,CAAb,EAAoBJ,KAApB,EAA2BM,QAA3B,CAAnB;;;;UAIIxE,OAAOC,YAAY,CAAC8B,KAAD,EAAQuC,GAAR,CAAzB;MACA7D,OAAO,CAACgE,YAAR,CAAqBzE,IAArB,EAA2BK,GAAG,CAACiE,GAAD,CAA9B;KAjBF;EAmBD;AAED,EAAO,SAASI,mBAAT,CAA6BjE,OAA7B,EAAmE;QAA7BJ,0EAAM,EAAuB;QAAnB6D;QAAOnC,4EAAQ,EAAI;;QAElE4C,SAASP,MAAM,CAACQ,MAAP,CAAc,EAAd,EAAkBvE,GAAlB,CAAf;QACM8D,OAAOC,MAAM,CAACD,IAAP,CAAY9D,GAAZ,CAAb;IAEA8D,IAAI,CAACE,OAAL,CAAa,UAACC,GAAD,EAAS;UAChBvC,UAAU,MAAMmC,KAAK,CAACK,OAAN,CAAcD,GAAd,MAAuB,CAAC,CAA5C,EAA+C;;;;;UAK3CjE,GAAG,CAACiE,GAAD,MAAU,QAAQjE,GAAG,CAACiE,GAAD,CAAH,CAASO,gBAAgBT,MAAlD,EAA0D;YACpDI,WAAWF,GAAf;;YACIvC,UAAU,EAAd,EAAkB;UAChByC,qBAAczC,KAAN,cAAeuC,GAAf,CAAR;;;QAGFK,MAAM,CAACL,GAAD,IAAQI,mBAAmB,CAACjE,OAAD,EAAUJ,GAAG,CAACiE,GAAD,CAAb,EAAoBJ,KAApB,EAA2BM,QAA3B,CAAjC;;;;;UAKEM,QAAQzE,GAAG,CAACiE,GAAD,CAAf;;UACMS,eAAcD,KAAV,CAAV;;UACM9E,OAAOC,YAAY,CAAC8B,KAAD,EAAQuC,GAAR,CAAzB;UACMU,YAAYvE,OAAO,CAACR,YAAR,CAAqBD,IAArB,CAAlB;;UAEIgF,cAAc,IAAlB,EAAwB;YAClBD,SAAS,SAAb,EAAwB;;UAEtBD,QAAQE,cAAc,MAAtB;eACK,IAAI,cAAcC,IAAd,CAAmBD,SAAnB,CAAJ,EAAmC;UACxCF,QAAQI,QAAQ,CAACF,SAAD,EAAY,EAAZ,CAAhB;eACK;UACLF,QAAQE,SAAR;;;;MAIJL,MAAM,CAACL,GAAD,IAAQQ,KAAd;KAjCF;WAoCOH,MAAP;EACD;;EAED,IAAI,CAACQ,KAAK,CAACC,OAAN,CAAcnG,QAAQ,CAACoG,cAAvB,CAAL,EAA6C;IAC3CpG,QAAQ,CAACoG,iBAAiB,EAA1B;EACD;;AAED,yBAAe;IACbC,GADa,eACTC,SADS,EACE;MACbtG,QAAQ,CAACoG,cAAT,CAAwBG,IAAxB,CAA6BD,SAA7B;KAFW;IAIbE,MAJa,kBAINF,SAJM,EAIK;UACVG,QAAQzG,QAAQ,CAACoG,cAAT,CAAwBM,SAAxB,CAAkC,UAAAC,CAAC;eAAIxB,MAAM,CAACyB,EAAP,CAAUN,SAAV,EAAqBK,CAArB,CAAJ;OAAnC,CAAd;;UACIF,QAAQ,CAAC,CAAb,EAAgB;QACdzG,QAAQ,CAACoG,cAAT,CAAwBS,MAAxB,CAA+BJ,KAA/B,EAAsC,CAAtC;;KAPS;IAUbK,QAVa,oBAUJR,SAVI,EAUO;aACXtG,QAAQ,CAACoG,cAAT,CAAwBW,WAAW,KAAK5B,MAAM,CAACyB,EAAP,CAAU5G,QAAQ,CAACoG,cAAT,CAAwBpG,QAAQ,CAACoG,cAAT,CAAwBW,SAAS,CAAzD,CAAV,EAAuET,SAAvE,CAA/C;;EAXW,CAAf;;ECtEA;;;;;;MAMqBU;;;uBAEjB7F,IADF,EAEE8F,OAFF,EAQE;;;UALAC,qFAAiB,EAKjB;UAJA5F,8EAAU,EAIV;UAHA6F,kFAAc,EAGd;UAFAC,4FAAwB,KAExB;UADAC,iFAAa,KACb;;;;WACKlG,OAAOA,IAAZ;WACK8F,UAAUA,OAAf;WACK3F,UAAUA,OAAf;WACKgG,gBAAgB,EAArB;MAEAnC,MAAM,CAACD,IAAP,CAAYgC,cAAZ,EAA4B9B,OAA5B,CAAoC,UAACmC,IAAD,EAAU;YACxC,OAAO,KAAI,CAACjG,OAAL,CAAaiG,IAAb,MAAuB,WAAlC,EAA+C;UAC7C,KAAI,CAACjG,OAAL,CAAaiG,IAAb,IAAqBL,cAAc,CAACK,IAAD,CAAnC;;OAFJ;WAMKJ,cAAcA,WAAnB;WACKC,wBAAwBA,qBAA7B;WACKC,aAAaA,UAAlB;WACKG,KAAKrH,UAAU,EAApB;UAEMsH,eAAe,CAAC,KAAKL,yBAAyB,KAAK9F,OAAL,CAAaE,YAAY,IAA7E;;UAEI,OAAO,KAAKF,OAAL,CAAaE,YAAY,QAApC,EAA8C;aACvCF,OAAL,CAAaE,UAAUxB,QAAQ,CAAC0H,aAAT,CAAuB,KAAKpG,OAAL,CAAaE,OAApC,CAAvB;;;UAGEiG,gBAAgB,CAAC,KAAKnG,OAAL,CAAaE,OAAlC,EAA2C;cACnC,IAAImG,KAAJ,WAAa,KAAKxG,IAAlB,+CAAN;;;WAGGyG,iBAAiB,KAAKtG,OAAL,CAAaE,YAAY,IAA/C;WACKqG,qBAAqB,EAA1B;;UAEI,CAAC,KAAKD,cAAV,EAA0B;;;;;;;;;aASnBE,YAAL,CAAkB,KAAKxG,OAAvB;;;WAGGyG,gBAAL,CAAsB,KAAKC,SAAL,EAAtB;;WAEKC,kBAAkB,UAAAC,KAAK;eAAI,KAAI,CAACC,oBAAL,CAA0BD,KAA1B,CAAJ;OAA5B;;;;;kCAGyC;YAAjC7C,0EAAM,IAA2B;YAArB+C,mFAAe,IAAM;;;;;YAIrC,CAAC/C,GAAL,EAAU;iBACD,KAAK/D,OAAZ;;;eAGK,OAAO,KAAKA,OAAL,CAAa+D,GAAb,MAAsB,cAAc+C,eAAe,KAAK9G,OAAL,CAAa+D,GAAb,CAAjE;;;;mCAGW/D,SAAS;aACfA,UAAU6D,MAAM,CAACQ,MAAP,CACb,KAAKrE,OADQ,EAEb,KAAK+G,cAAL,CAAoB,KAAKC,aAAL,EAApB,EAA0ChH,OAA1C,CAFa,CAAf;;aAMKiH,aAAL;;;;uCAGejH,SAAS;YAClBkH,QAAQrD,MAAM,CAACD,IAAP,CAAY5D,OAAZ,EAAqBmH,MAArB,CAA4B,UAACC,GAAD,EAAMrD,GAAN,EAAc;cAClD,OAAO/D,OAAO,CAAC+D,GAAD,MAAU,UAA5B,EAAwC;YACtCqD,GAAG,CAACrD,GAAD,IAAQ/D,OAAO,CAAC+D,GAAD,CAAlB;;;iBAGKqD,GAAP;SALY,EAMX,EANW,CAAd;;YAQIvD,MAAM,CAACD,IAAP,CAAYsD,KAAZ,EAAmBzB,SAAS,CAAhC,EAAmC;eAC5BO,aAAL,CAAmBf,IAAnB,CAAwBiC,KAAxB;;;;;qCAIWG,YAAYC,UAAU;YAC7BC,SAASF,UAAf;aACKxB,WAAL,CAAiB/B,OAAjB,CAAyB,UAACC,GAAD,EAAS;cAC5B,OAAOuD,QAAQ,CAACvD,GAAD,MAAU,WAA7B,EAA0C;YACxCwD,MAAM,CAACxD,GAAD,IAAQuD,QAAQ,CAACvD,GAAD,CAAtB;;SAFJ;eAMOwD,MAAP;;;;mCAGW;eACJ,KAAK5B,OAAZ;;;;mCAGW;eACJ,KAAK3F,OAAL,CAAaE,OAApB;;;;8BAGM;eACC,KAAKgG,EAAZ;;;;uCAGesB,UAAU;;;QACzBA,QAAQ,CAAC1D,OAAT,CAAiB,UAAA5D,OAAO;iBAAI,MAAI,CAACuH,eAAL,CAAqBvH,OAArB,CAAJ;SAAxB;;;;sCAGcA,SAAS;QACvBA,OAAO,CAACf,MAAR,CAAeyB,gBAAf,CAAgCV,OAAO,CAAC0G,KAAxC,EAA+C,KAAKD,eAApD;aACKJ,kBAAL,CAAwBtB,IAAxB,CAA6B/E,OAA7B;;;;2CAGmB;;;aACdqG,kBAAL,CAAwBzC,OAAxB,CAAgC,UAAC5D,OAAD,EAAa;UAC3C,MAAI,CAACwH,iBAAL,CAAuBxH,OAAvB;SADF;;;;wCAKgBA,SAAS;YACnByH,yBAAyB,KAAKpB,kBAAL,CAC5BnB,SAD4B,CAClB,UAAA/D,EAAE;iBAAIA,EAAE,CAAClC,WAAWe,OAAO,CAACf,UAAUkC,EAAE,CAACuF,UAAU1G,OAAO,CAAC0G,KAAzD;SADgB,CAA/B;;YAGIe,yBAAyB,CAAC,CAA9B,EAAiC;UAC/BzH,OAAO,CAACf,MAAR,CAAeyI,mBAAf,CAAmC1H,OAAO,CAAC0G,KAA3C,EAAkD,KAAKD,eAAvD;eACKJ,kBAAL,CAAwBhB,MAAxB,CAA+BoC,sBAA/B,EAAuD,CAAvD;eACK;UACL9G,OAAO,CAACC,KAAR,gDAAsDZ,OAAO,CAACf,MAA9D,0BAAoFe,OAAO,CAAC0G,KAA5F;;;;;mCAISzI,WAAiD;;;YAAtCE,6EAAS,EAA6B;YAAzBwJ,sFAAkB,KAAO;;YACxD,OAAO1J,cAAc,QAAzB,EAAmC;gBAC3B,IAAIkI,KAAJ,CAAU,8BAAV,CAAN;;;YAGE,KAAKN,UAAT,EAAqB;cACf5H,cAAc2J,KAAK,CAACrF,IAAxB,EAA8B;YAC5BsF,gBAAgB,CAAChD,GAAjB,CAAqB,IAArB;iBACK,IAAI5G,cAAc2J,KAAK,CAACnF,IAAxB,EAA8B;YACnCoF,gBAAgB,CAAC7C,MAAjB,CAAwB,IAAxB;;;;;YAKE8C,kBAAkB7J,SAAS,CAAC8J,KAAV,CAAgB,GAAhB,EAAqBd,MAArB,CAA4B,UAACe,GAAD,EAAMC,OAAN,EAAehD,KAAf,EAAyB;cACvEA,UAAU,CAAd,EAAiB;mBACRgD,OAAP;;;iBAGKD,MAAMC,OAAO,CAACC,MAAR,CAAe,CAAf,EAAkBC,WAAlB,KAAkCF,OAAO,CAACG,KAAR,CAAc,CAAd,CAA/C;SALsB,CAAxB;YAQMC,6BAAsBP,eAAe,CAACI,MAAhB,CAAuB,CAAvB,EAA0BC,WAA1B,EAAR,SAAkDL,eAAe,CAACM,KAAhB,CAAsB,CAAtB,CAAlD,CAApB;;aAGKtC,aAAL,CAAmBlC,OAAnB,CAA2B,UAACoD,KAAD,EAAW;cAChC,OAAOA,KAAK,CAACc,eAAD,MAAsB,UAAtC,EAAkD;YAChDd,KAAK,CAACc,eAAD,CAAL,CAAuBQ,KAAvB,CAA6B,MAA7B,EAAmC,CAACnK,MAAD,CAAnC;;;cAGE,OAAO6I,KAAK,CAACqB,cAAD,MAAqB,UAArC,EAAiD;YAC/C,MAAI,CAACvI,OAAL,CAAauI,cAAb,EAA6BC,KAA7B,CAAmC,MAAnC,EAAyC,CAACnK,MAAD,CAAzC;;SANJ;;YAUIwJ,eAAJ,EAAqB;;;;;YAKjB,KAAK7H,OAAL,CAAaE,OAAjB,EAA0B;UACxBvB,oBAAoB,CAAC,KAAKqB,OAAL,CAAaE,OAAd,EAAuB/B,SAAvB,EAAkC,KAAK0B,IAAvC,EAA6CxB,MAA7C,CAApB;eACK;UACLH,mBAAmB,CAACC,SAAD,EAAY,KAAK0B,IAAjB,EAAuBxB,MAAvB,CAAnB;;;;;sCAIY;YACV,KAAKwH,WAAL,CAAiBJ,SAAS,CAA9B,EAAiC;UAC/B/B,mBAAmB,CAAC,KAAK1D,OAAL,CAAaE,OAAd,EAAuB,KAAKF,OAA5B,EAAqC,KAAK6F,WAA1C,CAAnB;;;;;sCAIY;YACR7F,UAAU6D,MAAM,CAACQ,MAAP,CAAc,EAAd,EAAkB,KAAKrE,OAAvB,CAAhB;eACOmE,mBAAmB,CAAC,KAAKnE,OAAL,CAAaE,OAAd,EAAuBF,OAAvB,EAAgC,KAAK6F,WAArC,CAA1B;;;;;;;;;;wCAQgB;eACT,KAAKE,cAAc,CAACgC,gBAAgB,CAACvC,QAAjB,CAA0B,IAA1B,CAA3B;;;;2CAGmBoB,OAAO;YACtB,KAAK6B,eAAL,EAAJ,EAA4B;;;;aAIvBC,cAAL,CAAoB9B,KAApB;;;;;;;;;uCAOe;;;;;mCAIG;eACX,KAAK/G,IAAZ;;;;mCAGkB8I,gBAAgB3I,SAAiC;YAAxB4I,wFAAoB,EAAI;YAC7DvH,KAAK,OAAOrB,OAAO,CAACE,YAAY,WAAWxB,QAAQ,CAAC0H,aAAT,CAAuBpG,OAAO,CAACE,OAA/B,IAA0CF,OAAO,CAACE,OAAnG;YACM8E,YAAY4D,iBAAiB,CAAChH,IAAlB,CAAuB,UAAAyD,CAAC;iBAAIA,CAAC,CAACwD,UAAF,OAAmBxH,EAAvB;SAAxB,CAAlB;;YAEI2D,SAAJ,EAAe;UACbA,SAAS,CAACwB,YAAV,CAAuBxG,OAAvB;UACAgF,SAAS,CAACyB,gBAAV,CAA2BzG,OAA3B;iBACOgF,SAAP;;;eAGK,IAAI2D,cAAJ,CAAmB3I,OAAnB,CAAP;;;;;;;ECpPJ,IAAM8I,QAAS,UAAClJ,CAAD,EAAO;;;;;;QAOdmJ,OAAO,OAAb;QACMC,UAAU,OAAhB;QACMC,qBAAqB;MACzB/I,OAAO,EAAE,IADgB;MAEzBgJ,IAAI,EAAE;KAFR;QAIMC,wBAAwB,CAC5B,MAD4B,CAA9B;QAGMC,aAAa,EAAnB;;;;;;;QAQMN;;;;;uBACsB;;;YAAd9I,8EAAU,EAAI;;;;mFAClB+I,IAAN,EAAYC,OAAZ,EAAqBC,kBAArB,EAAyCjJ,OAAzC,EAAkDmJ,qBAAlD,EAAyE,KAAzE,EAAgF,KAAhF;cACKE,eAAe,KAApB;;;;;;;;;;;+BAOK;;;cACD,KAAKA,YAAT,EAAuB;mBACd,KAAP;;;cAGE,KAAKrJ,OAAL,CAAaE,OAAb,CAAqBZ,SAArB,CAA+BC,QAA/B,CAAwC,MAAxC,KAAmD,KAAK+J,UAAL,OAAsB,CAA7E,EAAgF;mBACvE,KAAP;;;eAGGD,eAAe,IAApB;eAEKE,YAAL,CAAkBzB,KAAK,CAACrF,IAAxB;;cAEM+G,SAAS,SAATA,MAAS,GAAM;YACnB,MAAI,CAACD,YAAL,CAAkBzB,KAAK,CAACpF,KAAxB;;gBAEI,MAAI,CAAC1C,OAAL,CAAaE,OAAb,CAAqBZ,SAArB,CAA+BC,QAA/B,CAAwC,MAAxC,CAAJ,EAAqD;cACnD,MAAI,CAACS,OAAL,CAAaE,OAAb,CAAqBZ,SAArB,CAA+B4F,MAA/B,CAAsC,MAAtC;;;YAGF,MAAI,CAAClF,OAAL,CAAaE,OAAb,CAAqB0H,mBAArB,CAAyCE,KAAK,CAAC1E,cAA/C,EAA+DoG,MAA/D;;YACA,MAAI,CAACH,eAAe,KAApB;WARF;;cAWI,KAAKrJ,OAAL,CAAakJ,QAAQ,CAAC,KAAKlJ,OAAL,CAAaE,OAAb,CAAqBZ,SAArB,CAA+BC,QAA/B,CAAwC,MAAxC,CAA1B,EAA2E;iBACpES,OAAL,CAAaE,OAAb,CAAqBZ,SAArB,CAA+ByF,GAA/B,CAAmC,MAAnC;;;eAGG/E,OAAL,CAAaE,OAAb,CAAqBZ,SAArB,CAA+ByF,GAA/B,CAAmC,MAAnC;eAEK/E,OAAL,CAAaE,OAAb,CAAqBU,gBAArB,CAAsCkH,KAAK,CAAC1E,cAA5C,EAA4DoG,MAA5D;;cAEI,KAAKxJ,OAAL,CAAaE,OAAb,CAAqBZ,SAArB,CAA+BC,QAA/B,CAAwC,MAAxC,CAAJ,EAAqD;iBAC9CS,OAAL,CAAaE,OAAb,CAAqBZ,SAArB,CAA+B4F,MAA/B,CAAsC,MAAtC;;;cAGE,CAAC,KAAKlF,OAAL,CAAakJ,IAAlB,EAAwB;YACtBM,MAAM;;;iBAGD,IAAP;;;;qCAGW;sCACSjL,MAAM,CAACkL,gBAAP,CAAwB,KAAKzJ,OAAL,CAAaE,OAArC,CADT;cACHwJ,gCAAAA,OADG;;iBAEJC,UAAU,CAACD,OAAD,CAAjB;;;;;;;;;+BAOK;;;cACD,KAAKL,YAAT,EAAuB;mBACd,KAAP;;;cAGE,KAAKC,UAAL,OAAsB,CAA1B,EAA6B;mBACpB,KAAP;;;eAGGD,eAAe,IAApB;eACKE,YAAL,CAAkBzB,KAAK,CAACnF,IAAxB;;cAEMiH,SAAS,SAATA,MAAS,GAAM;YACnB,MAAI,CAACL,YAAL,CAAkBzB,KAAK,CAAClF,MAAxB;;YACA,MAAI,CAAC5C,OAAL,CAAaE,OAAb,CAAqB0H,mBAArB,CAAyCE,KAAK,CAAC1E,cAA/C,EAA+DwG,MAA/D;;YACA,MAAI,CAACP,eAAe,KAApB;WAHF;;cAMI,KAAKrJ,OAAL,CAAakJ,QAAQ,CAAC,KAAKlJ,OAAL,CAAaE,OAAb,CAAqBZ,SAArB,CAA+BC,QAA/B,CAAwC,MAAxC,CAA1B,EAA2E;iBACpES,OAAL,CAAaE,OAAb,CAAqBZ,SAArB,CAA+ByF,GAA/B,CAAmC,MAAnC;;;eAGG/E,OAAL,CAAaE,OAAb,CAAqBU,gBAArB,CAAsCkH,KAAK,CAAC1E,cAA5C,EAA4DwG,MAA5D;;cAEI,CAAC,KAAK5J,OAAL,CAAaE,OAAb,CAAqBZ,SAArB,CAA+BC,QAA/B,CAAwC,MAAxC,CAAL,EAAsD;iBAC/CS,OAAL,CAAaE,OAAb,CAAqBZ,SAArB,CAA+ByF,GAA/B,CAAmC,MAAnC;;;cAGE,KAAK/E,OAAL,CAAaE,OAAb,CAAqBZ,SAArB,CAA+BC,QAA/B,CAAwC,MAAxC,CAAJ,EAAqD;iBAC9CS,OAAL,CAAaE,OAAb,CAAqBZ,SAArB,CAA+B4F,MAA/B,CAAsC,MAAtC;;;cAGE,CAAC,KAAKlF,OAAL,CAAakJ,IAAlB,EAAwB;YACtBU,MAAM;;;iBAGD,IAAP;;;;qCAGkB;iBACXb,IAAP;;;;qCAGkB/I,OAjIF,EAiIW;+EACD8I,KAA1B,EAAiC9I,OAAjC,EAA0CoJ,UAA1C;;;;;MA1GgB1D,SAxBA;;;;;;;;IA2IpB/F,kBAAkB,CAACC,CAAD,EAAImJ,IAAJ,EAAUD,KAAV,CAAlB;;;;;;;QAOMe,SAASjF,KAAK,CAACkF,IAAN,CAAWpL,QAAQ,CAACqL,gBAAT,YAA8BhB,IAA9B,MAAyC,EAApD,CAAf;IAEAc,MAAM,CAAC/F,OAAP,CAAe,UAAC5D,OAAD,EAAa;UACpBqH,SAASpD,mBAAmB,CAACjE,OAAD,EAAU+I,kBAAV,EAA8BE,qBAA9B,CAAlC;MACA5B,MAAM,CAACrH,UAAUA,OAAjB;MAEAkJ,UAAU,CAACnE,IAAX,CAAgB6D,KAAK,CAAC3I,YAAN,CAAmBoH,MAAnB,CAAhB;KAJF;IAOA7I,QAAQ,CAACkC,gBAAT,CAA0B,OAA1B,EAAmC,UAACgG,KAAD,EAAW;UACtCzH,SAASK,gBAAgB,CAACoH,KAAK,CAACzH,MAAP,EAAe,cAAf,CAA/B;;UACI,CAACA,MAAL,EAAa;;;;UAIP6K,iBAAiB7K,MAAM,CAACO,YAAP,CAAoB,cAApB,CAAvB;;UAEIsK,kBAAkBA,mBAAmBjB,IAAzC,EAA+C;YACvCkB,QAAQ/K,iBAAiB,CAAC0H,KAAK,CAACzH,MAAP,EAAe4J,IAAf,CAA/B;YACM7C,KAAK+D,KAAK,CAACvK,YAAN,CAAmB,IAAnB,CAAX;YACMsF,YAAYoE,UAAU,CAACxH,IAAX,CAAgB,UAAAyD,CAAC;iBAAIA,CAAC,CAACwD,UAAF,GAAenJ,YAAf,CAA4B,IAA5B,MAAsCwG,EAA1C;SAAjB,CAAlB;;YAEI,CAAClB,SAAL,EAAgB;;;;QAIhBA,SAAS,CAACkF,IAAV;;KAjBJ;WAqBOpB,KAAP;EACD,CAjLa,CAiLXvK,MAAM,CAACqB,IAAIrB,MAAM,CAACqB,IAAI,IAjLX,CAAd;;ECAA,IAAMuK,QAAS,UAACvK,CAAD,EAAO;;;;;;QAOdmJ,OAAO,OAAb;QACMC,UAAU,OAAhB;QACMoB,oBAAoB,gBAA1B;QACMnB,qBAAqB;MACzB/I,OAAO,EAAE,IADgB;MAEzBmK,KAAK,EAAE,IAFkB;MAGzBC,OAAO,EAAE,IAHgB;MAIzBC,UAAU,EAAE,IAJa;MAKzB/F,IAAI,EAAE,IALmB;MAMzBgG,UAAU,EAAE,IANa;MAOzBC,kBAAkB,EAAE,CAClB,EADkB;QAAA,CAPK;MAWzBC,OAAO,EAAE,CACP;QACE9D,KAAK,EAAE,SADT;QAEE+D,IAAI,EAAE,IAFR;QAGEC,OAAO,EAAE,IAHX;QAIEC,KAAK,EAAE;OALF;KAXX;QAoBM1B,wBAAwB,CAC5B,YAD4B,EAE5B,YAF4B,CAA9B;QAIMC,aAAa,EAAnB;;;;;;;QAQMe;;;;;uBACuC;;;YAA/BnK,8EAAU,EAAqB;YAAjB8K,+EAAW,IAAM;;;;mFACnC/B,IAAN,EAAYC,OAAZ,EAAqBC,kBAArB,EAAyCjJ,OAAzC,EAAkDmJ,qBAAlD,EAAyE,IAAzE,EAA+E,IAA/E;cAEK2B,WAAWA,YAAY,KAC1B,mDACE,8CACE,gCACE,+BACE,kCACF,WACA,6BACE,YACF,WACA,+BACA,WACF,WACF,WACF,QAdF;;YAgBI,MAAKxE,cAAT,EAAyB;gBAClByE,KAAL;;;cAGGC,YAAL;;;;;;;gCAGM;;;cACAC,UAAUvM,QAAQ,CAAC4C,aAAT,CAAuB,KAAvB,CAAhB;UAEA2J,OAAO,CAACC,YAAY,KAAKJ,QAAzB;eAEK9K,OAAL,CAAaE,UAAU+K,OAAO,CAACE,UAA/B;;cAGI,KAAKnL,OAAL,CAAaqK,UAAU,IAA3B,EAAiC;iBAC1BrK,OAAL,CAAaE,OAAb,CAAqBkG,aAArB,CAAmC,cAAnC,EAAmD8E,YAAY,KAAKlL,OAAL,CAAaqK,KAA5E;;;;cAIE,KAAKrK,OAAL,CAAasK,YAAY,IAA7B,EAAmC;iBAC5BtK,OAAL,CAAaE,OAAb,CAAqBkG,aAArB,CAAmC,aAAnC,EAAkD+E,UAAlD,CAA6DD,YAAY,KAAKlL,OAAL,CAAasK,OAAtF;iBACK;;iBAEAc,cAAL;;;;cAIE,KAAKpL,OAAL,CAAa0K,YAAY,QAAQ9F,KAAK,CAACC,OAAN,CAAc,KAAK7E,OAAL,CAAa0K,OAA3B,CAArC,EAA0E;gBACpE,KAAK1K,OAAL,CAAa0K,OAAb,CAAqBjF,SAAS,CAAlC,EAAqC;mBAC9BzF,OAAL,CAAa0K,OAAb,CAAqB5G,OAArB,CAA6B,UAACuH,MAAD,EAAY;gBACvC,MAAI,CAACrL,OAAL,CAAaE,OAAb,CAAqBkG,aAArB,CAAmC,eAAnC,EAAoDkF,WAApD,CAAgE,MAAI,CAACC,WAAL,CAAiBF,MAAjB,CAAhE;eADF;mBAGK;mBACAG,YAAL;;iBAEG;iBACAA,YAAL;;;UAGF9M,QAAQ,CAAC+M,IAAT,CAAcH,WAAd,CAA0B,KAAKtL,OAAL,CAAaE,OAAvC;eAEK+G,aAAL;;;;uCAGa;cACPuD,aAAa,KAAK9D,SAAL,CAAe,YAAf,CAAnB;;cAEI,CAAC8D,UAAL,EAAiB;;;;cAIb,CAAC,KAAKxK,OAAL,CAAaE,OAAb,CAAqBZ,SAArB,CAA+BC,QAA/B,iBAAiDiL,UAAjD,EAAL,EAAqE;iBAC9DxK,OAAL,CAAaE,OAAb,CAAqBZ,SAArB,CAA+ByF,GAA/B,iBAA4CyF,UAA5C;;;cAGE,CAAC,KAAKxK,OAAL,CAAaE,OAAb,CAAqBZ,SAArB,CAA+BC,QAA/B,CAAwC,YAAxC,CAAL,EAA4D;iBACrDS,OAAL,CAAaE,OAAb,CAAqBZ,SAArB,CAA+ByF,GAA/B,CAAmC,YAAnC;;;;;sCAIyB;cAAjB2G,iFAAa,EAAI;cACrBL,SAAS3M,QAAQ,CAAC4C,aAAT,CAAuB,QAAvB,CAAf;UACA+J,MAAM,CAACnH,YAAP,CAAoB,MAApB,EAA4B,QAA5B;UACAmH,MAAM,CAACnH,YAAP,CAAoB,OAApB,EAA6BwH,UAAU,CAACb,SAAS,KAAjD;UACAQ,MAAM,CAACnH,YAAP,CAAoB,YAApB,EAAkCwH,UAAU,CAAC9E,KAA7C;UACAyE,MAAM,CAACH,YAAYQ,UAAU,CAACf,IAA9B;;cAEIe,UAAU,CAACd,OAAf,EAAwB;YACtBS,MAAM,CAACnH,YAAP,CAAoB,cAApB,EAAoC6E,IAApC;;;iBAGKsC,MAAP;;;;wCAGc;cACRM,WAAWjN,QAAQ,CAAC4C,aAAT,CAAuB,KAAvB,CAAjB;UACAqK,QAAQ,CAACzH,YAAT,CAAsB,SAAtB,EAAiC,KAAKgC,EAAtC;UACAyF,QAAQ,CAACrM,SAAT,CAAmByF,GAAnB,CAAuBqF,iBAAvB;UAEA1L,QAAQ,CAAC+M,IAAT,CAAcH,WAAd,CAA0BK,QAA1B;;;;sCAGY;iBACLjN,QAAQ,CAAC0H,aAAT,YAA2BgE,iBAA3B,wBAAyD,KAAKlE,EAA9D,SAAP;;;;yCAGe;eACVlG,OAAL,CAAaE,OAAb,CAAqBkG,aAArB,CAAmC,aAAnC,EAAkDwF,WAAlD,CAA8D,KAAK5L,OAAL,CAAaE,OAAb,CAAqBkG,aAArB,CAAmC,aAAnC,EAAkD+E,UAAhH;;;;uCAGa;cACPU,SAAS,KAAK7L,OAAL,CAAaE,OAAb,CAAqBkG,aAArB,CAAmC,eAAnC,CAAf;eACKpG,OAAL,CAAaE,OAAb,CAAqBkG,aAArB,CAAmC,gBAAnC,EAAqDwF,WAArD,CAAiEC,MAAjE;;;;iCAGO;cACDC,gBAAgBvN,MAAM,CAACkL,gBAAP,CAAwB,KAAKzJ,OAAL,CAAaE,OAArC,CAAtB;cACM6L,SAASD,aAAa,CAACC,MAAd,CAAqBzD,KAArB,CAA2B,CAA3B,EAA8BwD,aAAa,CAACC,MAAd,CAAqBtG,SAAS,CAA5D,CAAf;cAEMuG,MAAOzN,MAAM,CAAC0N,cAAc,IAAMF,SAAS,CAAjD;eACK/L,OAAL,CAAaE,OAAb,CAAqB4B,KAArB,CAA2BkK,gBAASA,GAApC;;;;;;;;;+BAOK;;;cACD,KAAKhM,OAAL,CAAaE,YAAY,IAA7B,EAAmC;;iBAE5B6K,KAAL;;;cAGE,KAAK/K,OAAL,CAAaE,OAAb,CAAqBZ,SAArB,CAA+BC,QAA/B,CAAwC,MAAxC,CAAJ,EAAqD;mBAC5C,KAAP;;;;;;kCAID;;;;;;;2BACOgB,KAAK,CAAC,EAAD,CADZ;;;oBAGC,MAAI,CAACgJ,YAAL,CAAkBzB,KAAK,CAACrF,IAAxB;;oBACA,MAAI,CAACyJ,aAAL;;;oBAGA,MAAI,CAACC,YAAL;;oBAEMC,UAAU,SAAVA,OAAU,GAAM;sBACpB,MAAI,CAAC7C,YAAL,CAAkBzB,KAAK,CAACpF,KAAxB;;sBACA,MAAI,CAAC1C,OAAL,CAAaE,OAAb,CAAqB0H,mBAArB,CAAyCE,KAAK,CAAC1E,cAA/C,EAA+DgJ,OAA/D;qBAXH;;oBAcC,MAAI,CAACpM,OAAL,CAAaE,OAAb,CAAqBU,gBAArB,CAAsCkH,KAAK,CAAC1E,cAA5C,EAA4DgJ,OAA5D;;oBAEA,MAAI,CAACpM,OAAL,CAAaE,OAAb,CAAqBZ,SAArB,CAA+ByF,GAA/B,CAAmC,MAAnC;;oBAEA,MAAI,CAACsH,MAAL;;;;;;;;WAlBF;;iBAqBO,IAAP;;;;uCAGazF,KA7MG,EA6MI;;cAEhBA,KAAK,CAACpC,SAAS,OAAnB,EAA4B;gBACtB,KAAKxE,OAAL,CAAayK,kBAAb,CAAgC7I,IAAhC,CAAqC,UAAA0K,CAAC;qBAAIA,MAAM1F,KAAK,CAAC2F,OAAhB;aAAtC,CAAJ,EAAoE;mBAC7DrC,IAAL;;;;;;;cAMAtD,KAAK,CAACpC,SAASsD,KAAK,CAAChF,KAAzB,EAAgC;;iBAEzBoH,IAAL;;;;;cAKEtD,KAAK,CAACpC,SAAS,OAAnB,EAA4B;gBACpBrG,YAAYyI,KAAK,CAACzH,MAAN,CAAaO,YAAb,CAA0B,YAA1B,CAAlB;;gBAEIvB,SAAJ,EAAe;mBACRoL,YAAL,CAAkBpL,SAAlB;;;gBAGEyI,KAAK,CAACzH,MAAN,CAAaO,YAAb,CAA0B,cAA1B,MAA8CqJ,IAAlD,EAAwD;mBACjDmB,IAAL;;;;;;;;;;;+BASC;;;cACD,CAAC,KAAKlK,OAAL,CAAaE,OAAb,CAAqBZ,SAArB,CAA+BC,QAA/B,CAAwC,MAAxC,CAAL,EAAsD;mBAC7C,KAAP;;;eAGGgK,YAAL,CAAkBzB,KAAK,CAACnF,IAAxB;eAEK6J,YAAL;eAEKxM,OAAL,CAAaE,OAAb,CAAqBZ,SAArB,CAA+ByF,GAA/B,CAAmC,MAAnC;eACK/E,OAAL,CAAaE,OAAb,CAAqBZ,SAArB,CAA+B4F,MAA/B,CAAsC,MAAtC;cAEMyG,WAAW,KAAKc,WAAL,EAAjB;;cAEMC,WAAW,SAAXA,QAAW,GAAM;YACrBhO,QAAQ,CAAC+M,IAAT,CAAcG,WAAd,CAA0BD,QAA1B;;YAEA,MAAI,CAAC3L,OAAL,CAAaE,OAAb,CAAqBZ,SAArB,CAA+B4F,MAA/B,CAAsC,MAAtC;;YAEA,MAAI,CAACqE,YAAL,CAAkBzB,KAAK,CAAClF,MAAxB;;YAEA+I,QAAQ,CAAC/D,mBAAT,CAA6BE,KAAK,CAAC1E,cAAnC,EAAmDsJ,QAAnD;;gBAGI,MAAI,CAACpG,cAAT,EAAyB;cACvB5H,QAAQ,CAAC+M,IAAT,CAAcG,WAAd,CAA0B,MAAI,CAAC5L,OAAL,CAAaE,OAAvC;cACA,MAAI,CAACF,OAAL,CAAaE,UAAU,IAAvB;;WAZJ;;UAgBAyL,QAAQ,CAAC/K,gBAAT,CAA0BkH,KAAK,CAAC1E,cAAhC,EAAgDsJ,QAAhD;UACAf,QAAQ,CAACrM,SAAT,CAAmByF,GAAnB,CAAuB,SAAvB;iBAEO,IAAP;;;;uCAGa;;;cACP2F,UAAU,KAAK1K,OAAL,CAAaE,OAAb,CAAqB6J,gBAArB,CAAsC,sCAAtC,CAAhB;;cACIW,OAAJ,EAAa;YACX9F,KAAK,CAACkF,IAAN,CAAWY,OAAX,EAAoB5G,OAApB,CAA4B,UAAAuH,MAAM;qBAAI,MAAI,CAAC5D,eAAL,CAAqB;gBAAEtI,MAAM,EAAEkM,MAAV;gBAAkBzE,KAAK,EAAE;eAA9C,CAAJ;aAAlC;;;;;;cAME,KAAK5G,OAAL,CAAauK,UAAjB,EAA6B;gBACrBoB,WAAW,KAAKc,WAAL,EAAjB;iBACKhF,eAAL,CAAqB;cAAEtI,MAAM,EAAEwM,QAAV;cAAoB/E,KAAK,EAAEkB,KAAK,CAAChF;aAAtD;iBACK2E,eAAL,CAAqB;cAAEtI,MAAM,EAAET,QAAV;cAAoBkI,KAAK,EAAE;aAAhD;;;;;uCAIW;;;cACP8D,UAAU,KAAK1K,OAAL,CAAaE,OAAb,CAAqB6J,gBAArB,CAAsC,sCAAtC,CAAhB;;cACIW,OAAJ,EAAa;YACX9F,KAAK,CAACkF,IAAN,CAAWY,OAAX,EAAoB5G,OAApB,CAA4B,UAAAuH,MAAM;qBAAI,MAAI,CAAC3D,iBAAL,CAAuB;gBAAEvI,MAAM,EAAEkM,MAAV;gBAAkBzE,KAAK,EAAE;eAAhD,CAAJ;aAAlC;;;cAGE,KAAK5G,OAAL,CAAauK,UAAjB,EAA6B;gBACrBoB,WAAW,KAAKc,WAAL,EAAjB;iBACK/E,iBAAL,CAAuB;cAAEvI,MAAM,EAAEwM,QAAV;cAAoB/E,KAAK,EAAEkB,KAAK,CAAChF;aAAxD;iBACK4E,iBAAL,CAAuB;cAAEvI,MAAM,EAAET,QAAV;cAAoBkI,KAAK,EAAE;aAAlD;;;;;qCAIgB;iBACXmC,IAAP;;;;qCAGkB/I,OApTF,EAoTW;+EACDmK,KAA1B,EAAiCnK,OAAjC,EAA0CoJ,UAA1C;;;;;MA3QgB1D,SA1CA;;;;;;;;IA8TpB/F,kBAAkB,CAACC,CAAD,EAAImJ,IAAJ,EAAUoB,KAAV,CAAlB;;;;;;;QAOMwC,SAAS/H,KAAK,CAACkF,IAAN,CAAWpL,QAAQ,CAACqL,gBAAT,YAA8BhB,IAA9B,MAAyC,EAApD,CAAf;IAEA4D,MAAM,CAAC7I,OAAP,CAAe,UAAC5D,OAAD,EAAa;UACpBqH,SAASpD,mBAAmB,CAACjE,OAAD,EAAU+I,kBAAV,EAA8BE,qBAA9B,CAAlC;MACA5B,MAAM,CAACrH,UAAUA,OAAjB;MAEAkJ,UAAU,CAACnE,IAAX,CAAgB,IAAIkF,KAAJ,CAAU5C,MAAV,CAAhB;KAJF;IAOA7I,QAAQ,CAACkC,gBAAT,CAA0B,OAA1B,EAAmC,UAACgG,KAAD,EAAW;UACtCoD,iBAAiBpD,KAAK,CAACzH,MAAN,CAAaO,YAAb,CAA0B,aAA1B,CAAvB;;UACIsK,kBAAkBA,mBAAmBjB,IAAzC,EAA+C;YACvC6D,WAAWhG,KAAK,CAACzH,MAAN,CAAaO,YAAb,CAA0B,aAA1B,CAAjB;YACMQ,UAAUxB,QAAQ,CAAC0H,aAAT,CAAuBwG,QAAvB,CAAhB;YAEM5H,YAAYoE,UAAU,CAACxH,IAAX,CAAgB,UAAAyD,CAAC;iBAAIA,CAAC,CAACwD,UAAF,OAAmB3I,OAAvB;SAAjB,CAAlB;;YAEI,CAAC8E,SAAL,EAAgB;;;;;QAKhB4B,KAAK,CAACzH,MAAN,CAAa0N,IAAb;QAEA7H,SAAS,CAAC8H,IAAV;;KAfJ;WAmBO3C,KAAP;EACD,CAlWa,CAkWX5L,MAAM,CAACqB,IAAIrB,MAAM,CAACqB,IAAI,IAlWX,CAAd;;ECDA,IAAMmN,SAAU,UAACnN,CAAD,EAAO;;;;;;QAOfmJ,OAAO,QAAb;QACME,qBAAqB;MACzB/I,OAAO,EAAE,IADgB;MAEzBmK,KAAK,EAAE,IAFkB;MAGzBC,OAAO,EAAE,IAHgB;MAIzBC,UAAU,EAAE,IAJa;MAKzB/F,IAAI,EAAEuE,IALmB;MAMzB2B,OAAO,EAAE,CACP;QACE9D,KAAK,EAAE,QADT;QAEE+D,IAAI,EAAE,QAFR;QAGEC,OAAO,EAAE,IAHX;QAIEC,KAAK,EAAE;OALF,EAOP;QACEjE,KAAK,EAAE,SADT;QAEE+D,IAAI,EAAE,IAFR;QAGEC,OAAO,EAAE,IAHX;QAIEC,KAAK,EAAE;OAXF;KANX;QAqBM1B,wBAAwB,CAC5B,YAD4B,CAA9B;;;;;;;QAUM4D;;;;;wBACsB;YAAd/M,8EAAU,EAAI;;;;YAClB8K,WAAW,KACf,mDACE,8CACE,gCACE,+BACE,kCACF,WACA,6BACE,YACA,sDACF,WACA,+BACA,WACF,WACF,WACF,QAfF;;YAiBI,CAAClG,KAAK,CAACC,OAAN,CAAc7E,OAAO,CAAC0K,OAAtB,CAAL,EAAqC;UACnC1K,OAAO,CAAC0K,UAAUzB,kBAAkB,CAACyB,OAArC;;;mFAGI1K,OAtBkB,EAsBT8K,QAtBS;;;;;;;;;;+BA6BnB;;;eAEAkC,gBAAL;;;;;;;;;+BAOK;;;eAEAC,gBAAL;;;;mCAGS;iBACF,KAAKjN,OAAL,CAAaE,OAAb,CAAqBkG,aAArB,CAAmC,eAAnC,CAAP;;;;2CAGiB;eACZqB,eAAL,CAAqB;YAAEtI,MAAM,EAAE,KAAK+N,QAAL,EAAV;YAA2BtG,KAAK,EAAE;WAAvD;;;;2CAGiB;eACZc,iBAAL,CAAuB;YAAEvI,MAAM,EAAE,KAAK+N,QAAL,EAAV;YAA2BtG,KAAK,EAAE;WAAzD;;;;uCAGaA,KA/FI,EA+FG;cAChBA,KAAK,CAACzH,WAAW,KAAK+N,QAAL,EAArB,EAAsC;;;;qFAIjBtG,KAArB;;;;wCAGwB;cAAZrC,4EAAQ,EAAI;eACnB2I,QAAL,GAAgB3I,QAAQA,KAAxB;;;;wCAGc;iBACP,KAAK2I,QAAL,GAAgB3I,KAAvB;;;;qCAGkB;iBACXwE,IAAP;;;;qCAGkB/I,OAnHD,EAmHU;iBACpB,IAAI+M,MAAJ,CAAW/M,OAAX,CAAP;;;;;MA7EiBmK,KAvCA;;;;;;;;IA6HrBxK,kBAAkB,CAACC,CAAD,EAAImJ,IAAJ,EAAUgE,MAAV,CAAlB;;;;;;;QAOM3D,aAAa,EAAnB;QACMuD,SAASjO,QAAQ,CAACqL,gBAAT,YAA8BI,KAAK,CAACgD,UAAN,EAA9B,EAAf;;QAEIR,MAAJ,EAAY;MACV/H,KAAK,CAACkF,IAAN,CAAW6C,MAAX,EAAmB7I,OAAnB,CAA2B,UAAC5D,OAAD,EAAa;YAChCqH,SAASpD,mBAAmB,CAACjE,OAAD,EAAU+I,kBAAV,EAA8BE,qBAA9B,CAAlC;QACA5B,MAAM,CAACrH,UAAUA,OAAjB;;YAEIqH,MAAM,CAAC/C,SAASuE,IAApB,EAA0B;;UAExBK,UAAU,CAACnE,IAAX,CAAgB,IAAI8H,MAAJ,CAAWxF,MAAX,CAAhB;;OANJ;;;IAWF7I,QAAQ,CAACkC,gBAAT,CAA0B,OAA1B,EAAmC,UAACgG,KAAD,EAAW;UACtCoD,iBAAiBpD,KAAK,CAACzH,MAAN,CAAaO,YAAb,CAA0B,aAA1B,CAAvB;;UACIsK,kBAAkBA,mBAAmBjB,IAAzC,EAA+C;YACvC7C,KAAKU,KAAK,CAACzH,MAAN,CAAaO,YAAb,CAA0B,aAA1B,CAAX;YACMQ,UAAUxB,QAAQ,CAAC0H,aAAT,CAAuBF,EAAvB,CAAhB;YAEMlB,YAAYoE,UAAU,CAACxH,IAAX,CAAgB,UAAAyD,CAAC;iBAAIA,CAAC,CAACnF,YAAYA,OAAlB;SAAjB,CAAlB;;YAEI,CAAC8E,SAAL,EAAgB;;;;;QAKhB4B,KAAK,CAACzH,MAAN,CAAa0N,IAAb;QAEA7H,SAAS,CAACoI,KAAV,CAAgBN,IAAhB;;KAfJ;WAmBOC,MAAP;EACD,CAvKc,CAuKZxO,MAAM,CAACqB,IAAIrB,MAAM,CAACqB,IAAI,IAvKV,CAAf;;ECAA,IAAMyN,UAAW,UAACzN,CAAD,EAAO;;;;;;QAOhBmJ,OAAO,SAAb;QACME,qBAAqB;MACzB/I,OAAO,EAAE,IADgB;MAEzBmK,KAAK,EAAE,IAFkB;MAGzBC,OAAO,EAAE,IAHgB;MAIzBC,UAAU,EAAE,IAJa;MAKzB/F,IAAI,EAAEuE,IALmB;MAMzB2B,OAAO,EAAE,CACP;QACE9D,KAAK,EAAE,QADT;QAEE+D,IAAI,EAAE,QAFR;QAGEC,OAAO,EAAE,IAHX;QAIEC,KAAK,EAAE;OALF,EAOP;QACEjE,KAAK,EAAE,SADT;QAEE+D,IAAI,EAAE,IAFR;QAGEC,OAAO,EAAE,IAHX;QAIEC,KAAK,EAAE;OAXF;KANX;QAqBM1B,wBAAwB,CAC5B,YAD4B,CAA9B;;;;;;;QAUMkE;;;;;yBACsB;YAAdrN,8EAAU,EAAI;;;;YAClBC,OAAOD,OAAb;YACM8K,WAAW,KACf,mDACE,8CACE,gCACE,+BACE,kCACF,WACA,6BACE,YACF,WACA,+BACA,WACF,WACF,WACF,QAdF;;YAgBI,CAAClG,KAAK,CAACC,OAAN,CAAc5E,IAAI,CAACyK,OAAnB,CAAL,EAAkC;UAChCzK,IAAI,CAACyK,UAAUzB,kBAAkB,CAACyB,OAAlC;;;oFAGIzK,IAtBkB,EAsBZ6K,QAtBY;;;;;qCAyBN;iBACX/B,IAAP;;;;qCAGkB/I,OArEA,EAqES;iBACpB,IAAIqN,OAAJ,CAAYrN,OAAZ,CAAP;;;;;MA/BkBmK,KAvCA;;;;;;;;IA+EtBxK,kBAAkB,CAACC,CAAD,EAAImJ,IAAJ,EAAUsE,OAAV,CAAlB;;;;;;;QAOMjE,aAAa,EAAnB;QACMuD,SAASjO,QAAQ,CAACqL,gBAAT,YAA8BI,KAAK,CAACgD,UAAN,EAA9B,EAAf;;QAEIR,MAAJ,EAAY;MACV/H,KAAK,CAACkF,IAAN,CAAW6C,MAAX,EAAmB7I,OAAnB,CAA2B,UAAC5D,OAAD,EAAa;YAChCqH,SAASpD,mBAAmB,CAACjE,OAAD,EAAU+I,kBAAV,EAA8BE,qBAA9B,CAAlC;QACA5B,MAAM,CAACrH,UAAUA,OAAjB;;YAEIqH,MAAM,CAAC/C,SAASuE,IAApB,EAA0B;;UAExBK,UAAU,CAACnE,IAAX,CAAgB,IAAIoI,OAAJ,CAAY9F,MAAZ,CAAhB;;OANJ;;;IAWF7I,QAAQ,CAACkC,gBAAT,CAA0B,OAA1B,EAAmC,UAACgG,KAAD,EAAW;UACtCoD,iBAAiBpD,KAAK,CAACzH,MAAN,CAAaO,YAAb,CAA0B,aAA1B,CAAvB;;UACIsK,kBAAkBA,mBAAmBjB,IAAzC,EAA+C;YACvC7C,KAAKU,KAAK,CAACzH,MAAN,CAAaO,YAAb,CAA0B,aAA1B,CAAX;YACMQ,UAAUxB,QAAQ,CAAC0H,aAAT,CAAuBF,EAAvB,CAAhB;YAEMlB,YAAYoE,UAAU,CAACxH,IAAX,CAAgB,UAAAyD,CAAC;iBAAIA,CAAC,CAACnF,YAAYA,OAAlB;SAAjB,CAAlB;;YAEI,CAAC8E,SAAL,EAAgB;;;;;QAKhB4B,KAAK,CAACzH,MAAN,CAAa0N,IAAb;QAEA7H,SAAS,CAACoI,KAAV,CAAgBN,IAAhB;;KAfJ;WAmBOO,OAAP;EACD,CAzHe,CAyHb9O,MAAM,CAACqB,IAAIrB,MAAM,CAACqB,IAAI,IAzHT,CAAhB;;ECAA,IAAM0N,SAAU,UAAC1N,CAAD,EAAO;;;;;;QAOfmJ,OAAO,QAAb;QACMC,UAAU,OAAhB;QACMC,qBAAqB;MACzB/I,OAAO,EAAE,IADgB;MAEzBqN,KAAK,EAAE,IAFkB;MAGzBC,IAAI,EAAE;KAHR;QAKMrE,wBAAwB,EAA9B;;;;;;;QAQMmE;;;;;wBACsB;;;YAAdtN,8EAAU,EAAI;;;;oFAClB+I,IAAN,EAAYC,OAAZ,EAAqBC,kBAArB,EAAyCjJ,OAAzC,EAAkDmJ,qBAAlD,EAAyE,KAAzE,EAAgF,KAAhF;;YAGMsE,gBAAgB,MAAKC,UAAL,EAAtB;;YACI,OAAO,MAAK1N,OAAL,CAAauN,UAAU,YAC7B,CAACE,aAAa,CAACnO,SAAd,CAAwBC,QAAxB,iBAA0C,MAAKS,OAAL,CAAauN,KAAvD,EADN,EACuE;UACrEE,aAAa,CAACnO,SAAd,CAAwByF,GAAxB,iBAAqC,MAAK/E,OAAL,CAAauN,KAAlD;;;cAGGI,aAAa,MAAK3N,OAAL,CAAawN,SAAS,IAAxC;;;;;;wCAGc;cACV,CAAC,KAAKG,UAAV,EAAsB;gBACdH,OAAO,KAAKxN,OAAL,CAAaE,OAAb,CAAqB0N,qBAArB,EAAb;mBACOJ,IAAI,CAACzB,MAAZ;;;iBAGK,KAAK/L,OAAL,CAAawN,IAApB;;;;qCAGW;iBACJ,KAAKxN,OAAL,CAAaE,OAAb,CAAqBkG,aAArB,CAAmC,iBAAnC,CAAP;;;;+BAGK;cACD,KAAKpG,OAAL,CAAaE,OAAb,CAAqBZ,SAArB,CAA+BC,QAA/B,CAAwC,MAAxC,CAAJ,EAAqD;iBAC9CS,OAAL,CAAaE,OAAb,CAAqBZ,SAArB,CAA+B4F,MAA/B,CAAsC,MAAtC;;;eAGGqE,YAAL,CAAkBzB,KAAK,CAACrF,IAAxB;cAEM+K,OAAO,KAAKK,aAAL,EAAb;eACK7N,OAAL,CAAawN,OAAOA,IAApB;;cAEI,KAAKG,UAAT,EAAqB;iBACd3N,OAAL,CAAaE,OAAb,CAAqB4B,KAArB,CAA2BgM,kBAAW,KAAK9N,OAAL,CAAawN,IAAnD;iBACKxN,OAAL,CAAaE,OAAb,CAAqB4B,KAArB,CAA2BiK,mBAAY,KAAK/L,OAAL,CAAawN,IAApD;gBAEMC,gBAAgB,KAAKC,UAAL,EAAtB;YACAD,aAAa,CAAC3L,KAAd,CAAoBgM,kBAAW,KAAK9N,OAAL,CAAawN,IAA5C;YACAC,aAAa,CAAC3L,KAAd,CAAoBiK,mBAAY,KAAK/L,OAAL,CAAawN,IAA7C;;;eAGGjE,YAAL,CAAkBzB,KAAK,CAACpF,KAAxB;iBAEO,IAAP;;;;kCAG6B;cAAvBqL,qFAAiB,IAAM;;cACzBA,cAAJ,EAAoB;iBACbjB,IAAL;iBACK;iBACA5C,IAAL;;;cAGIuD,gBAAgB,KAAKC,UAAL,EAAtB;;cAEIK,kBACC,CAACN,aAAa,CAACnO,SAAd,CAAwBC,QAAxB,CAAiC,yBAAjC,CADN,EACmE;YACjEkO,aAAa,CAACnO,SAAd,CAAwByF,GAAxB,CAA4B,yBAA5B;mBACO,IAAP;;;cAGE,CAACgJ,kBACAN,aAAa,CAACnO,SAAd,CAAwBC,QAAxB,CAAiC,yBAAjC,CADL,EACkE;YAChEkO,aAAa,CAACnO,SAAd,CAAwB4F,MAAxB,CAA+B,yBAA/B;;;iBAGK,IAAP;;;;+BAGK;cACD,CAAC,KAAKlF,OAAL,CAAaE,OAAb,CAAqBZ,SAArB,CAA+BC,QAA/B,CAAwC,MAAxC,CAAL,EAAsD;iBAC/CS,OAAL,CAAaE,OAAb,CAAqBZ,SAArB,CAA+ByF,GAA/B,CAAmC,MAAnC;;;eAGGwE,YAAL,CAAkBzB,KAAK,CAACnF,IAAxB;eAEK4G,YAAL,CAAkBzB,KAAK,CAAClF,MAAxB;iBAEO,IAAP;;;;qCAGkB;iBACXmG,IAAP;;;;qCAGkB/I,OAhHD,EAgHU;gFACDsN,MAA1B,EAAkCtN,OAAlC;;;;;MA3FiB0F,SAtBA;;;;;;;;IA0HrB/F,kBAAkB,CAACC,CAAD,EAAImJ,IAAJ,EAAUuE,MAAV,CAAlB;WAEOA,MAAP;EACD,CA7Hc,CA6HZ/O,MAAM,CAACqB,IAAIrB,MAAM,CAACqB,IAAI,IA7HV,CAAf;;ECCA,IAAM0N,WAAU,UAAC1N,CAAD,EAAO;;;;;;QAOfmJ,OAAO,QAAb;QACME,qBAAqB;MACzB/I,OAAO,EAAE,IADgB;MAEzBmK,KAAK,EAAE,IAFkB;MAGzBC,OAAO,EAAE,IAHgB;MAIzBC,UAAU,EAAE,IAJa;MAKzB/F,IAAI,EAAEuE,IALmB;MAMzB2B,OAAO,EAAE;KANX;QAQMvB,wBAAwB,CAC5B,YAD4B,CAA9B;;;;;;;QAUMmE;;;;;2BACsB;;;YAAdtN,8EAAU,EAAI;;;;YAClBC,OAAOD,OAAb;YACM8K,WAAW,KACf,mDACE,8CACE,gCACE,+BACE,kCACF,WACA,6BACE,YACA,sCACE,yCACE,uCACF,WACF,WACF,WACA,+BACA,WACF,WACF,WACF,QAnBF;;YAqBI,CAAClG,KAAK,CAACC,OAAN,CAAc5E,IAAI,CAACyK,OAAnB,CAAL,EAAkC;UAChCzK,IAAI,CAACyK,UAAUzK,IAAI,CAACsK,aAAatB,kBAAkB,CAACyB,UAAU,EAA9D;;;uFAGIzK,IAAN,EAAY6K,QAAZ;cAEKkD,UAAU,IAAf;;;;;;+BAGK;;;eAGAA,UAAU,IAAIC,MAAJ,CAAY;YAAE/N,OAAO,EAAE,KAAK2I,UAAL,GAAkBzC,aAAlB,CAAgC,SAAhC;WAAvB,CAAf;eACK4H,OAAL,CAAaE,OAAb,CAAqB,IAArB;;;;+BAGK;;;eAGAF,OAAL,CAAaE,OAAb,CAAqB,KAArB;eACKF,UAAU,IAAf;;;;qCAGkB;iBACXjF,IAAP;;;;qCAGkB/I,OA7ED,EA6EU;iBACpB,IAAIsN,SAAJ,CAAWtN,OAAX,CAAP;;;;;MApDiBmK,KA1BA;;;;;;;;IAuFrBxK,kBAAkB,CAACC,CAAD,EAAImJ,IAAJ,EAAUuE,SAAV,CAAlB;;;;;;;QAOMlE,aAAa,EAAnB;QACMuD,SAASjO,QAAQ,CAACqL,gBAAT,YAA8BI,KAAK,CAACgD,UAAN,EAA9B,EAAf;;QAEIR,MAAJ,EAAY;MACV/H,KAAK,CAACkF,IAAN,CAAW6C,MAAX,EAAmB7I,OAAnB,CAA2B,UAAC5D,OAAD,EAAa;YAChCqH,SAASpD,mBAAmB,CAACjE,OAAD,EAAU+I,kBAAV,EAA8BE,qBAA9B,CAAlC;QACA5B,MAAM,CAACrH,UAAUA,OAAjB;;YAEIqH,MAAM,CAAC/C,SAASuE,IAApB,EAA0B;;UAExBK,UAAU,CAACnE,IAAX,CAAgB,IAAIqI,SAAJ,CAAW/F,MAAX,CAAhB;;OANJ;;;IAWF7I,QAAQ,CAACkC,gBAAT,CAA0B,OAA1B,EAAmC,UAACgG,KAAD,EAAW;UACtCoD,iBAAiBpD,KAAK,CAACzH,MAAN,CAAaO,YAAb,CAA0B,aAA1B,CAAvB;;UACIsK,kBAAkBA,mBAAmBjB,IAAzC,EAA+C;YACvC7C,KAAKU,KAAK,CAACzH,MAAN,CAAaO,YAAb,CAA0B,aAA1B,CAAX;YACMQ,UAAUxB,QAAQ,CAAC0H,aAAT,CAAuBF,EAAvB,CAAhB;YAEMlB,YAAYoE,UAAU,CAACxH,IAAX,CAAgB,UAAAyD,CAAC;iBAAIA,CAAC,CAACnF,YAAYA,OAAlB;SAAjB,CAAlB;;YAEI,CAAC8E,SAAL,EAAgB;;;;;QAKhB4B,KAAK,CAACzH,MAAN,CAAa0N,IAAb;QAEA7H,SAAS,CAACoI,KAAV,CAAgBN,IAAhB;;KAfJ;WAmBOQ,SAAP;EACD,CAjIc,CAiIZ/O,MAAM,CAACqB,IAAIrB,MAAM,CAACqB,IAAI,IAjIV,CAAf;;ECDA,IAAMuO,eAAgB,UAACvO,CAAD,EAAO;;;;;;QAOrBmJ,OAAO,cAAb;QACMC,UAAU,OAAhB;QACMC,qBAAqB;MACzB/I,OAAO,EAAE,IADgB;MAEzBoK,OAAO,EAAE,EAFgB;MAGzBe,MAAM,EAAE,IAHiB;MAIzB7K,OAAO,EAAE,IAJgB;MAKzBgK,UAAU,EAAE,SALa;MAMzB4D,UAAU,EAAE,OANa;MAOzBC,UAAU,EAAE,KAPa;MAQzBC,OAAO,EAAE,CARgB;MASzBC,OAAO,EAAE,CATgB;MAUzBC,QAAQ,EAAE9P,QAAQ,CAAC+M;KAVrB;QAYMtC,wBAAwB,CAC5B,SAD4B,EAE5B,QAF4B,EAG5B,SAH4B,EAI5B,YAJ4B,CAA9B;;;;;;;QAaMgF;;;;;8BACsB;;;YAAdnO,8EAAU,EAAI;;;;0FAClB+I,IAAN,EAAYC,OAAZ,EAAqBC,kBAArB,EAAyCjJ,OAAzC,EAAkDmJ,qBAAlD,EAAyE,IAAzE,EAA+E,KAA/E;cAEK2B,WAAW,KACd,+BACE,qCACE,gCACA,wFACE,4CACF,cACF,WACF,QARF;;YAUI,MAAKxE,cAAT,EAAyB;gBAClByE,KAAL;;;cAGG0D,kBAAkB,IAAvB;;;;;;gCAGM;cACAxD,UAAUvM,QAAQ,CAAC4C,aAAT,CAAuB,KAAvB,CAAhB;UAEA2J,OAAO,CAACC,YAAY,KAAKJ,QAAzB;eAEK9K,OAAL,CAAaE,UAAU+K,OAAO,CAACE,UAA/B;;eAGKnL,OAAL,CAAaE,OAAb,CAAqBkG,aAArB,CAAmC,UAAnC,EAA+C8E,YAAY,KAAKlL,OAAL,CAAasK,OAAxE;;cAEI,CAAC,KAAKtK,OAAL,CAAaqL,MAAlB,EAA0B;iBACnBrL,OAAL,CAAaE,OAAb,CAAqBkG,aAArB,CAAmC,QAAnC,EAA6CtE,KAA7C,CAAmD4M,UAAU,MAA7D;;;eAGGhI,SAAL,CAAe,UAAf,EAA2BuC,kBAAkB,CAACuF,QAA9C,EAAwDlD,WAAxD,CAAoE,KAAKtL,OAAL,CAAaE,OAAjF;eACK+G,aAAL;;;;sCAGY;cACN0H,IAAI,KAAKjI,SAAL,CAAe,YAAf,EAA6BuC,kBAAkB,CAACmF,UAAhD,CAAV;cACMQ,IAAI,KAAKlI,SAAL,CAAe,YAAf,EAA6BuC,kBAAkB,CAACoF,UAAhD,CAAV;cACMC,UAAU,KAAK5H,SAAL,CAAe,SAAf,EAA0BuC,kBAAkB,CAACqF,OAA7C,CAAhB;cACMC,UAAU,KAAK7H,SAAL,CAAe,SAAf,EAA0BuC,kBAAkB,CAACsF,OAA7C,CAAhB;cAEMM,eAAe,KAAK7O,OAAL,CAAaE,OAAlC;cACM4O,aAAa,CAAC,KAAD,EAAQ,OAAR,EAAiB,QAAjB,EAA2B,MAA3B,CAAnB;UAEAA,UAAU,CAAChL,OAAX,CAAmB,UAACiL,CAAD,EAAO;gBACpBF,YAAY,CAACvP,SAAb,CAAuBC,QAAvB,CAAgCwP,CAAhC,CAAJ,EAAwC;cACtCF,YAAY,CAACvP,SAAb,CAAuB4F,MAAvB,CAA8B6J,CAA9B;;WAFJ;UAMAF,YAAY,CAAC/M,KAAb,CAAmBkN,aAAa,KAAhC;UACAH,YAAY,CAAC/M,KAAb,CAAmBmN,cAAc,KAAjC;UAEAJ,YAAY,CAACvP,SAAb,CAAuByF,GAAvB,wBAA2C4J,CAA3C;UACAE,YAAY,CAACvP,SAAb,CAAuByF,GAAvB,wBAA2C6J,CAA3C;cAEMM,sBAAsBxQ,QAAQ,CAACqL,gBAAT,CAA0B,oBAA1B,KAAmD,EAA/E;cACIoF,cAAc,CAAlB;UACAD,mBAAmB,CAACpL,OAApB,CAA4B,UAACsL,CAAD,EAAO;gBAC7BP,iBAAiBO,CAArB,EAAwB;kBAChBtN,QAAQ2H,gBAAgB,CAAC2F,CAAD,CAA9B;cACAD,eAAeC,CAAC,CAACC,eACb1K,QAAQ,CAAC7C,KAAK,CAACwN,SAAP,EAAkB,EAAlB,IACR3K,QAAQ,CAAC7C,KAAK,CAACyN,YAAP,EAAqB,EAArB,CAFZ;;WAHJ;UASAV,YAAY,CAAC/M,KAAb,CAAmB0N,iCAA0BZ,MAAM,QAAQ,KAAK,GAAhE,SAAsEO,WAAtE;UAEAN,YAAY,CAAC/M,KAAb,iBAA4B6M,CAAC,CAACc,OAAF,CAAU,KAAV,EAAiB,UAAApK,CAAC;mBAAIA,CAAC,CAACgD,WAAF,EAAJ;WAAlB,CAA5B,eAA2EiG,OAA3E;UACAO,YAAY,CAAC/M,KAAb,iBAA4B8M,CAAC,CAACa,OAAF,CAAU,KAAV,EAAiB,UAAApK,CAAC;mBAAIA,CAAC,CAACgD,WAAF,EAAJ;WAAlB,CAA5B,eAA2EkG,OAA3E;;;;;;;;;+BAOK;;;cACD,KAAKvO,OAAL,CAAaE,YAAY,IAA7B,EAAmC;;iBAE5B6K,KAAL;;;cAGE,KAAK/K,OAAL,CAAaE,OAAb,CAAqBZ,SAArB,CAA+BC,QAA/B,CAAwC,MAAxC,CAAJ,EAAqD;mBAC5C,KAAP;;;;cAIE,KAAKS,OAAL,CAAawK,UAAjB,EAA6B;iBACtBxK,OAAL,CAAaE,OAAb,CAAqBwP,eAArB,CAAqC,OAArC;iBACK1P,OAAL,CAAaE,OAAb,CAAqBgE,YAArB,CAAkC,OAAlC,EAA2C,cAA3C;iBAEKlE,OAAL,CAAaE,OAAb,CAAqBZ,SAArB,CAA+ByF,GAA/B,wBAAmD,KAAK/E,OAAL,CAAawK,UAAhE;iBACKxK,OAAL,CAAaE,OAAb,CAAqBkG,aAArB,CAAmC,QAAnC,EAA6C9G,SAA7C,CAAuDyF,GAAvD,eAAkE,KAAK/E,OAAL,CAAawK,UAA/E;;;eAGGmF,WAAL;cAEMC,gBAAgB,KAAK5P,OAAL,CAAaE,OAAb,CAAqBkG,aAArB,CAAmC,sBAAnC,CAAtB;;cAEI,KAAKpG,OAAL,CAAaqL,UAAUuE,aAA3B,EAA0C;;iBAEnCnI,eAAL,CAAqB;cAAEtI,MAAM,EAAEyQ,aAAV;cAAyBhJ,KAAK,EAAE;aAArD;;;;;kCAGD;;;;;;;2BACOrG,KAAK,CAAC,EAAD,CADZ;;;wBAGKsP,MAAM,CAACC,SAAP,CAAiB,MAAI,CAAC9P,OAAL,CAAaQ,OAA9B,KAA0C,MAAI,CAACR,OAAL,CAAaQ,UAAU,CAArE,EAAwE;;sBAEtE,MAAI,CAACiO,kBAAkB9N,UAAU,CAAC,YAAM;wBACtC,MAAI,CAACuJ,IAAL;uBAD+B,EAE9B,MAAI,CAAClK,OAAL,CAAaQ,UAAU,CAFO,CAAjC;;;oBAKF,MAAI,CAACR,OAAL,CAAaE,OAAb,CAAqBZ,SAArB,CAA+ByF,GAA/B,CAAmC,MAAnC;;oBAEA,MAAI,CAACwE,YAAL,CAAkBzB,KAAK,CAACrF,IAAxB;;oBAEM2J,UAAU,SAAVA,OAAU,GAAM;sBACpB,MAAI,CAAC7C,YAAL,CAAkBzB,KAAK,CAACpF,KAAxB;;sBACA,MAAI,CAAC1C,OAAL,CAAaE,OAAb,CAAqB0H,mBAArB,CAAyCE,KAAK,CAAC1E,cAA/C,EAA+DgJ,OAA/D;qBAhBH;;oBAmBC,MAAI,CAACpM,OAAL,CAAaE,OAAb,CAAqBU,gBAArB,CAAsCkH,KAAK,CAAC1E,cAA5C,EAA4DgJ,OAA5D;;;;;;;;WAnBF;;iBAsBO,IAAP;;;;;;;;;+BAOK;;;;;;;cAKD,KAAKqC,eAAT,EAA0B;YACxBsB,YAAY,CAAC,KAAKtB,eAAN,CAAZ;iBACKA,kBAAkB,IAAvB;;;cAGE,CAAC,KAAKzO,OAAL,CAAaE,OAAb,CAAqBZ,SAArB,CAA+BC,QAA/B,CAAwC,MAAxC,CAAL,EAAsD;mBAC7C,KAAP;;;eAGGgK,YAAL,CAAkBzB,KAAK,CAACnF,IAAxB;cAEMiN,gBAAgB,KAAK5P,OAAL,CAAaE,OAAb,CAAqBkG,aAArB,CAAmC,sBAAnC,CAAtB;;cAEI,KAAKpG,OAAL,CAAaqL,UAAUuE,aAA3B,EAA0C;iBACnClI,iBAAL,CAAuB;cAAEvI,MAAM,EAAEyQ,aAAV;cAAyBhJ,KAAK,EAAE;aAAvD;;;eAGG5G,OAAL,CAAaE,OAAb,CAAqBZ,SAArB,CAA+B4F,MAA/B,CAAsC,MAAtC;eACKlF,OAAL,CAAaE,OAAb,CAAqBZ,SAArB,CAA+ByF,GAA/B,CAAmC,MAAnC;;cAEM2H,WAAW,SAAXA,QAAW,GAAM;YACrB,MAAI,CAAC1M,OAAL,CAAaE,OAAb,CAAqB0H,mBAArB,CAAyCE,KAAK,CAAC1E,cAA/C,EAA+DsJ,QAA/D;;YACA,MAAI,CAAC1M,OAAL,CAAaE,OAAb,CAAqBZ,SAArB,CAA+B4F,MAA/B,CAAsC,MAAtC;;YAEA,MAAI,CAACqE,YAAL,CAAkBzB,KAAK,CAAClF,MAAxB;;gBAEI,MAAI,CAAC0D,cAAT,EAAyB;cACvB5H,QAAQ,CAAC+M,IAAT,CAAcG,WAAd,CAA0B,MAAI,CAAC5L,OAAL,CAAaE,OAAvC;cACA,MAAI,CAACF,OAAL,CAAaE,UAAU,IAAvB;;WARJ;;eAYKF,OAAL,CAAaE,OAAb,CAAqBU,gBAArB,CAAsCkH,KAAK,CAAC1E,cAA5C,EAA4DsJ,QAA5D;iBAEO,IAAP;;;;yCAGe;eACVxC,IAAL;;;;qCAGkB;iBACXnB,IAAP;;;;qCAGkB/I,OA9NK,EA8NI;sFACDmO,YAA1B,EAAwCnO,OAAxC;;;;;MA7LuB0F,SAlCA;;;;;;;;IAwO3B/F,kBAAkB,CAACC,CAAD,EAAImJ,IAAJ,EAAUoF,YAAV,CAAlB;WAGOA,YAAP;EACD,CA5OoB,CA4OlB5P,MAAM,CAACqB,IAAIrB,MAAM,CAACqB,IAAI,IA5OJ,CAArB;;ECCA,IAAMoQ,WAAY,UAACpQ,CAAD,EAAO;;;;;;QAOjBmJ,OAAO,UAAb;QACMC,UAAU,OAAhB;QACMC,qBAAqB;MACzB/I,OAAO,EAAE,IADgB;MAEzB+P,MAAM,EAAE;KAFV;QAIM9G,wBAAwB,EAA9B;QAEMC,aAAa,EAAnB;;;;;;;QAQM4G;;;;;0BACsB;;;YAAdhQ,8EAAU,EAAI;;;;sFAClB+I,IAAN,EAAYC,OAAZ,EAAqBC,kBAArB,EAAyCjJ,OAAzC,EAAkDmJ,qBAAlD,EAAyE,KAAzE,EAAgF,KAAhF;cAEKE,eAAe,KAApB;;YAGI,MAAKrJ,OAAL,CAAaiQ,MAAjB,EAAyB;gBAClBnD,IAAL;;;;;;;;oCAIQ;iBACH,KAAK9M,OAAL,CAAaE,OAAb,CAAqB0N,qBAArB,CAA2C,KAAK5N,OAAL,CAAaE,OAAxD,EAAiE6L,MAAxE;;;;iCAGO;cACH,KAAK/L,OAAL,CAAaE,OAAb,CAAqBZ,SAArB,CAA+BC,QAA/B,CAAwC,MAAxC,CAAJ,EAAqD;mBAC5C,KAAK2K,IAAL,EAAP;;;iBAGK,KAAK4C,IAAL,EAAP;;;;;;;;;+BAOK;;;cACD,KAAKzD,YAAT,EAAuB;mBACd,KAAP;;;cAGE,KAAKrJ,OAAL,CAAaE,OAAb,CAAqBZ,SAArB,CAA+BC,QAA/B,CAAwC,MAAxC,CAAJ,EAAqD;mBAC5C,KAAP;;;eAGG8J,eAAe,IAApB;eAEKE,YAAL,CAAkBzB,KAAK,CAACrF,IAAxB;;cAEMyN,cAAc,SAAdA,WAAc,GAAM;YACxB,MAAI,CAAC3G,YAAL,CAAkBzB,KAAK,CAACpF,KAAxB;;YAEA,MAAI,CAAC1C,OAAL,CAAaE,OAAb,CAAqBZ,SAArB,CAA+ByF,GAA/B,CAAmC,MAAnC;;YACA,MAAI,CAAC/E,OAAL,CAAaE,OAAb,CAAqBZ,SAArB,CAA+B4F,MAA/B,CAAsC,YAAtC;;YACA,MAAI,CAAClF,OAAL,CAAaE,OAAb,CAAqB0H,mBAArB,CAAyCE,KAAK,CAAC1E,cAA/C,EAA+D8M,WAA/D;;YAEA,MAAI,CAAClQ,OAAL,CAAaE,OAAb,CAAqBgE,YAArB,CAAkC,eAAlC,EAAmD,IAAnD;;YAEA,MAAI,CAACmF,eAAe,KAApB;;YAGA,MAAI,CAACrJ,OAAL,CAAaE,OAAb,CAAqB4B,KAArB,CAA2BiK,SAAS,MAApC;WAZF;;cAeI,CAAC,KAAK/L,OAAL,CAAaE,OAAb,CAAqBZ,SAArB,CAA+BC,QAA/B,CAAwC,YAAxC,CAAL,EAA4D;iBACrDS,OAAL,CAAaE,OAAb,CAAqBZ,SAArB,CAA+ByF,GAA/B,CAAmC,YAAnC;;;eAGG/E,OAAL,CAAaE,OAAb,CAAqBU,gBAArB,CAAsCkH,KAAK,CAAC1E,cAA5C,EAA4D8M,WAA5D;;cAEI,CAAC,KAAKC,kBAAL,EAAL,EAAgC;;iBAEzBnQ,OAAL,CAAaE,OAAb,CAAqBZ,SAArB,CAA+ByF,GAA/B,CAAmC,OAAnC;iBACK;;gBAECgH,SAAS,KAAKqE,SAAL,EAAf;iBAEKpQ,OAAL,CAAaE,OAAb,CAAqB4B,KAArB,CAA2BiK,SAAS,KAApC;YAEApL,UAAU,CAAC,YAAM;cACf,MAAI,CAACX,OAAL,CAAaE,OAAb,CAAqB4B,KAArB,CAA2BiK,mBAAYA,MAAvC;aADQ,EAEP,EAFO,CAAV;;;iBAKK,IAAP;;;;;;;;;+BAOK;;;cACD,KAAK1C,YAAT,EAAuB;mBACd,KAAP;;;cAGE,CAAC,KAAKrJ,OAAL,CAAaE,OAAb,CAAqBZ,SAArB,CAA+BC,QAA/B,CAAwC,MAAxC,CAAL,EAAsD;mBAC7C,KAAP;;;eAGG8J,eAAe,IAApB;eAEKE,YAAL,CAAkBzB,KAAK,CAACnF,IAAxB;;cAEMuN,cAAc,SAAdA,WAAc,GAAM;YACxB,MAAI,CAAC3G,YAAL,CAAkBzB,KAAK,CAAClF,MAAxB;;YAEA,MAAI,CAAC5C,OAAL,CAAaE,OAAb,CAAqBZ,SAArB,CAA+B4F,MAA/B,CAAsC,YAAtC;;YACA,MAAI,CAAClF,OAAL,CAAaE,OAAb,CAAqB4B,KAArB,CAA2BiK,SAAS,MAApC;;YACA,MAAI,CAAC/L,OAAL,CAAaE,OAAb,CAAqB0H,mBAArB,CAAyCE,KAAK,CAAC1E,cAA/C,EAA+D8M,WAA/D;;YAEA,MAAI,CAAClQ,OAAL,CAAaE,OAAb,CAAqBgE,YAArB,CAAkC,eAAlC,EAAmD,KAAnD;;YAEA,MAAI,CAACmF,eAAe,KAApB;WATF;;cAYI,CAAC,KAAK8G,kBAAL,EAAL,EAAgC;gBAC1B,KAAKnQ,OAAL,CAAaE,OAAb,CAAqBZ,SAArB,CAA+BC,QAA/B,CAAwC,OAAxC,CAAJ,EAAsD;mBAC/CS,OAAL,CAAaE,OAAb,CAAqBZ,SAArB,CAA+B4F,MAA/B,CAAsC,OAAtC;;iBAEG;;iBAEAlF,OAAL,CAAaE,OAAb,CAAqB4B,KAArB,CAA2BiK,mBAAY,KAAK/L,OAAL,CAAaE,OAAb,CAAqBmP,YAA5D;YAEA1O,UAAU,CAAC,YAAM;cACf,MAAI,CAACX,OAAL,CAAaE,OAAb,CAAqB4B,KAArB,CAA2BiK,SAAS,KAApC;aADQ,EAEP,EAFO,CAAV;;;eAKG/L,OAAL,CAAaE,OAAb,CAAqBU,gBAArB,CAAsCkH,KAAK,CAAC1E,cAA5C,EAA4D8M,WAA5D;;cAEI,CAAC,KAAKlQ,OAAL,CAAaE,OAAb,CAAqBZ,SAArB,CAA+BC,QAA/B,CAAwC,YAAxC,CAAL,EAA4D;iBACrDS,OAAL,CAAaE,OAAb,CAAqBZ,SAArB,CAA+ByF,GAA/B,CAAmC,YAAnC;;;eAGG/E,OAAL,CAAaE,OAAb,CAAqBZ,SAArB,CAA+B4F,MAA/B,CAAsC,MAAtC;iBAEO,IAAP;;;;6CAGmB;iBACZ,CAAC,KAAKlF,OAAL,CAAaE,OAAb,CAAqBZ,SAArB,CAA+BC,QAA/B,CAAwC,YAAxC,KACH,CAAC,KAAKS,OAAL,CAAaE,OAAb,CAAqBZ,SAArB,CAA+BC,QAA/B,CAAwC,YAAxC,CADN;;;;qCAIkB;iBACXwJ,IAAP;;;;qCAGkB/I,OApKC,EAoKQ;kFACDgQ,QAA1B,EAAoChQ,OAApC,EAA6CoJ,UAA7C;;;;;MA9ImB1D,SAvBA;;;;;;;;IA8KvB/F,kBAAkB,CAACC,CAAD,EAAImJ,IAAJ,EAAUiH,QAAV,CAAlB;;;;;;;QAOMK,YAAYzL,KAAK,CAACkF,IAAN,CAAWpL,QAAQ,CAACqL,gBAAT,YAA8BhB,IAA9B,MAAyC,EAApD,CAAlB;IAEAsH,SAAS,CAACvM,OAAV,CAAkB,UAAC5D,OAAD,EAAa;UACvBqH,SAASpD,mBAAmB,CAACjE,OAAD,EAAU+I,kBAAV,EAA8BE,qBAA9B,CAAlC;MACA5B,MAAM,CAACrH,UAAUA,OAAjB;MAEAkJ,UAAU,CAACnE,IAAX,CAAgB+K,QAAQ,CAAC7P,YAAT,CAAsBoH,MAAtB,CAAhB;KAJF;IAOA7I,QAAQ,CAACkC,gBAAT,CAA0BkH,KAAK,CAAC5E,KAAhC,EAAuC,UAAC0D,KAAD,EAAW;UAC1CzH,SAASK,gBAAgB,CAACoH,KAAK,CAACzH,MAAP,EAAe,aAAf,CAA/B;;UACI,CAACA,MAAL,EAAa;;;;UAIP6K,iBAAiB7K,MAAM,CAACO,YAAP,CAAoB,aAApB,CAAvB;;UAEIsK,kBAAkBA,mBAAmBjB,IAAzC,EAA+C;YACzC7C,KAAK/G,MAAM,CAACO,YAAP,CAAoB,aAApB,KAAsCP,MAAM,CAACO,YAAP,CAAoB,MAApB,CAA/C;QACAwG,KAAKA,EAAE,CAACuJ,OAAH,CAAW,GAAX,EAAgB,EAAhB,CAAL;YAEMzK,YAAYoE,UAAU,CAACxH,IAAX,CAAgB,UAAAyD,CAAC;iBAAIA,CAAC,CAACwD,UAAF,GAAenJ,YAAf,CAA4B,IAA5B,MAAsCwG,EAA1C;SAAjB,CAAlB;;YAEI,CAAClB,SAAL,EAAgB;;;;QAIhBA,SAAS,CAACiL,MAAV;;KAlBJ;WAsBOD,QAAP;EACD,CArNgB,CAqNdzR,MAAM,CAACqB,IAAIrB,MAAM,CAACqB,IAAI,IArNR,CAAjB;;ECAA,IAAM0Q,YAAa,UAAC1Q,CAAD,EAAO;;;;;;QAOlBmJ,OAAO,WAAb;QACMC,UAAU,OAAhB;QACMC,qBAAqB;MACzB/I,OAAO,EAAE;KADX;QAGMiJ,wBAAwB,EAA9B;QAEMC,aAAa,EAAnB;;;;;;;QAQMkH;;;;;2BACsB;;;YAAdtQ,8EAAU,EAAI;;;;uFAClB+I,IAAN,EAAYC,OAAZ,EAAqBC,kBAArB,EAAyCjJ,OAAzC,EAAkDmJ,qBAAlD,EAAyE,KAAzE,EAAgF,KAAhF;cAEKkH,YAAY,EAAjB;;YAEME,UAAU,MAAKvQ,OAAL,CAAaE,OAAb,CAAqB6J,gBAArB,0BAAuDhB,IAAvD,SAAhB;;QACAnE,KAAK,CAACkF,IAAN,CAAWyG,OAAX,EAAoBzM,OAApB,CAA4B,UAACmM,MAAD,EAAY;cAChCO,aAAaP,MAAM,CAACvQ,YAAP,CAAoB,MAApB,CAAnB;cACM+Q,WAAW/R,QAAQ,CAAC0H,aAAT,CAAuBoK,UAAvB,CAAjB;;cAEIC,QAAJ,EAAc;kBACPC,WAAL,CAAiBD,QAAjB;;SALJ;;;;;;uCAUa7J,KAvCO,EAuCA;cACdV,KAAKU,KAAK,CAACzH,MAAN,CAAaO,YAAb,CAA0B,MAA1B,CAAX;cACMQ,UAAUxB,QAAQ,CAAC0H,aAAT,CAAuBF,EAAvB,CAAhB;eAEKyK,YAAL,CAAkBzQ,OAAlB;;;;oCAGUA,OA9CU,EA8CD;cACbuQ,WAAW,IAAIT,QAAJ,CAAa;YAC5B9P,OAAO,EAAPA;WADe,CAAjB;eAGKmQ,SAAL,CAAepL,IAAf,CAAoBwL,QAApB;iBAEOA,QAAP;;;;oCAGUvQ,OAvDU,EAuDD;cACfuQ,WAAW,KAAKJ,SAAL,CAAezO,IAAf,CAAoB,UAAAyD,CAAC;mBAAIA,CAAC,CAACrF,OAAF,CAAUE,OAAV,CAAkBR,YAAlB,CAA+B,IAA/B,MAAyCQ,OAAO,CAACR,YAAR,CAAqB,IAArB,CAA7C;WAArB,CAAf;;cAEI,CAAC+Q,QAAL,EAAe;;YAEbA,WAAW,KAAKC,WAAL,EAAX;;;iBAGKD,QAAP;;;;uCAGa;iBACN,KAAKJ,SAAZ;;;;;;;;;;qCAQWO,YA3ES,EA2EK;cACnBH,WAAW,KAAKI,WAAL,CAAiBD,YAAjB,CAAjB;eACKP,SAAL,CAAevM,OAAf,CAAuB,UAACuB,CAAD,EAAO;gBACxBA,CAAC,CAACrF,OAAF,CAAUE,OAAV,CAAkBR,YAAlB,CAA+B,IAA/B,MAAyCkR,YAAY,CAAClR,YAAb,CAA0B,IAA1B,CAA7C,EAA8E;cAC5E2F,CAAC,CAAC6E,IAAF;mBACK;cACLuG,QAAQ,CAACR,MAAT;;WAJJ;;;;;;;;;;6BAcGa,UA3FiB,EA2FL;cACXL,WAAWK,UAAf;;cACI,OAAOA,eAAe,QAA1B,EAAoC;YAClCL,WAAW/R,QAAQ,CAAC0H,aAAT,CAAuB0K,UAAvB,CAAX;;;cAGE,CAACL,QAAL,EAAe;kBACP,IAAIpK,KAAJ,WAAa0C,IAAb,+BAAsC+H,UAAtC,iCAAN;;;eAGGH,YAAL,CAAkBF,QAAlB;iBAEO,IAAP;;;;;;;;;;6BAQGK,UA/GiB,EA+GL;cACXL,WAAWK,UAAf;;cACI,OAAOA,eAAe,QAA1B,EAAoC;YAClCL,WAAW/R,QAAQ,CAAC0H,aAAT,CAAuB0K,UAAvB,CAAX;;;cAGE,CAACL,QAAL,EAAe;kBACP,IAAIpK,KAAJ,WAAa0C,IAAb,+BAAsC+H,UAAtC,iCAAN;;;cAGIC,cAAc,KAAKF,WAAL,CAAiBJ,QAAjB,CAApB;iBAEOM,WAAW,CAAC7G,IAAZ,EAAP;;;;qCAGkB;iBACXnB,IAAP;;;;qCAGkB/I,OAlIE,EAkIO;mFACDsQ,SAA1B,EAAqCtQ,OAArC,EAA8CoJ,UAA9C;;;;;MA7GoB1D,SAtBA;;;;;;;;IA4IxB/F,kBAAkB,CAACC,CAAD,EAAImJ,IAAJ,EAAUuH,SAAV,CAAlB;;;;;;;QAOMU,aAAapM,KAAK,CAACkF,IAAN,CAAWpL,QAAQ,CAACqL,gBAAT,YAA8BhB,IAA9B,MAAyC,EAApD,CAAnB;IAEAiI,UAAU,CAAClN,OAAX,CAAmB,UAAC5D,OAAD,EAAa;UACxBqH,SAASpD,mBAAmB,CAACjE,OAAD,EAAU+I,kBAAV,EAA8BE,qBAA9B,CAAlC;MACA5B,MAAM,CAACrH,UAAUA,OAAjB;MAEAkJ,UAAU,CAACnE,IAAX,CAAgBqL,SAAS,CAACnQ,YAAV,CAAuBoH,MAAvB,CAAhB;KAJF;IAOA7I,QAAQ,CAACkC,gBAAT,CAA0B,OAA1B,EAAmC,UAACgG,KAAD,EAAW;UACtCoD,iBAAiBpD,KAAK,CAACzH,MAAN,CAAaO,YAAb,CAA0B,aAA1B,CAAvB;;UACIsK,kBAAkBA,mBAAmBjB,IAAzC,EAA+C;YACvCyH,aAAa5J,KAAK,CAACzH,MAAN,CAAaO,YAAb,CAA0B,aAA1B,KAA4CkH,KAAK,CAACzH,MAAN,CAAaO,YAAb,CAA0B,MAA1B,CAA/D;YACMoR,aAAapS,QAAQ,CAAC0H,aAAT,CAAuBoK,UAAvB,CAAnB;YAEMS,YAAY/R,iBAAiB,CAAC0H,KAAK,CAACzH,MAAP,EAAe,WAAf,CAAnC;;YAEI8R,cAAc,IAAlB,EAAwB;;;;YAIlBC,cAAcD,SAAS,CAACvR,YAAV,CAAuB,IAAvB,CAApB;YACMsF,YAAYoE,UAAU,CAACxH,IAAX,CAAgB,UAAAyD,CAAC;iBAAIA,CAAC,CAACwD,UAAF,GAAenJ,YAAf,CAA4B,IAA5B,MAAsCwR,WAA1C;SAAjB,CAAlB;;YAEI,CAAClM,SAAL,EAAgB;;;;;YAKVmM,iBAAiBnM,SAAS,CAACoM,YAAV,GAAyBxP,IAAzB,CAA8B,UAAAyD,CAAC;iBAAIA,CAAC,CAACwD,UAAF,OAAmBiI,UAAvB;SAA/B,CAAvB;;YACI,CAACK,cAAL,EAAqB;UACnBnM,SAAS,CAAC0L,WAAV,CAAsBI,UAAtB;;;QAGF9L,SAAS,CAAC8H,IAAV,CAAe0D,UAAf;;KAzBJ;WA6BOF,SAAP;EACD,CA1LiB,CA0Lf/R,MAAM,CAACqB,IAAIrB,MAAM,CAACqB,IAAI,IA1LP,CAAlB;;ECAA,IAAMyR,MAAO,UAACzR,CAAD,EAAO;;;;;;QAOZmJ,OAAO,KAAb;QACMC,UAAU,OAAhB;QACMC,qBAAqB,EAA3B;QAEME,wBAAwB,EAA9B;QAEMmI,uBAAuB,WAA7B;QAEMlI,aAAa,EAAnB;;;;;;;QAQMiI;;;;;qBACsB;YAAdrR,8EAAU,EAAI;;;;gFAClB+I,IADkB,EACZC,OADY,EACHC,kBADG,EACiBjJ,OADjB,EAC0BmJ,qBAD1B,EACiD,KADjD,EACwD,KADxD;;;;;;;;;;+BAQnB;;;cACD,KAAKnJ,OAAL,CAAaE,OAAb,CAAqBZ,SAArB,CAA+BC,QAA/B,CAAwC,QAAxC,CAAJ,EAAuD;mBAC9C,KAAP;;;cAGI2G,KAAK,KAAKlG,OAAL,CAAaE,OAAb,CAAqBR,YAArB,CAAkC,MAAlC,CAAX;cACM6R,MAAMrS,iBAAiB,CAAC,KAAKc,OAAL,CAAaE,OAAd,EAAuB,KAAvB,CAA7B;cACMsR,UAAUD,MAAMA,GAAG,CAACxH,gBAAJ,0BAAsChB,IAAtC,YAAkD,IAAxE;;cAEIyI,OAAJ,EAAa;YACX5M,KAAK,CAACkF,IAAN,CAAW0H,OAAX,EAAoB1N,OAApB,CAA4B,UAAC2N,GAAD,EAAS;kBAC/BA,GAAG,CAACnS,SAAJ,CAAcC,QAAd,CAAuB,QAAvB,CAAJ,EAAsC;gBACpCkS,GAAG,CAACnS,SAAJ,CAAc4F,MAAd,CAAqB,QAArB;;;cAEFuM,GAAG,CAACvN,YAAJ,CAAiB,eAAjB,EAAkC,KAAlC;aAJF;;;eAQGlE,OAAL,CAAaE,OAAb,CAAqBZ,SAArB,CAA+ByF,GAA/B,CAAmC,QAAnC;eACK/E,OAAL,CAAaE,OAAb,CAAqBgE,YAArB,CAAkC,eAAlC,EAAmD,IAAnD;cAEMwN,aAAahT,QAAQ,CAAC0H,aAAT,CAAuBF,EAAvB,CAAnB;cACMyL,cAAcD,UAAU,CAACrS,UAAX,CAAsB0K,gBAAtB,CAAuCuH,oBAAvC,CAApB;;cAEIK,WAAJ,EAAiB;YACf/M,KAAK,CAACkF,IAAN,CAAW6H,WAAX,EAAwB7N,OAAxB,CAAgC,UAAC2N,GAAD,EAAS;kBACnCA,GAAG,CAACnS,SAAJ,CAAcC,QAAd,CAAuB,QAAvB,CAAJ,EAAsC;gBACpCkS,GAAG,CAACnS,SAAJ,CAAc4F,MAAd,CAAqB,QAArB;;aAFJ;;;UAOFwM,UAAU,CAACpS,SAAX,CAAqByF,GAArB,CAAyB,SAAzB;eAEKwE,YAAL,CAAkBzB,KAAK,CAACrF,IAAxB;;cAEMmP,WAAW,SAAXA,QAAW,GAAM;YACrBF,UAAU,CAACpS,SAAX,CAAqB4F,MAArB,CAA4B,SAA5B;YACAwM,UAAU,CAACpS,SAAX,CAAqByF,GAArB,CAAyB,QAAzB;YACA2M,UAAU,CAACpS,SAAX,CAAqB4F,MAArB,CAA4B,SAA5B;;YAEA,KAAI,CAACqE,YAAL,CAAkBzB,KAAK,CAACpF,KAAxB;;YAEAgP,UAAU,CAAC9J,mBAAX,CAA+BE,KAAK,CAAC1E,cAArC,EAAqDwO,QAArD;WAPF;;;;kCAUC;;;;;;2BACOrR,KAAK,CAAC,EAAD,CADZ;;;oBAECmR,UAAU,CAAC9Q,gBAAX,CAA4BkH,KAAK,CAAC1E,cAAlC,EAAkDwO,QAAlD;oBACAF,UAAU,CAACpS,SAAX,CAAqByF,GAArB,CAAyB,SAAzB;;;;;;;;WAHF;;iBAMO,IAAP;;;;;;;;;+BAOK;cACD,CAAC,KAAK/E,OAAL,CAAaE,OAAb,CAAqBZ,SAArB,CAA+BC,QAA/B,CAAwC,QAAxC,CAAL,EAAwD;mBAC/C,KAAP;;;cAGE,KAAKS,OAAL,CAAaE,OAAb,CAAqBZ,SAArB,CAA+BC,QAA/B,CAAwC,QAAxC,CAAJ,EAAuD;iBAChDS,OAAL,CAAaE,OAAb,CAAqBZ,SAArB,CAA+B4F,MAA/B,CAAsC,QAAtC;;;eAGGqE,YAAL,CAAkBzB,KAAK,CAACnF,IAAxB;eAEK3C,OAAL,CAAaE,OAAb,CAAqBgE,YAArB,CAAkC,eAAlC,EAAmD,KAAnD;cAEMgC,KAAK,KAAKlG,OAAL,CAAaE,OAAb,CAAqBR,YAArB,CAAkC,MAAlC,CAAX;cACMgS,aAAahT,QAAQ,CAAC0H,aAAT,CAAuBF,EAAvB,CAAnB;;cAEIwL,UAAU,CAACpS,SAAX,CAAqBC,QAArB,CAA8B,QAA9B,CAAJ,EAA6C;YAC3CmS,UAAU,CAACpS,SAAX,CAAqB4F,MAArB,CAA4B,QAA5B;;;eAGGqE,YAAL,CAAkBzB,KAAK,CAAClF,MAAxB;iBAEO,IAAP;;;;qCAGkB;iBACXmG,IAAP;;;;qCAGkB/I,OAxHJ,EAwHa;6EACDqR,GAA1B,EAA+BrR,OAA/B,EAAwCoJ,UAAxC;;;;;MAlGc1D,SAvBA;;;;;;;;IAkIlB/F,kBAAkB,CAACC,CAAD,EAAImJ,IAAJ,EAAUsI,GAAV,CAAlB;;;;;;;QAOMQ,OAAOnT,QAAQ,CAACqL,gBAAT,0BAA2ChB,IAA3C,SAAb;;QACI8I,IAAJ,EAAU;MACRjN,KAAK,CAACkF,IAAN,CAAW+H,IAAX,EAAiB/N,OAAjB,CAAyB,UAAC5D,OAAD,EAAa;;YAE9BqH,SAASpD,mBAAmB,CAACjE,OAAD,EAAU+I,kBAAV,EAA8BE,qBAA9B,CAAlC;QACA5B,MAAM,CAACrH,UAAUA,OAAjB;QAEAkJ,UAAU,CAACnE,IAAX,CAAgBoM,GAAG,CAAClR,YAAJ,CAAiBoH,MAAjB,CAAhB;OALF;;;IASF7I,QAAQ,CAACkC,gBAAT,CAA0B,OAA1B,EAAmC,UAACgG,KAAD,EAAW;UACtCoD,iBAAiBpD,KAAK,CAACzH,MAAN,CAAaO,YAAb,CAA0B,aAA1B,CAAvB;;UACIsK,kBAAkBA,mBAAmBjB,IAAzC,EAA+C;YACvC7C,KAAKU,KAAK,CAACzH,MAAN,CAAaO,YAAb,CAA0B,MAA1B,CAAX;YAEMsF,YAAYoE,UAAU,CAACxH,IAAX,CAAgB,UAAAyD,CAAC;iBAAIA,CAAC,CAACwD,UAAF,GAAenJ,YAAf,CAA4B,MAA5B,MAAwCwG,EAA5C;SAAjB,CAAlB;;YAEI,CAAClB,SAAL,EAAgB;;;;QAIhBA,SAAS,CAAC8H,IAAV;;KAXJ;WAeOuE,GAAP;EACD,CApKW,CAoKT9S,MAAM,CAACqB,IAAIrB,MAAM,CAACqB,IAAI,IApKb,CAAZ;;ECDA,IAAMkS,WAAY,UAAClS,CAAD,EAAO;;;;;;QAOjBmJ,OAAO,UAAb;QACMC,UAAU,OAAhB;QACMC,qBAAqB;MACzB/I,OAAO,EAAE,IADgB;MAEzB6L,MAAM,EAAE,CAFiB;MAGzBgG,GAAG,EAAE,CAHoB;MAIzBC,GAAG,EAAE,GAJoB;MAKzBC,KAAK,EAAE,KALkB;MAMzBC,OAAO,EAAE,KANgB;MAOzB1H,UAAU,EAAE;KAPd;QASMrB,wBAAwB,CAC5B,QAD4B,EAE5B,KAF4B,EAG5B,KAH4B,EAI5B,OAJ4B,EAK5B,SAL4B,EAM5B,YAN4B,CAA9B;;;;;;;QAeM2I;;;;;0BACsB;;;YAAd9R,8EAAU,EAAI;;;;sFAClB+I,IAAN,EAAYC,OAAZ,EAAqBC,kBAArB,EAAyCjJ,OAAzC,EAAkDmJ,qBAAlD,EAAyE,KAAzE,EAAgF,KAAhF;;cAGKnJ,OAAL,CAAaE,OAAb,CAAqB4B,KAArB,CAA2BiK,mBAAY,MAAK/L,OAAL,CAAa+L,MAApD;;YAGMoG,cAAc,MAAKC,cAAL,EAApB;;QACAD,WAAW,CAACjO,YAAZ,CAAyB,eAAzB,YAA6C,MAAKlE,OAAL,CAAa+R,GAA1D;QACAI,WAAW,CAACjO,YAAZ,CAAyB,eAAzB,YAA6C,MAAKlE,OAAL,CAAagS,GAA1D;;YAGI,MAAKhS,OAAL,CAAakS,WACZ,CAACC,WAAW,CAAC7S,SAAZ,CAAsBC,QAAtB,CAA+B,sBAA/B,CADN,EAC8D;UAC5D4S,WAAW,CAAC7S,SAAZ,CAAsByF,GAAtB,CAA0B,sBAA1B;;;;YAIE,OAAO,MAAK/E,OAAL,CAAawK,eAAe,YAClC,CAAC2H,WAAW,CAAC7S,SAAZ,CAAsBC,QAAtB,cAAqC,MAAKS,OAAL,CAAawK,UAAlD,EADN,EACuE;UACrE2H,WAAW,CAAC7S,SAAZ,CAAsByF,GAAtB,cAAgC,MAAK/E,OAAL,CAAawK,UAA7C;;;;;;;;yCAIa;iBACR,KAAKxK,OAAL,CAAaE,OAAb,CAAqBkG,aAArB,CAAmC,eAAnC,CAAP;;;;8BAGa;cAAX7B,4EAAQ,CAAG;cACP4N,cAAc,KAAKC,cAAL,EAApB;cACMC,WAAWvT,IAAI,CAACwT,KAAL,CAAY/N,SAAS,KAAKvE,OAAL,CAAa+R,MAAM,KAAK/R,OAAL,CAAagS,GAApC,IAA4C,GAA7D,CAAjB;;cAEIzN,QAAQ,KAAKvE,OAAL,CAAa+R,GAAzB,EAA8B;YAC5BlR,OAAO,CAACC,KAAR,WAAiBiI,IAAjB,wBAAmCxE,KAAnC;mBACO,KAAP;;;cAGEA,QAAQ,KAAKvE,OAAL,CAAagS,GAAzB,EAA8B;YAC5BnR,OAAO,CAACC,KAAR,WAAiBiI,IAAjB,wBAAmCxE,KAAnC;mBACO,KAAP;;;UAGF4N,WAAW,CAACjO,YAAZ,CAAyB,eAAzB,YAA6CK,KAA7C;;cAGI,KAAKvE,OAAL,CAAaiS,KAAjB,EAAwB;YACtBE,WAAW,CAACjH,sBAAemH,QAA3B;;;;UAIFF,WAAW,CAACrQ,KAAZ,CAAkBgM,kBAAWuE,QAA7B;iBAEO,IAAP;;;;kCAG6B;cAAvBtE,qFAAiB,IAAM;;cACzB,CAAC,KAAK/N,OAAL,CAAakS,OAAlB,EAA2B;YACzBrR,OAAO,CAACC,KAAR,WAAiBiI,IAAjB;mBACO,KAAP;;;cAGIoJ,cAAc,KAAKC,cAAL,EAApB;;cAEIrE,kBACC,CAACoE,WAAW,CAAC7S,SAAZ,CAAsBC,QAAtB,CAA+B,uBAA/B,CADN,EAC+D;YAC7D4S,WAAW,CAAC7S,SAAZ,CAAsByF,GAAtB,CAA0B,uBAA1B;;;cAGE,CAACgJ,kBACAoE,WAAW,CAAC7S,SAAZ,CAAsBC,QAAtB,CAA+B,uBAA/B,CADL,EAC8D;YAC5D4S,WAAW,CAAC7S,SAAZ,CAAsB4F,MAAtB,CAA6B,uBAA7B;;;iBAGK,IAAP;;;;;;;;;+BAOK;eACAlF,OAAL,CAAaE,OAAb,CAAqB4B,KAArB,CAA2BiK,mBAAY,KAAK/L,OAAL,CAAa+L,MAApD;eACKxC,YAAL,CAAkBzB,KAAK,CAACrF,IAAxB;eACK8G,YAAL,CAAkBzB,KAAK,CAACpF,KAAxB;iBAEO,IAAP;;;;;;;;;+BAOK;eACA1C,OAAL,CAAaE,OAAb,CAAqB4B,KAArB,CAA2BiK,SAAS,KAApC;eACKxC,YAAL,CAAkBzB,KAAK,CAACnF,IAAxB;eACK4G,YAAL,CAAkBzB,KAAK,CAAClF,MAAxB;iBAEO,IAAP;;;;qCAGkB;iBACXmG,IAAP;;;;qCAGkB/I,OA1IC,EA0IQ;kFACD8R,QAA1B,EAAoC9R,OAApC;;;;;MA1GmB0F,SAjCA;;;;;;;;IAoJvB/F,kBAAkB,CAACC,CAAD,EAAImJ,IAAJ,EAAU+I,QAAV,CAAlB;WAEOA,QAAP;EACD,CAvJgB,CAuJdvT,MAAM,CAACqB,IAAIrB,MAAM,CAACqB,IAAI,IAvJR,CAAjB;;ECCA,IAAM2S,YAAa,UAAC3S,CAAD,EAAO;;;;;;QAOlBmJ,OAAO,WAAb;QACMC,UAAU,OAAhB;QACMoB,oBAAoB,oBAA1B;QACMnB,qBAAqB;MACzB/I,OAAO,EAAE,IADgB;MAEzBsS,SAAS,EAAE9T,QAAQ,CAAC+M,IAFK;MAGzBwE,MAAM,EAAE,KAHiB;MAIzBwC,KAAK,EAAE;QACLC,EAAE,EAAE,KADC;QAELC,EAAE,EAAE,IAFC;QAGLC,EAAE,EAAE;;KAPR;QAUMzJ,wBAAwB,CAC5B,OAD4B,EAE5B,QAF4B,CAA9B;QAIMC,aAAa,EAAnB;;;;;;;QAQMmJ;;;;;2BACsB;;;YAAdvS,8EAAU,EAAI;;;;uFAClB+I,IAAN,EAAYC,OAAZ,EAAqBC,kBAArB,EAAyCjJ,OAAzC,EAAkDmJ,qBAAlD,EAAyE,KAAzE,EAAgF,IAAhF;cAEK0J,mBAAmB,IAAxB;cACK3E,UAAU,IAAf;cACK4E,YAAY,KAAjB;cAEKhE,aAAa,CAAC,MAAD,EAAS,OAAT,CAAlB;YAEMiE,KAAK;UAAElT,IAAI,EAAE,IAAR;UAAcmT,KAAK,EAAEzU,MAAM,CAAC0U,UAAP,CAAkB,kBAAlB;SAAhC;YACMP,KAAK;UAAE7S,IAAI,EAAE,IAAR;UAAcmT,KAAK,EAAEzU,MAAM,CAAC0U,UAAP,CAAkB,oBAAlB;SAAhC;YACMN,KAAK;UAAE9S,IAAI,EAAE,IAAR;UAAcmT,KAAK,EAAEzU,MAAM,CAAC0U,UAAP,CAAkB,oBAAlB;SAAhC;YACML,KAAK;UAAE/S,IAAI,EAAE,IAAR;UAAcmT,KAAK,EAAEzU,MAAM,CAAC0U,UAAP,CAAkB,qBAAlB;SAAhC;cAEKC,QAAQ,CAACH,EAAD,EAAKL,EAAL,EAASC,EAAT,EAAaC,EAAb,EAAiBO,OAAjB,EAAb;;cAEKC,cAAL;;cACKC,UAAL;;YAEI,MAAKrT,OAAL,CAAaiQ,MAAjB,EAAyB;gBAClBA,MAAL;;;QAGF1R,MAAM,CAACqC,gBAAP,CAAwB,QAAxB,EAAkC;iBAAM,MAAKyS,UAAL,EAAN;SAAlC,EAA2D,KAA3D;;;;;;yCAGe;;;eACVvE,UAAL,CAAgBwE,KAAhB,CAAsB,UAACC,SAAD,EAAe;gBAC/B,MAAI,CAACvT,OAAL,CAAaE,OAAb,CAAqBZ,SAArB,CAA+BC,QAA/B,qBAAqDgU,SAArD,EAAJ,EAAuE;cACrE,MAAI,CAACA,YAAYA,SAAjB;qBACO,KAAP;;;mBAEK,IAAP;WALF;;;;qCASW;cACP,EAAE,gBAAgBhV,MAAlB,CAAJ,EAA+B;;;;cAIzBiP,OAAO,KAAK0F,KAAL,CAAWtR,IAAX,CAAgB,UAAC4L,IAAD,EAAU;gBAC/BgG,QAAQhG,IAAI,CAACwF,KAAL,CAAWA,KAAX,CAAiBQ,KAAjB,CAAuB,0BAAvB,CAAd;mBACOA,SAAShG,IAAI,CAACwF,KAAL,CAAWS,OAA3B;WAFW,CAAb;;cAKI,CAACjG,IAAL,EAAW;;;;eAINkG,QAAL,CAAclG,IAAI,CAAC3N,IAAnB;;;;iCAGO8T,QAtFa,EAsFH;cACb,KAAKd,qBAAqBc,QAA9B,EAAwC;;;;eAInCd,mBAAmBc,QAAxB;cAEMC,UAAU,KAAKlN,SAAL,CAAe,WAAf,EAA4BuC,kBAAkB,CAACuJ,SAA/C,CAAhB;eAEKM,YAAY,KAAK9S,OAAL,CAAayS,KAAb,CAAmBkB,QAAnB,MAAiC,IAAlD;;cAEI,KAAK3T,OAAL,CAAayS,KAAb,CAAmBkB,QAAnB,MAAiC,IAArC,EAA2C;gBACrC,CAACC,OAAO,CAACtU,SAAR,CAAkBC,QAAlB,2BAA8C,KAAKgU,SAAnD,EAAL,EAAsE;cACpEK,OAAO,CAACtU,SAAR,CAAkByF,GAAlB,2BAAyC,KAAKwO,SAA9C;;;;iBAIGrF,UAAU,KAAf;;gBAEI,KAAKzB,WAAL,EAAJ,EAAwB;mBACjBoH,cAAL;;;gBAGE,KAAKC,SAAL,MAAoB,CAACF,OAAO,CAACtU,SAAR,CAAkBC,QAAlB,CAA2B,MAA3B,CAAzB,EAA6D;cAC3DqU,OAAO,CAACtU,SAAR,CAAkByF,GAAlB,CAAsB,MAAtB;mBACK,IAAI,CAAC,KAAK+O,SAAL,MAAoBF,OAAO,CAACtU,SAAR,CAAkBC,QAAlB,CAA2B,MAA3B,CAAzB,EAA6D;cAClEqU,OAAO,CAACtU,SAAR,CAAkB4F,MAAlB,CAAyB,MAAzB;;iBAEG;gBACD0O,OAAO,CAACtU,SAAR,CAAkBC,QAAlB,2BAA8C,KAAKgU,SAAnD,EAAJ,EAAqE;cACnEK,OAAO,CAACtU,SAAR,CAAkB4F,MAAlB,2BAA4C,KAAKqO,SAAjD;;;iBAGGrF,UAAU,IAAf;;iBAGKhE,IAAL;;;;;uCAIWtD,KA9HO,EA8HA;cAChBA,KAAK,CAACpC,SAAS,WAAWoC,KAAK,CAAC2F,YAAY,MAAM3F,KAAK,CAAC2F,YAAY,EAAxE,EAA4E;;;;;eAKvErC,IAAL;;;;oCAGU;iBACH,KAAKlK,OAAL,CAAaE,OAAb,CAAqBZ,SAArB,CAA+BC,QAA/B,CAAwC,MAAxC,CAAP;;;;;;;;;+BAOK;;;cACD,KAAKS,OAAL,CAAaE,OAAb,CAAqBZ,SAArB,CAA+BC,QAA/B,CAAwC,MAAxC,CAAJ,EAAqD;mBAC5C,KAAP;;;eAGGgK,YAAL,CAAkBzB,KAAK,CAACrF,IAAxB;;cAEI,CAAC,KAAKqQ,SAAV,EAAqB;iBACdiB,cAAL;;;;;;kCAID;;;;;;;2BACOxT,KAAK,CAAC,EAAD,CADZ;;;;oBAIC,MAAI,CAAC4L,YAAL;;oBAEMC,UAAU,SAAVA,OAAU,GAAM;sBACpB,MAAI,CAAC7C,YAAL,CAAkBzB,KAAK,CAACpF,KAAxB;;0BAEI,MAAI,CAACwL,OAAT,EAAkB;wBAChB,MAAI,CAAClO,OAAL,CAAaE,OAAb,CAAqB0H,mBAArB,CAAyCE,KAAK,CAAC1E,cAA/C,EAA+DgJ,OAA/D;;wBACA,MAAI,CAACpM,OAAL,CAAaE,OAAb,CAAqBZ,SAArB,CAA+B4F,MAA/B,CAAsC,SAAtC;;qBAXL;;wBAeK,MAAI,CAAC4N,SAAT,EAAoB;sBACZN,YAAY,MAAI,CAAC9L,SAAL,CAAe,WAAf,EAA4BuC,kBAAkB,CAACuJ,SAA/C,CADA;;0BAEd,CAACA,SAAS,CAAClT,SAAV,CAAoBC,QAApB,CAA6B,MAA7B,CAAL,EAA2C;wBACzCiT,SAAS,CAAClT,SAAV,CAAoByF,GAApB,CAAwB,MAAxB;;;;wBAIA,MAAI,CAACmJ,OAAT,EAAkB;sBAChB,MAAI,CAAClO,OAAL,CAAaE,OAAb,CAAqBU,gBAArB,CAAsCkH,KAAK,CAAC1E,cAA5C,EAA4DgJ,OAA5D;;sBACA,MAAI,CAACpM,OAAL,CAAaE,OAAb,CAAqBZ,SAArB,CAA+ByF,GAA/B,CAAmC,SAAnC;2BACK;;sBAELqH,OAAO;;;oBAGT,MAAI,CAACpM,OAAL,CAAaE,OAAb,CAAqBZ,SAArB,CAA+ByF,GAA/B,CAAmC,MAAnC;;;;;;;;WA9BF;;iBAiCO,IAAP;;;;;;;;;+BAOK;;;cACD,CAAC,KAAK/E,OAAL,CAAaE,OAAb,CAAqBZ,SAArB,CAA+BC,QAA/B,CAAwC,MAAxC,CAAL,EAAsD;mBAC7C,KAAP;;;eAGGgK,YAAL,CAAkBzB,KAAK,CAACnF,IAAxB;eAEK6J,YAAL;;cAEI,KAAK0B,OAAT,EAAkB;iBACXlO,OAAL,CAAaE,OAAb,CAAqBZ,SAArB,CAA+ByF,GAA/B,CAAmC,SAAnC;;;eAGG/E,OAAL,CAAaE,OAAb,CAAqBZ,SAArB,CAA+B4F,MAA/B,CAAsC,MAAtC;;cAEI,KAAK4N,SAAT,EAAoB;gBACZN,YAAY,KAAK9L,SAAL,CAAe,WAAf,EAA4BuC,kBAAkB,CAACuJ,SAA/C,CAAlB;;gBACIA,SAAS,CAAClT,SAAV,CAAoBC,QAApB,CAA6B,MAA7B,CAAJ,EAA0C;cACxCiT,SAAS,CAAClT,SAAV,CAAoB4F,MAApB,CAA2B,MAA3B;;;;cAIA,CAAC,KAAK4N,SAAV,EAAqB;gBACbnH,WAAW,KAAKc,WAAL,EAAjB;;gBAEMC,WAAW,SAAXA,QAAW,GAAM;kBACjB,MAAI,CAACwB,OAAT,EAAkB;gBAChB,MAAI,CAAClO,OAAL,CAAaE,OAAb,CAAqBZ,SAArB,CAA+B4F,MAA/B,CAAsC,SAAtC;;;cAGFyG,QAAQ,CAAC/D,mBAAT,CAA6BE,KAAK,CAAC1E,cAAnC,EAAmDsJ,QAAnD;;cACA,MAAI,CAACnD,YAAL,CAAkBzB,KAAK,CAAClF,MAAxB;;cACA,MAAI,CAACiR,cAAL;aAPF;;gBAUIlI,QAAJ,EAAc;cACZA,QAAQ,CAAC/K,gBAAT,CAA0BkH,KAAK,CAAC1E,cAAhC,EAAgDsJ,QAAhD;cACAf,QAAQ,CAACrM,SAAT,CAAmByF,GAAnB,CAAuB,SAAvB;;;;iBAIG,IAAP;;;;iCAGO;cACH,KAAK+O,SAAL,EAAJ,EAAsB;mBACb,KAAK5J,IAAL,EAAP;;;iBAGK,KAAK4C,IAAL,EAAP;;;;yCAGe;cACTnB,WAAWjN,QAAQ,CAAC4C,aAAT,CAAuB,KAAvB,CAAjB;UACAqK,QAAQ,CAACzH,YAAT,CAAsB,SAAtB,EAAiC,KAAKgC,EAAtC;UACAyF,QAAQ,CAACrM,SAAT,CAAmByF,GAAnB,CAAuBqF,iBAAvB;cAEMwJ,UAAU,KAAKlN,SAAL,CAAe,WAAf,EAA4BuC,kBAAkB,CAACuJ,SAA/C,CAAhB;UACAoB,OAAO,CAACtI,WAAR,CAAoBK,QAApB;;;;sCAGY;iBACLjN,QAAQ,CAAC0H,aAAT,YAA2BgE,iBAA3B,wBAAyD,KAAKlE,EAA9D,SAAP;;;;yCAGe;cACTyF,WAAW,KAAKc,WAAL,EAAjB;;cACId,QAAJ,EAAc;gBACNiI,UAAU,KAAKlN,SAAL,CAAe,WAAf,EAA4BuC,kBAAkB,CAACuJ,SAA/C,CAAhB;YACAoB,OAAO,CAAChI,WAAR,CAAoBD,QAApB;;;;;uCAIW;;;UACb/G,KAAK,CAACkF,IAAN,CAAW,KAAK9J,OAAL,CAAaE,OAAb,CAAqB6J,gBAArB,CAAsC,gBAAtC,KAA2D,EAAtE,EACGjG,OADH,CACW,UAAAuH,MAAM;mBAAI,MAAI,CAAC5D,eAAL,CAAqB;cAAEtI,MAAM,EAAEkM,MAAV;cAAkBzE,KAAK,EAAE;aAA9C,CAAJ;WADjB;cAGM+E,WAAW,KAAKc,WAAL,EAAjB;;cACI,CAAC,KAAKqG,aAAanH,QAAvB,EAAiC;iBAC1BlE,eAAL,CAAqB;cAAEtI,MAAM,EAAEwM,QAAV;cAAoB/E,KAAK,EAAEkB,KAAK,CAAChF;aAAtD;;;eAGG2E,eAAL,CAAqB;YAAEtI,MAAM,EAAET,QAAV;YAAoBkI,KAAK,EAAE;WAAhD;;;;uCAGa;;;cACPoN,iBAAiB,KAAKhU,OAAL,CAAaE,OAAb,CAAqB6J,gBAArB,CAAsC,gBAAtC,CAAvB;;cAEIiK,cAAJ,EAAoB;YAClBpP,KAAK,CAACkF,IAAN,CAAWkK,cAAX,EAA2BlQ,OAA3B,CAAmC,UAAAuH,MAAM;qBAAI,MAAI,CAAC3D,iBAAL,CAAuB;gBAAEvI,MAAM,EAAEkM,MAAV;gBAAkBzE,KAAK,EAAE;eAAhD,CAAJ;aAAzC;;;cAGI+E,WAAW,KAAKc,WAAL,EAAjB;;cACI,CAAC,KAAKqG,aAAanH,QAAvB,EAAiC;iBAC1BjE,iBAAL,CAAuB;cAAEvI,MAAM,EAAEwM,QAAV;cAAoB/E,KAAK,EAAEkB,KAAK,CAAChF;aAAxD;;;eAGG4E,iBAAL,CAAuB;YAAEvI,MAAM,EAAET,QAAV;YAAoBkI,KAAK,EAAE;WAAlD;;;;qCAGkB;iBACXmC,IAAP;;;;qCAGkB/I,OA3SE,EA2SO;mFACDuS,SAA1B,EAAqCvS,OAArC,EAA8CoJ,UAA9C;;;;;MA5QoB1D,SAhCA;;;;;;;;IAqTxB/F,kBAAkB,CAACC,CAAD,EAAImJ,IAAJ,EAAUwJ,SAAV,CAAlB;;;;;;;QAOM0B,YAAYrP,KAAK,CAACkF,IAAN,CAAWpL,QAAQ,CAACqL,gBAAT,YAA8BhB,IAA9B,MAAyC,EAApD,CAAlB;IAEAkL,SAAS,CAACnQ,OAAV,CAAkB,UAAC5D,OAAD,EAAa;UACvBqH,SAASpD,mBAAmB,CAACjE,OAAD,EAAU+I,kBAAV,EAA8BE,qBAA9B,CAAlC;MACA5B,MAAM,CAACrH,UAAUA,OAAjB;MAEAkJ,UAAU,CAACnE,IAAX,CAAgB,IAAIsN,SAAJ,CAAchL,MAAd,CAAhB;KAJF;IAOA7I,QAAQ,CAACkC,gBAAT,CAA0B,OAA1B,EAAmC,UAACgG,KAAD,EAAW;UACtCzH,SAASK,gBAAgB,CAACoH,KAAK,CAACzH,MAAP,EAAe,aAAf,CAA/B;;UACI,CAACA,MAAL,EAAa;;;;UAIP6K,iBAAiB7K,MAAM,CAACO,YAAP,CAAoB,aAApB,CAAvB;;UACIsK,kBAAkBA,mBAAmBjB,IAAzC,EAA+C;YACvC7C,KAAK/G,MAAM,CAACO,YAAP,CAAoB,aAApB,CAAX;YACMQ,UAAUxB,QAAQ,CAAC0H,aAAT,CAAuBF,EAAvB,CAAhB;YAEMlB,YAAYoE,UAAU,CAACxH,IAAX,CAAgB,UAAAyD,CAAC;iBAAIA,CAAC,CAACwD,UAAF,OAAmB3I,OAAvB;SAAjB,CAAlB;;YAEI,CAAC8E,SAAL,EAAgB;;;;QAIhB7F,MAAM,CAAC0N,IAAP;QAEA7H,SAAS,CAACiL,MAAV;;KAnBJ;WAuBOsC,SAAP;EACD,CA7ViB,CA6VfhU,MAAM,CAACqB,IAAIrB,MAAM,CAACqB,IAAI,IA7VP,CAAlB;;ECAA,IAAMsU,YAAa,YAAM;;;;;;QAOjBnL,OAAO,WAAb;QACMC,UAAU,OAAhB;QACMC,qBAAqB;MACzB/I,OAAO,EAAE,IADgB;MAEzBiU,UAAU,EAAE,IAFa;MAGzBC,MAAM,EAAE,KAHiB;MAIzBC,WAAW,EAAE;KAJf;QAMMlL,wBAAwB,CAC5B,YAD4B,EAE5B,QAF4B,CAA9B;QAIMC,aAAa,EAAnB;;;;;;;QAQM8K;;;;;2BACsB;;;YAAdlU,8EAAU,EAAI;;;;uFAClB+I,IAAN,EAAYC,OAAZ,EAAqBC,kBAArB,EAAyCjJ,OAAzC,EAAkDmJ,qBAAlD,EAAyE,KAAzE,EAAgF,KAAhF;;YAEMmL,WAAW,MAAKtU,OAAL,CAAaE,OAAb,CAAqBkG,aAArB,CAAmC,iBAAnC,CAAjB;;YACMmO,OAAO,MAAKC,WAAL,CAAiBF,QAAjB,CAAb;;cAEKG,WAAL,CAAiBF,IAAI,CAAChQ,KAAtB,EAA6BgQ,IAAI,CAAC5J,IAAlC,EAAwC,KAAxC;;;;;;;sCAGuD;;;cAA7CpG,4EAAQ,EAAqC;cAAjCoG,2EAAO,IAA0B;cAApB+J,kFAAc,IAAM;;cACnD,CAAC,KAAK1U,OAAL,CAAamU,UAAlB,EAA8B;mBACrB,KAAP;;;cAGEQ,cAAchK,IAAlB;eACK3K,OAAL,CAAaE,OAAb,CAAqBkG,aAArB,CAAmC,eAAnC,EAAoD8E,YAAYP,IAAhE;eACK3K,OAAL,CAAaE,OAAb,CAAqBkG,aAArB,CAAmC,sBAAnC,EAA2D7B,QAAQA,KAAnE;cAEMqQ,QAAQ,KAAK5U,OAAL,CAAaE,OAAb,CAAqB6J,gBAArB,CAAsC,OAAtC,KAAkD,EAAhE;cACI8K,YAAY,KAAhB;UAEAjQ,KAAK,CAACkF,IAAN,CAAW8K,KAAX,EAAkB9Q,OAAlB,CAA0B,UAACyQ,IAAD,EAAU;gBAC9BA,IAAI,CAACjV,SAAL,CAAeC,QAAf,CAAwB,UAAxB,CAAJ,EAAyC;cACvCgV,IAAI,CAACjV,SAAL,CAAe4F,MAAf,CAAsB,UAAtB;;;gBAGI4P,OAAO,MAAI,CAACN,WAAL,CAAiBD,IAAjB,CAAb;;gBAEIhQ,UAAUuQ,IAAI,CAACvQ,KAAnB,EAA0B;kBACpB,CAACgQ,IAAI,CAACjV,SAAL,CAAeC,QAAf,CAAwB,UAAxB,CAAL,EAA0C;gBACxCgV,IAAI,CAACjV,SAAL,CAAeyF,GAAf,CAAmB,UAAnB;;;cAGF4P,cAAcG,IAAI,CAACnK,IAAnB;cACAkK,YAAY,IAAZ;;WAbJ;;cAiBIH,eAAeG,SAAnB,EAA8B;iBACvB7U,OAAL,CAAaE,OAAb,CAAqBkG,aAArB,CAAmC,eAAnC,EAAoD8E,YAAYyJ,WAAhE;iBACK,IAAID,eAAe,CAACG,SAApB,EAA+B;kBAC9B,IAAIxO,KAAJ,WAAa0C,IAAb,2BAAiCxE,KAAjC,6CAAN;;;iBAGK,IAAP;;;;sCAGY;iBACL,KAAKvE,OAAL,CAAaE,OAAb,CAAqBkG,aAArB,CAAmC,sBAAnC,EAA2D7B,KAAlE;;;;sCAGuB;cAAbgQ,2EAAO,IAAM;cACnB5J,OAAO,EAAX;cACIpG,QAAQ,EAAZ;;cAEIgQ,IAAJ,EAAU;YACR5J,OAAO4J,IAAI,CAAC7U,YAAL,CAAkB,WAAlB,KAAkC6U,IAAI,CAACrJ,SAA9C;gBAEM6J,mBAAmBR,IAAI,CAACnO,aAAL,CAAmB,OAAnB,CAAzB;;gBACI2O,gBAAJ,EAAsB;cACpBpK,OAAOoK,gBAAgB,CAAC7J,SAAxB;;;YAGF3G,QAAQgQ,IAAI,CAAC7U,YAAL,CAAkB,YAAlB,KAAmC,EAA3C;;;iBAGK;YAAEiL,IAAI,EAAJA,IAAF;YAAQpG,KAAK,EAALA;WAAf;;;;uCAGaqC,KAjGM,EAiGC;cAChBA,KAAK,CAACpC,SAASsD,KAAK,CAAChF,KAAzB,EAAgC;gBACxBkS,YAAY9V,iBAAiB,CAAC0H,KAAK,CAACzH,MAAP,EAAe,WAAf,CAAnC;;;;;;gBAMI,CAAC6V,aAAaA,cAAc,KAAKnM,UAAL,EAAhC,EAAmD;mBAC5CqB,IAAL;;iBAEG,IAAItD,KAAK,CAACpC,SAAS,OAAnB,EAA4B;gBAC3B+P,OAAOrV,iBAAiB,CAAC0H,KAAK,CAACzH,MAAP,EAAe,MAAf,CAA9B;;gBAEIoV,IAAJ,EAAU;kBACJA,IAAI,CAACjV,SAAL,CAAeC,QAAf,CAAwB,UAAxB,CAAJ,EAAyC;;;;kBAInC0V,WAAW,KAAKT,WAAL,CAAiBD,IAAjB,CAAjB;;kBAEI,KAAKW,WAAL,OAAuBD,QAAQ,CAAC1Q,KAApC,EAA2C;;qBAEpCkQ,WAAL,CAAiBQ,QAAQ,CAAC1Q,KAA1B,EAAiC0Q,QAAQ,CAACtK,IAA1C,EAAgD,KAAhD;oBACMtM,SAAS;kBAAEkW,IAAI,EAAJA,IAAF;kBAAQ5J,IAAI,EAAEsK,QAAQ,CAACtK,IAAvB;kBAA6BpG,KAAK,EAAE0Q,QAAQ,CAAC1Q;iBAA5D;qBACKgF,YAAL,CAAkBzB,KAAK,CAACvE,aAAxB,EAAuClF,MAAvC;;;mBAGG6L,IAAL;;;;;gBAKIiL,gBAAgBjW,iBAAiB,CAAC0H,KAAK,CAACzH,MAAP,EAAe,gBAAf,CAAvC;;gBACIgW,aAAJ,EAAmB;;;;iBAIdlF,MAAL;;;;;iCAIK;cACH,KAAKjQ,OAAL,CAAaE,OAAb,CAAqBZ,SAArB,CAA+BC,QAA/B,CAAwC,QAAxC,CAAJ,EAAuD;mBAC9C,KAAK2K,IAAL,EAAP;;;iBAGK,KAAK4C,IAAL,EAAP;;;;;;;;;+BAOK;cACD,KAAK9M,OAAL,CAAaE,OAAb,CAAqBZ,SAArB,CAA+BC,QAA/B,CAAwC,QAAxC,CAAJ,EAAuD;mBAC9C,KAAP;;;eAGGS,OAAL,CAAaE,OAAb,CAAqBZ,SAArB,CAA+ByF,GAA/B,CAAmC,QAAnC;cAEMoQ,gBAAgB,KAAKnV,OAAL,CAAaE,OAAb,CAAqBkG,aAArB,CAAmC,iBAAnC,CAAtB;;UAGA+O,aAAa,CAACC,YAAY,CAA1B;eAEK7L,YAAL,CAAkBzB,KAAK,CAACrF,IAAxB;eACK8G,YAAL,CAAkBzB,KAAK,CAACpF,KAAxB;eAEK+E,eAAL,CAAqB;YAAEtI,MAAM,EAAEgW,aAAV;YAAyBvO,KAAK,EAAE;WAArD;eACKa,eAAL,CAAqB;YAAEtI,MAAM,EAAET,QAAQ,CAAC+M,IAAnB;YAAyB7E,KAAK,EAAEkB,KAAK,CAAChF;WAA3D;iBAEO,IAAP;;;;;;;;;+BAOK;cACD,CAAC,KAAK9C,OAAL,CAAaE,OAAb,CAAqBZ,SAArB,CAA+BC,QAA/B,CAAwC,QAAxC,CAAL,EAAwD;mBAC/C,KAAP;;;eAGGS,OAAL,CAAaE,OAAb,CAAqBZ,SAArB,CAA+B4F,MAA/B,CAAsC,QAAtC;eAEKqE,YAAL,CAAkBzB,KAAK,CAACnF,IAAxB;eACK4G,YAAL,CAAkBzB,KAAK,CAAClF,MAAxB;eAEK8E,iBAAL,CAAuB;YAAEvI,MAAM,EAAE,KAAKa,OAAL,CAAaE,OAAb,CAAqBkG,aAArB,CAAmC,iBAAnC,CAAV;YAAiEQ,KAAK,EAAE;WAA/F;eACKc,iBAAL,CAAuB;YAAEvI,MAAM,EAAET,QAAQ,CAAC+M,IAAnB;YAAyB7E,KAAK,EAAEkB,KAAK,CAAChF;WAA7D;iBAEO,IAAP;;;;qCAGkB;iBACXiG,IAAP;;;;qCAGkB/I,OApMC,EAoMQ;mFACDkU,SAA1B,EAAqClU,OAArC,EAA8CoJ,UAA9C;;;;;MA1KoB1D,SA3BD;;;;;;;;QA8MjB2P,cAAczQ,KAAK,CAACkF,IAAN,CAAWpL,QAAQ,CAACqL,gBAAT,YAA8BhB,IAA9B,MAAyC,EAApD,CAApB;IACAsM,WAAW,CAACC,MAAZ,CAAmB,UAAAvG,CAAC;aAAI,CAACA,CAAC,CAACzP,SAAF,CAAYC,QAAZ,CAAqB,UAArB,CAAL;KAApB,EAA2DuE,OAA3D,CAAmE,UAAC5D,OAAD,EAAa;UACxEqH,SAASpD,mBAAmB,CAACjE,OAAD,EAAU+I,kBAAV,EAA8BE,qBAA9B,CAAlC;MACA5B,MAAM,CAACrH,UAAUA,OAAjB;;UAEI,CAACqH,MAAM,CAAC6M,MAAZ,EAAoB;QAClBhL,UAAU,CAACnE,IAAX,CAAgB,IAAIiP,SAAJ,CAAc3M,MAAd,CAAhB;;KALJ;IASA7I,QAAQ,CAACkC,gBAAT,CAA0B,OAA1B,EAAmC,UAACgG,KAAD,EAAW;UACtCuO,gBAAgBjW,iBAAiB,CAAC0H,KAAK,CAACzH,MAAP,EAAe,gBAAf,CAAvC;;UACIgW,aAAJ,EAAmB;;;;UAIbH,YAAY9V,iBAAiB,CAAC0H,KAAK,CAACzH,MAAP,EAAe,WAAf,CAAnC;;UAEI6V,SAAJ,EAAe;YACPhL,iBAAiBgL,SAAS,CAACtV,YAAV,CAAuB,aAAvB,CAAvB;;YACIsK,kBAAkBA,mBAAmBjB,QAAQiM,SAAjD,EAA4D;cACpDhQ,YAAYoE,UAAU,CAACxH,IAAX,CAAgB,UAAAyD,CAAC;mBAAIA,CAAC,CAACwD,UAAF,OAAmBmM,SAAvB;WAAjB,CAAlB;;cAEI,CAAChQ,SAAL,EAAgB;;;;UAIhBA,SAAS,CAACiL,MAAV;;;KAjBN;WAsBOiE,SAAP;EACD,CA/OiB,EAAlB;;ECDA,IAAMqB,kBAAmB,UAAC3V,CAAD,EAAO;;;;;;QAOxBmJ,OAAOmL,SAAS,CAAC/G,UAAV,EAAb;QACMlE,qBAAqB;MACzB/I,OAAO,EAAE,IADgB;MAEzBiU,UAAU,EAAE,IAFa;MAGzBC,MAAM,EAAE,IAHiB;MAIzBC,WAAW,EAAE;KAJf;QAMMlL,wBAAwB,CAC5B,YAD4B,EAE5B,QAF4B,CAA9B;QAIMC,aAAa,EAAnB;;;;;;;QAQMmM;;;;;iCACsB;;;YAAdvV,8EAAU,EAAI;;;;6FAClBA,OAAN;;cAEKwV,qBAAqB,UAAC5O,KAAD,EAAW;cAC7BwN,SAASxN,KAAK,CAACzH,MAAN,CAAaoF,KAA5B;;cAEI6P,WAAW,EAAf,EAAmB;kBACZqB,SAAL;;;;;gBAKGC,QAAL,GAAgB5R,OAAhB,CAAwB,UAACyQ,IAAD,EAAU;gBAC1BoB,SAASpB,IAAf;gBACMnU,KAAK,OAAO,MAAKJ,OAAL,CAAaqU,gBAAgB,aAAa,MAAKrU,OAAL,CAAaqU,cAAc,MAAKA,WAA5F;;gBAEIjU,EAAE,CAACgU,MAAD,EAASuB,MAAT,CAAN,EAAwB;cACtBA,MAAM,CAACzV,OAAP,CAAe4B,KAAf,CAAqB4M,UAAU,OAA/B;mBACK;cACLiH,MAAM,CAACzV,OAAP,CAAe4B,KAAf,CAAqB4M,UAAU,MAA/B;;WAPJ;SATF;;cAqBKkH,cAAL,GAAsBhV,gBAAtB,CAAuC,OAAvC,EAAgD,MAAK4U,kBAArD;;;;;;;sCAGkC;cAAxBpB,6EAAS,EAAe;cAAXG,2EAAO,EAAI;iBAC3BA,IAAI,CAAChQ,KAAL,CAAWP,OAAX,CAAmBoQ,MAAnB,IAA6B,CAAC,KAAKG,IAAI,CAAC5J,IAAL,CAAU3G,OAAV,CAAkBoQ,MAAlB,IAA4B,CAAC,CAAvE;;;;mCAGS;;;cACLQ,QAAQhQ,KAAK,CAACkF,IAAN,CAAW,KAAK9J,OAAL,CAAaE,OAAb,CAAqB6J,gBAArB,CAAsC,OAAtC,KAAkD,EAA7D,CAAZ;UACA6K,QAAQA,KAAK,CAACiB,GAAN,CAAU,UAACtB,IAAD,EAAU;gBACpBuB,OAAO,MAAI,CAACtB,WAAL,CAAiBD,IAAjB,CAAb;;mBACO;cAAE5J,IAAI,EAAEmL,IAAI,CAACnL,IAAb;cAAmBpG,KAAK,EAAEuR,IAAI,CAACvR,KAA/B;cAAsCrE,OAAO,EAAEqU;aAAtD;WAFM,CAAR;iBAKOK,KAAP;;;;oCAGU;eACLc,QAAL,GAAgB5R,OAAhB,CAAwB,UAACyQ,IAAD,EAAU;gBAC1BwB,IAAIxB,IAAV;YACAwB,CAAC,CAAC7V,OAAF,CAAU4B,KAAV,CAAgB4M,UAAU,OAA1B;WAFF;;;;yCAMe;iBACR,KAAK1O,OAAL,CAAaE,OAAb,CAAqBkG,aAArB,CAAmC,uBAAnC,CAAP;;;;;;;;;;;;;;;;;;;;;;yBAWKwP,cAAL,GAAsBrR,QAAQ,EAA9B;;yBAGKkR,SAAL;qDAEO,IA5FmB;;;;;;;;;;;;;;;;;;qCA+FRzV,OA/FQ,EA+FC;iBACpB,IAAIuV,eAAJ,CAAoBvV,OAApB,EAA6BoJ,UAA7B,CAAP;;;;;MAtE0B8K,SA1BA;;;;;;;;IAyG9BvU,kBAAkB,CAACC,CAAD,EAAImJ,IAAJ,EAAUwM,eAAV,CAAlB;;;;;;;QAOMF,cAAczQ,KAAK,CAACkF,IAAN,CAAWpL,QAAQ,CAACqL,gBAAT,YAA8BhB,IAA9B,MAAyC,EAApD,CAApB;IAEAsM,WAAW,CAACC,MAAZ,CAAmB,UAAAvG,CAAC;aAAI,CAACA,CAAC,CAACzP,SAAF,CAAYC,QAAZ,CAAqB,UAArB,CAAL;KAApB,EAA2DuE,OAA3D,CAAmE,UAAC5D,OAAD,EAAa;UACxEqH,SAASpD,mBAAmB,CAACjE,OAAD,EAAU+I,kBAAV,EAA8BE,qBAA9B,CAAlC;MACA5B,MAAM,CAACrH,UAAUA,OAAjB;;UAEIqH,MAAM,CAAC6M,MAAX,EAAmB;;QAEjBhL,UAAU,CAACnE,IAAX,CAAgB,IAAIsQ,eAAJ,CAAoBhO,MAApB,CAAhB;;KANJ;IAUA7I,QAAQ,CAACkC,gBAAT,CAA0B,OAA1B,EAAmC,UAACgG,KAAD,EAAW;UACtCuO,gBAAgBjW,iBAAiB,CAAC0H,KAAK,CAACzH,MAAP,EAAe,gBAAf,CAAvC;;UACIgW,aAAJ,EAAmB;;;;UAIbH,YAAY9V,iBAAiB,CAAC0H,KAAK,CAACzH,MAAP,EAAe,WAAf,CAAnC;;UAEI6V,SAAJ,EAAe;YACPhL,iBAAiBgL,SAAS,CAACtV,YAAV,CAAuB,aAAvB,CAAvB;;YACIsK,kBAAkBA,mBAAmBjB,QAAQiM,SAAjD,EAA4D;cACpDhQ,YAAYoE,UAAU,CAACxH,IAAX,CAAgB,UAAAyD,CAAC;mBAAIA,CAAC,CAACwD,UAAF,OAAmBmM,SAAvB;WAAjB,CAAlB;;cAEI,CAAChQ,SAAL,EAAgB;;;;UAIhBA,SAAS,CAACiL,MAAV;;;KAjBN;WAsBOsF,eAAP;EACD,CAnJuB,CAmJrBhX,MAAM,CAACqB,IAAIrB,MAAM,CAACqB,IAAI,IAnJD,CAAxB;;ECGA,IAAMoW,WAAY,UAACpW,CAAD,EAAO;;;;;;QAOjBmJ,OAAO,UAAb;QACMkN,OAAO,eAAb;QACMC,YAAY,eAAlB;QACMlN,UAAU,OAAhB;QACMC,qBAAqB;MACzB/I,OAAO,EAAE,IADgB;MAEzBiW,KAAK,EAAE;KAFT;QAIMhN,wBAAwB,CAC5B,OAD4B,CAA9B;QAGMC,aAAa,EAAnB;;;;;;;QAQM4M;;;;;0BACsB;;;YAAdhW,8EAAU,EAAI;;;;sFAClB+I,IAAN,EAAYC,OAAZ,EAAqBC,kBAArB,EAAyCjJ,OAAzC,EAAkDmJ,qBAAlD,EAAyE,KAAzE,EAAgF,KAAhF;cACKE,eAAe,KAApB;;YAGI,MAAKrJ,OAAL,CAAamW,KAAjB,EAAwB;gBACjB1O,eAAL,CAAqB;YAAEtI,MAAM,EAAE,MAAKa,OAAL,CAAaE,OAAvB;YAAgC0G,KAAK,EAAE;WAA5D;;gBACKa,eAAL,CAAqB;YAAEtI,MAAM,EAAE,MAAKa,OAAL,CAAaE,OAAvB;YAAgC0G,KAAK,EAAE;WAA5D;;gBAEK5G,OAAL,CAAaE,OAAb,CAAqBU,gBAArB,CAAsC,WAAtC,EAAmD,YAAM;kBAClDkM,IAAL;WADF;;gBAIK9M,OAAL,CAAaE,OAAb,CAAqBU,gBAArB,CAAsC,YAAtC,EAAoD,YAAM;kBACnDsJ,IAAL;WADF;;;;;;;;uCAMWtD,KA9CM,EA8CC;cAChBA,KAAK,CAACpC,SAAS,WAAnB,EAAgC;iBACzBsI,IAAL;;;;cAIElG,KAAK,CAACpC,SAAS,YAAnB,EAAiC;iBAC1B0F,IAAL;;;;;;;;;;+BAQG;;;cACD,KAAKb,YAAT,EAAuB;mBACd,KAAP;;;cAGE,KAAKrJ,OAAL,CAAaE,OAAb,CAAqBZ,SAArB,CAA+BC,QAA/B,CAAwC,MAAxC,CAAJ,EAAqD;mBAC5C,KAAP;;;eAGG8J,eAAe,IAApB;eAEKE,YAAL,CAAkBzB,KAAK,CAACrF,IAAxB;;cAEM+G,SAAS,SAATA,MAAS,GAAM;;YAEnB,MAAI,CAACD,YAAL,CAAkBzB,KAAK,CAACpF,KAAxB;;YAEA,MAAI,CAAC0T,OAAL,GAAexO,mBAAf,CAAmCE,KAAK,CAAC1E,cAAzC,EAAyDoG,MAAzD;;YACA,MAAI,CAACH,eAAe,KAApB;WALF;;;eASKrJ,OAAL,CAAaE,OAAb,CAAqBZ,SAArB,CAA+ByF,GAA/B,CAAmC,MAAnC;cAEMsR,eAAe,KAAKD,OAAL,EAArB;UAEAC,YAAY,CAAC/W,SAAb,CAAuByF,GAAvB,CAA2B,MAA3B;;cAEIsR,YAAY,CAACC,cAAc,KAAKtW,OAAL,CAAaE,OAAb,CAAqBoW,eAC/C,CAACD,YAAY,CAAC/W,SAAb,CAAuBC,QAAvB,CAAgC,YAAhC,CADN,EACqD;;YAEnD8W,YAAY,CAAC/W,SAAb,CAAuByF,GAAvB,CAA2B,YAA3B;iBACK,IAAIsR,YAAY,CAACC,cAAc,KAAKtW,OAAL,CAAaE,OAAb,CAAqBoW,eACtDD,YAAY,CAAC/W,SAAb,CAAuBC,QAAvB,CAAgC,YAAhC,CADE,EAC6C;;YAElD8W,YAAY,CAAC/W,SAAb,CAAuB4F,MAAvB,CAA8B,YAA9B;;;UAGFmR,YAAY,CAACzV,gBAAb,CAA8BkH,KAAK,CAAC1E,cAApC,EAAoDoG,MAApD;UAEA7I,UAAU,CAAC,YAAM;YACf0V,YAAY,CAAC/W,SAAb,CAAuByF,GAAvB,CAA2B,SAA3B;WADQ,EAEP,EAFO,CAAV;iBAIO,IAAP;;;;kCAGQ;iBACD,KAAK/E,OAAL,CAAaE,OAAb,CAAqBkG,aAArB,YAAuC6P,IAAvC,EAAP;;;;iCAGO;cACH,KAAKjW,OAAL,CAAaE,OAAb,CAAqBZ,SAArB,CAA+BC,QAA/B,CAAwC,MAAxC,CAAJ,EAAqD;iBAC9C2K,IAAL;iBACK;iBACA4C,IAAL;;;;;;;;;;+BAQG;;;cACD,KAAKzD,YAAT,EAAuB;mBACd,KAAP;;;cAGE,CAAC,KAAKrJ,OAAL,CAAaE,OAAb,CAAqBZ,SAArB,CAA+BC,QAA/B,CAAwC,MAAxC,CAAL,EAAsD;mBAC7C,KAAP;;;eAGG8J,eAAe,IAApB;eACKE,YAAL,CAAkBzB,KAAK,CAACnF,IAAxB;;cAEMiH,SAAS,SAATA,MAAS,GAAM;;YAEnB,MAAI,CAACwM,OAAL,GAAe9W,SAAf,CAAyB4F,MAAzB,CAAgC,MAAhC;;YAEA,MAAI,CAACqE,YAAL,CAAkBzB,KAAK,CAAClF,MAAxB;;YACA,MAAI,CAACwT,OAAL,GAAexO,mBAAf,CAAmCE,KAAK,CAAC1E,cAAzC,EAAyDwG,MAAzD;;YACA,MAAI,CAACP,eAAe,KAApB;WANF;;;eAUKrJ,OAAL,CAAaE,OAAb,CAAqBZ,SAArB,CAA+B4F,MAA/B,CAAsC,MAAtC;eAEKkR,OAAL,GAAexV,gBAAf,CAAgCkH,KAAK,CAAC1E,cAAtC,EAAsDwG,MAAtD;eAEKwM,OAAL,GAAe9W,SAAf,CAAyB4F,MAAzB,CAAgC,SAAhC;iBAEO,IAAP;;;;qCAGkB;iBACX6D,IAAP;;;;qCAGkB/I,OA/JC,EA+JQ;kFACDgW,QAA1B,EAAoChW,OAApC,EAA6CoJ,UAA7C;;;;;MAtImB1D,SA1BA;;;;;;;;IAyKvB/F,kBAAkB,CAACC,CAAD,EAAImJ,IAAJ,EAAUiN,QAAV,CAAlB;;;;;;;QAOMO,YAAY3R,KAAK,CAACkF,IAAN,CAAWpL,QAAQ,CAACqL,gBAAT,YAA8BhB,IAA9B,MAAyC,EAApD,CAAlB;IAEAwN,SAAS,CAACzS,OAAV,CAAkB,UAAC5D,OAAD,EAAa;UACvBqH,SAASpD,mBAAmB,CAACjE,OAAD,EAAU+I,kBAAV,EAA8BE,qBAA9B,CAAlC;MACA5B,MAAM,CAACrH,UAAUA,OAAjB;MAEAkJ,UAAU,CAACnE,IAAX,CAAgB+Q,QAAQ,CAAC7V,YAAT,CAAsBoH,MAAtB,CAAhB;KAJF;IAOA7I,QAAQ,CAACkC,gBAAT,CAA0B,OAA1B,EAAmC,UAACgG,KAAD,EAAW;UACtC4P,WAAWtX,iBAAiB,CAAC0H,KAAK,CAACzH,MAAP,EAAe4J,IAAf,CAAlC;UACM0N,mBAAmBvX,iBAAiB,CAAC0H,KAAK,CAACzH,MAAP,EAAe+W,SAAf,CAA1C;;UAEIM,QAAJ,EAAc;YACNxR,YAAYoE,UAAU,CAACxH,IAAX,CAAgB,UAAAyD,CAAC;iBAAIA,CAAC,CAACwD,UAAF,OAAmB2N,QAAvB;SAAjB,CAAlB;;YAEI,CAACxR,SAAL,EAAgB;;;;YAIZyR,gBAAJ,EAAsB;;UAEpBzR,SAAS,CAACkF,IAAV;;;;QAIFlF,SAAS,CAAC8H,IAAV;;KAjBJ;IAqBApO,QAAQ,CAACkC,gBAAT,CAA0BkH,KAAK,CAAChF,KAAhC,EAAuC,UAAC8D,KAAD,EAAW;UAC1C4P,WAAWtX,iBAAiB,CAAC0H,KAAK,CAACzH,MAAP,EAAe4J,IAAf,CAAlC;UACM2N,iBAAiBhY,QAAQ,CAAC0H,aAAT,CAAuB,gBAAvB,CAAvB;;UAEIoQ,YAAY,CAACE,cAAjB,EAAiC;;;;UAI3BC,kBAAkBvN,UAAU,CAACxH,IAAX,CAAgB,UAAAyD,CAAC;eAAIA,CAAC,CAACwD,UAAF,OAAmB6N,cAAvB;OAAjB,CAAxB;MAEAC,eAAe,CAACzM,IAAhB;KAVF;WAaO8L,QAAP;EACD,CA5NgB,CA4NdzX,MAAM,CAACqB,IAAIrB,MAAM,CAACqB,IAAI,IA5NR,CAAjB;;ECHA,IAAMgX,UAAW,YAAM;;;;;;QAOf7N,OAAO,SAAb;QACMC,UAAU,OAAhB;QACMC,qBAAqB;MACzB/I,OAAO,EAAE,IADgB;MAEzB2W,YAAY,EAAE,IAFW;MAGzBC,KAAK,EAAE;KAHT;QAKM3N,wBAAwB,EAA9B;;;;;;;QASMyN;;;;;;;;;yBAKsB;;;YAAd5W,8EAAU,EAAI;;;;qFAClB+I,IAAN,EAAYC,OAAZ,EAAqBC,kBAArB,EAAyCjJ,OAAzC,EAAkDmJ,qBAAlD,EAAyE,IAAzE,EAA+E,KAA/E;cAEK4N,MAAM,IAAX;cACKC,gBAAgB,IAArB;;cAEKC,SAAL,CAAenP,KAAK,CAAC1F,cAArB;;QAEAzB,UAAU,CAAC,YAAM;gBACVuW,UAAL;SADQ,EAEP,MAAKlX,OAAL,CAAa6W,YAFN,CAAV;;;;;;oCAKU;iBACH,KAAKM,MAAZ;;;;kCAGQA,MA7CS,EA6CD;eACXA,SAASA,MAAd;;;;uCAGa;;;eACRJ,MAAM,IAAIK,cAAJ,EAAX;eACKL,GAAL,CAASM,UAAU,KAAnB;cAEMC,+BAAwB,IAAIC,IAAJ,GAAWC,OAAX,EAArB,CAAT;eAEKjO,YAAL,CAAkBzB,KAAK,CAACxF,oBAAxB,EAA8C;YAAEmV,IAAI,EAAE,IAAIF,IAAJ;WAAtD,EAAoE,KAApE;eAEKR,GAAL,CAASW,IAAT,CAAc,MAAd,EAAsBJ,GAAtB,EAA2B,IAA3B;eAEKP,GAAL,CAASvW,UAAU,KAAKR,OAAL,CAAa8W,QAAQ,CAAxC;;eACKC,GAAL,CAASY,YAAY,YAAM;YACzB,MAAI,CAACZ,GAAL,CAASa,KAAT;;YACA,MAAI,CAACb,MAAM,IAAX;WAFF;;eAKKA,GAAL,CAASc,SAAS,YAAM;YACtB,MAAI,CAACC,IAAL;WADF;;eAGKf,GAAL,CAASgB,UAAU,YAAM;YACvB,MAAI,CAACC,MAAL;WADF;;cAII;iBACGjB,GAAL,CAASkB,IAAT;YACA,OAAOC,CAAP,EAAU;iBACLF,MAAL;;;;;+BAIG;eACAzO,YAAL,CAAkBzB,KAAK,CAACvF,4BAAxB,EAAsD;YAAEkV,IAAI,EAAE,IAAIF,IAAJ;WAA9D,EAA4E,KAA5E;;cAEI,KAAKY,SAAL,OAAqBrQ,KAAK,CAAC1F,cAA/B,EAA+C;iBACxCmH,YAAL,CAAkBzB,KAAK,CAAC1F,cAAxB,EAAwC;cAAEqV,IAAI,EAAE,IAAIF,IAAJ;aAAhD,EAA8D,KAA9D;;;eAGGN,SAAL,CAAenP,KAAK,CAAC1F,cAArB;;;;iCAGO;eACFmH,YAAL,CAAkBzB,KAAK,CAACtF,4BAAxB,EAAsD;YAAEiV,IAAI,EAAE,IAAIF,IAAJ;WAA9D,EAA4E,KAA5E;;cAEI,KAAKY,SAAL,OAAqBrQ,KAAK,CAACzF,eAA/B,EAAgD;iBACzCkH,YAAL,CAAkBzB,KAAK,CAACzF,eAAxB,EAAyC;cAAEoV,IAAI,EAAE,IAAIF,IAAJ;aAAjD,EAA+D,KAA/D;;;eAGGN,SAAL,CAAenP,KAAK,CAACzF,eAArB;;;;qCAGW;;;eACN+V,SAAL;eAEKC,YAAL;eAEKrB,gBAAgBsB,WAAW,CAAC,YAAM;YACrC,MAAI,CAACD,YAAL;WAD8B,EAE7B,KAAKrY,OAAL,CAAa8W,KAFgB,CAAhC;;;;oCAKU;cACN,KAAKE,kBAAkB,IAA3B,EAAiC;YAC/BuB,aAAa,CAAC,KAAKvB,aAAN,CAAb;iBACKA,gBAAgB,IAArB;;;;;qCAIgBhX,OApHD,EAoHU;iFACD4W,OAA1B,EAAmC5W,OAAnC;;;;;MA9FkB0F,SAvBD;;WAyHdkR,OAAP;EACD,CA1He,EAAhB;;ECTA;;;;;AAMA,EAkBA,IAAM4B,MAAM,EAAZ;EAEA;;;;;;EAKAA,GAAG,CAACC,UAAU7B,OAAO,CAACzW,YAAtB;EAEA;;;;;;EAKAqY,GAAG,CAAC3J,eAAeV,YAAY,CAAChO,YAAhC;EAEA;;;;;EAMA;;EACAqY,GAAG,CAACpL,QAAQjD,KAAK,CAAChK,YAAlB;;EAGAqY,GAAG,CAACE,SAASC,MAAW,CAACxY,YAAzB;;EAEAqY,GAAG,CAACI,UAAUC,OAAY,CAAC1Y,YAA3B;;EAEAqY,GAAG,CAACM,cAAcC,QAAW,CAAC5Y,YAA9B;EAEA;;;;;;EAKAqY,GAAG,CAAC/H,WAAWT,QAAQ,CAAC7P,YAAxB;EAEA;;;;;;EAKAqY,GAAG,CAACvO,QAAQnB,KAAK,CAAC3I,YAAlB;EAEA;;;;;;EAKAqY,GAAG,CAACvH,YAAYX,SAAS,CAACnQ,YAA1B;EAGA;;;;;;EAKAqY,GAAG,CAAC/G,MAAMJ,GAAG,CAAClR,YAAd;EAEA;;;;;;EAKAqY,GAAG,CAACnG,WAAWP,QAAQ,CAAC3R,YAAxB;EAEA;;;;;;EAKAqY,GAAG,CAACQ,SAAS1L,MAAM,CAACnN,YAApB;EAEA;;;;;;EAKAqY,GAAG,CAACvE,YAAY1B,SAAS,CAACpS,YAA1B;EAEA;;;;;;EAKAqY,GAAG,CAACxD,YAAY,UAAChV,OAAD,EAAa;QACvBA,OAAO,CAACoU,MAAZ,EAAoB;;aAEXmB,eAAe,CAACpV,YAAhB,CAA6BH,OAA7B,CAAP;;;;WAIKkU,SAAS,CAAC/T,YAAV,CAAuBH,OAAvB,CAAP;EACD,CARD;EAUA;;;;;;;EAKAwY,GAAG,CAAChC,WAAWR,QAAQ,CAAC7V,YAAxB;EAGA5B,MAAM,CAAC0a,SAAST,GAAhB;;;;;;;;"}